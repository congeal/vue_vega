(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),u=n("84f2"),c=n("41a0"),s=n("7f20"),l=n("38fd"),f=n("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",y=function(){return this};t.exports=function(t,e,n,g,m,b,w){c(n,e,g);var x,_,O,k=function(t){if(!h&&t in E)return E[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",j=m==v,A=!1,E=t.prototype,C=E[f]||E[d]||m&&E[m],M=C||k(m),D=m?j?k("entries"):M:void 0,F="Array"==e&&E.entries||C;if(F&&(O=l(F.call(new t)),O!==Object.prototype&&O.next&&(s(O,S,!0),r||"function"==typeof O[f]||a(O,f,y))),j&&C&&C.name!==v&&(A=!0,M=function(){return C.call(this)}),r&&!w||!h&&!A&&E[f]||a(E,f,M),u[e]=M,u[S]=y,m)if(x={values:j?M:k(v),keys:b?M:k(p),entries:D},w)for(_ in x)_ in E||o(E,_,x[_]);else i(i.P+i.F*(h||A),e,x);return x}},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(o=u.charCodeAt(c),o<55296||o>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):o:t?u.slice(c,c+2):a-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"042e":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{fround:n("91ca")})},"049f":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log1p:n("d6c6")})},"04ff":function(t,e,n){var r=n("5ca1"),i=n("3ca5");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},"097d":function(t,e,n){"use strict";var r=n("5ca1"),i=n("8378"),o=n("7726"),a=n("ebd6"),u=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}})},"09fa":function(t,e,n){var r=n("4588"),i=n("9def");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),u=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,l=4==t,f=6==t,h=5==t||f,d=e||u;return function(e,u,p){for(var v,y,g=o(e),m=i(g),b=r(u,p,3),w=a(m.length),x=0,_=n?d(e,w):c?d(e,0):void 0;w>x;x++)if((h||x in m)&&(v=m[x],y=b(v,x,g),t))if(n)_[x]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:_.push(v)}else if(l)return!1;return f?-1:s||l?l:_}}},"0b21":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{sign:n("96fb")})},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d55":function(t,e,n){(function(n){function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i;e=t.exports=w,i="object"===("undefined"===typeof n?"undefined":r(n))&&Object({NODE_ENV:"production",BASE_URL:"/vue_vega/"})&&Object({NODE_ENV:"production",BASE_URL:"/vue_vega/"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",BASE_URL:"/vue_vega/"}).NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var o=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,u=16,c=e.re=[],s=e.src=[],l=e.tokens={},f=0;function h(t){l[t]=f++}h("NUMERICIDENTIFIER"),s[l.NUMERICIDENTIFIER]="0|[1-9]\\d*",h("NUMERICIDENTIFIERLOOSE"),s[l.NUMERICIDENTIFIERLOOSE]="[0-9]+",h("NONNUMERICIDENTIFIER"),s[l.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",h("MAINVERSION"),s[l.MAINVERSION]="("+s[l.NUMERICIDENTIFIER]+")\\.("+s[l.NUMERICIDENTIFIER]+")\\.("+s[l.NUMERICIDENTIFIER]+")",h("MAINVERSIONLOOSE"),s[l.MAINVERSIONLOOSE]="("+s[l.NUMERICIDENTIFIERLOOSE]+")\\.("+s[l.NUMERICIDENTIFIERLOOSE]+")\\.("+s[l.NUMERICIDENTIFIERLOOSE]+")",h("PRERELEASEIDENTIFIER"),s[l.PRERELEASEIDENTIFIER]="(?:"+s[l.NUMERICIDENTIFIER]+"|"+s[l.NONNUMERICIDENTIFIER]+")",h("PRERELEASEIDENTIFIERLOOSE"),s[l.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[l.NUMERICIDENTIFIERLOOSE]+"|"+s[l.NONNUMERICIDENTIFIER]+")",h("PRERELEASE"),s[l.PRERELEASE]="(?:-("+s[l.PRERELEASEIDENTIFIER]+"(?:\\."+s[l.PRERELEASEIDENTIFIER]+")*))",h("PRERELEASELOOSE"),s[l.PRERELEASELOOSE]="(?:-?("+s[l.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[l.PRERELEASEIDENTIFIERLOOSE]+")*))",h("BUILDIDENTIFIER"),s[l.BUILDIDENTIFIER]="[0-9A-Za-z-]+",h("BUILD"),s[l.BUILD]="(?:\\+("+s[l.BUILDIDENTIFIER]+"(?:\\."+s[l.BUILDIDENTIFIER]+")*))",h("FULL"),h("FULLPLAIN"),s[l.FULLPLAIN]="v?"+s[l.MAINVERSION]+s[l.PRERELEASE]+"?"+s[l.BUILD]+"?",s[l.FULL]="^"+s[l.FULLPLAIN]+"$",h("LOOSEPLAIN"),s[l.LOOSEPLAIN]="[v=\\s]*"+s[l.MAINVERSIONLOOSE]+s[l.PRERELEASELOOSE]+"?"+s[l.BUILD]+"?",h("LOOSE"),s[l.LOOSE]="^"+s[l.LOOSEPLAIN]+"$",h("GTLT"),s[l.GTLT]="((?:<|>)?=?)",h("XRANGEIDENTIFIERLOOSE"),s[l.XRANGEIDENTIFIERLOOSE]=s[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",h("XRANGEIDENTIFIER"),s[l.XRANGEIDENTIFIER]=s[l.NUMERICIDENTIFIER]+"|x|X|\\*",h("XRANGEPLAIN"),s[l.XRANGEPLAIN]="[v=\\s]*("+s[l.XRANGEIDENTIFIER]+")(?:\\.("+s[l.XRANGEIDENTIFIER]+")(?:\\.("+s[l.XRANGEIDENTIFIER]+")(?:"+s[l.PRERELEASE]+")?"+s[l.BUILD]+"?)?)?",h("XRANGEPLAINLOOSE"),s[l.XRANGEPLAINLOOSE]="[v=\\s]*("+s[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[l.XRANGEIDENTIFIERLOOSE]+")(?:"+s[l.PRERELEASELOOSE]+")?"+s[l.BUILD]+"?)?)?",h("XRANGE"),s[l.XRANGE]="^"+s[l.GTLT]+"\\s*"+s[l.XRANGEPLAIN]+"$",h("XRANGELOOSE"),s[l.XRANGELOOSE]="^"+s[l.GTLT]+"\\s*"+s[l.XRANGEPLAINLOOSE]+"$",h("COERCE"),s[l.COERCE]="(^|[^\\d])(\\d{1,"+u+"})(?:\\.(\\d{1,"+u+"}))?(?:\\.(\\d{1,"+u+"}))?(?:$|[^\\d])",h("COERCERTL"),c[l.COERCERTL]=new RegExp(s[l.COERCE],"g"),h("LONETILDE"),s[l.LONETILDE]="(?:~>?)",h("TILDETRIM"),s[l.TILDETRIM]="(\\s*)"+s[l.LONETILDE]+"\\s+",c[l.TILDETRIM]=new RegExp(s[l.TILDETRIM],"g");var d="$1~";h("TILDE"),s[l.TILDE]="^"+s[l.LONETILDE]+s[l.XRANGEPLAIN]+"$",h("TILDELOOSE"),s[l.TILDELOOSE]="^"+s[l.LONETILDE]+s[l.XRANGEPLAINLOOSE]+"$",h("LONECARET"),s[l.LONECARET]="(?:\\^)",h("CARETTRIM"),s[l.CARETTRIM]="(\\s*)"+s[l.LONECARET]+"\\s+",c[l.CARETTRIM]=new RegExp(s[l.CARETTRIM],"g");var p="$1^";h("CARET"),s[l.CARET]="^"+s[l.LONECARET]+s[l.XRANGEPLAIN]+"$",h("CARETLOOSE"),s[l.CARETLOOSE]="^"+s[l.LONECARET]+s[l.XRANGEPLAINLOOSE]+"$",h("COMPARATORLOOSE"),s[l.COMPARATORLOOSE]="^"+s[l.GTLT]+"\\s*("+s[l.LOOSEPLAIN]+")$|^$",h("COMPARATOR"),s[l.COMPARATOR]="^"+s[l.GTLT]+"\\s*("+s[l.FULLPLAIN]+")$|^$",h("COMPARATORTRIM"),s[l.COMPARATORTRIM]="(\\s*)"+s[l.GTLT]+"\\s*("+s[l.LOOSEPLAIN]+"|"+s[l.XRANGEPLAIN]+")",c[l.COMPARATORTRIM]=new RegExp(s[l.COMPARATORTRIM],"g");var v="$1$2$3";h("HYPHENRANGE"),s[l.HYPHENRANGE]="^\\s*("+s[l.XRANGEPLAIN]+")\\s+-\\s+("+s[l.XRANGEPLAIN]+")\\s*$",h("HYPHENRANGELOOSE"),s[l.HYPHENRANGELOOSE]="^\\s*("+s[l.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[l.XRANGEPLAINLOOSE]+")\\s*$",h("STAR"),s[l.STAR]="(<|>)?=?\\s*\\*";for(var y=0;y<f;y++)i(y,s[y]),c[y]||(c[y]=new RegExp(s[y]));function g(t,e){if(e&&"object"===r(e)||(e={loose:!!e,includePrerelease:!1}),t instanceof w)return t;if("string"!==typeof t)return null;if(t.length>o)return null;var n=e.loose?c[l.LOOSE]:c[l.FULL];if(!n.test(t))return null;try{return new w(t,e)}catch(i){return null}}function m(t,e){var n=g(t,e);return n?n.version:null}function b(t,e){var n=g(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}function w(t,e){if(e&&"object"===r(e)||(e={loose:!!e,includePrerelease:!1}),t instanceof w){if(t.loose===e.loose)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>o)throw new TypeError("version is longer than "+o+" characters");if(!(this instanceof w))return new w(t,e);i("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?c[l.LOOSE]:c[l.FULL]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<a)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}function x(t,e,n,r){"string"===typeof n&&(r=n,n=void 0);try{return new w(t,n).inc(e,r).version}catch(i){return null}}function _(t,e){if(I(t,e))return null;var n=g(t),r=g(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return i+a;return o}e.parse=g,e.valid=m,e.clean=b,e.SemVer=w,w.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},w.prototype.toString=function(){return this.version},w.prototype.compare=function(t){return i("SemVer.compare",this.version,this.options,t),t instanceof w||(t=new w(t,this.options)),this.compareMain(t)||this.comparePre(t)},w.prototype.compareMain=function(t){return t instanceof w||(t=new w(t,this.options)),k(this.major,t.major)||k(this.minor,t.minor)||k(this.patch,t.patch)},w.prototype.comparePre=function(t){if(t instanceof w||(t=new w(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(i("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return k(n,r)}while(++e)},w.prototype.compareBuild=function(t){t instanceof w||(t=new w(t,this.options));var e=0;do{var n=this.build[e],r=t.build[e];if(i("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return k(n,r)}while(++e)},w.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{var n=this.prerelease.length;while(--n>=0)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=x,e.diff=_,e.compareIdentifiers=k;var O=/^[0-9]+$/;function k(t,e){var n=O.test(t),r=O.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function S(t,e){return k(e,t)}function j(t,e){return new w(t,e).major}function A(t,e){return new w(t,e).minor}function E(t,e){return new w(t,e).patch}function C(t,e,n){return new w(t,n).compare(new w(e,n))}function M(t,e){return C(t,e,!0)}function D(t,e,n){var r=new w(t,n),i=new w(e,n);return r.compare(i)||r.compareBuild(i)}function F(t,e,n){return C(e,t,n)}function T(t,n){return t.sort((function(t,r){return e.compareBuild(t,r,n)}))}function N(t,n){return t.sort((function(t,r){return e.compareBuild(r,t,n)}))}function P(t,e,n){return C(t,e,n)>0}function R(t,e,n){return C(t,e,n)<0}function I(t,e,n){return 0===C(t,e,n)}function L(t,e,n){return 0!==C(t,e,n)}function z(t,e,n){return C(t,e,n)>=0}function B(t,e,n){return C(t,e,n)<=0}function U(t,e,n,i){switch(e){case"===":return"object"===r(t)&&(t=t.version),"object"===r(n)&&(n=n.version),t===n;case"!==":return"object"===r(t)&&(t=t.version),"object"===r(n)&&(n=n.version),t!==n;case"":case"=":case"==":return I(t,n,i);case"!=":return L(t,n,i);case">":return P(t,n,i);case">=":return z(t,n,i);case"<":return R(t,n,i);case"<=":return B(t,n,i);default:throw new TypeError("Invalid operator: "+e)}}function q(t,e){if(e&&"object"===r(e)||(e={loose:!!e,includePrerelease:!1}),t instanceof q){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof q))return new q(t,e);i("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===$?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}e.rcompareIdentifiers=S,e.major=j,e.minor=A,e.patch=E,e.compare=C,e.compareLoose=M,e.compareBuild=D,e.rcompare=F,e.sort=T,e.rsort=N,e.gt=P,e.lt=R,e.eq=I,e.neq=L,e.gte=z,e.lte=B,e.cmp=U,e.Comparator=q;var $={};function W(t,e){if(e&&"object"===r(e)||(e={loose:!!e,includePrerelease:!1}),t instanceof W)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new W(t.raw,e);if(t instanceof q)return new W(t.value,e);if(!(this instanceof W))return new W(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function H(t,e){var n=!0,r=t.slice(),i=r.pop();while(n&&r.length)n=r.every((function(t){return i.intersects(t,e)})),i=r.pop();return n}function G(t,e){return new W(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))}function X(t,e){return i("comp",t,e),t=Z(t,e),i("caret",t),t=Y(t,e),i("tildes",t),t=Q(t,e),i("xrange",t),t=et(t,e),i("stars",t),t}function V(t){return!t||"x"===t.toLowerCase()||"*"===t}function Y(t,e){return t.trim().split(/\s+/).map((function(t){return J(t,e)})).join(" ")}function J(t,e){var n=e.loose?c[l.TILDELOOSE]:c[l.TILDE];return t.replace(n,(function(e,n,r,o,a){var u;return i("tilde",t,e,n,r,o,a),V(n)?u="":V(r)?u=">="+n+".0.0 <"+(+n+1)+".0.0":V(o)?u=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":a?(i("replaceTilde pr",a),u=">="+n+"."+r+"."+o+"-"+a+" <"+n+"."+(+r+1)+".0"):u=">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0",i("tilde return",u),u}))}function Z(t,e){return t.trim().split(/\s+/).map((function(t){return K(t,e)})).join(" ")}function K(t,e){i("caret",t,e);var n=e.loose?c[l.CARETLOOSE]:c[l.CARET];return t.replace(n,(function(e,n,r,o,a){var u;return i("caret",t,e,n,r,o,a),V(n)?u="":V(r)?u=">="+n+".0.0 <"+(+n+1)+".0.0":V(o)?u="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":a?(i("replaceCaret pr",a),u="0"===n?"0"===r?">="+n+"."+r+"."+o+"-"+a+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+"-"+a+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+"-"+a+" <"+(+n+1)+".0.0"):(i("no pr"),u="0"===n?"0"===r?">="+n+"."+r+"."+o+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+" <"+(+n+1)+".0.0"),i("caret return",u),u}))}function Q(t,e){return i("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return tt(t,e)})).join(" ")}function tt(t,e){t=t.trim();var n=e.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return t.replace(n,(function(n,r,o,a,u,c){i("xRange",t,n,r,o,a,u,c);var s=V(o),l=s||V(a),f=l||V(u),h=f;return"="===r&&h&&(r=""),c=e.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(a=0),u=0,">"===r?(r=">=",l?(o=+o+1,a=0,u=0):(a=+a+1,u=0)):"<="===r&&(r="<",l?o=+o+1:a=+a+1),n=r+o+"."+a+"."+u+c):l?n=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:f&&(n=">="+o+"."+a+".0"+c+" <"+o+"."+(+a+1)+".0"+c),i("xRange return",n),n}))}function et(t,e){return i("replaceStars",t,e),t.trim().replace(c[l.STAR],"")}function nt(t,e,n,r,i,o,a,u,c,s,l,f,h){return e=V(n)?"":V(r)?">="+n+".0.0":V(i)?">="+n+"."+r+".0":">="+e,u=V(c)?"":V(s)?"<"+(+c+1)+".0.0":V(l)?"<"+c+"."+(+s+1)+".0":f?"<="+c+"."+s+"."+l+"-"+f:"<="+u,(e+" "+u).trim()}function rt(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(i(t[r].semver),t[r].semver!==$&&t[r].semver.prerelease.length>0){var o=t[r].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}function it(t,e,n){try{e=new W(e,n)}catch(r){return!1}return e.test(t)}function ot(t,e,n){var r=null,i=null;try{var o=new W(e,n)}catch(a){return null}return t.forEach((function(t){o.test(t)&&(r&&-1!==i.compare(t)||(r=t,i=new w(r,n)))})),r}function at(t,e,n){var r=null,i=null;try{var o=new W(e,n)}catch(a){return null}return t.forEach((function(t){o.test(t)&&(r&&1!==i.compare(t)||(r=t,i=new w(r,n)))})),r}function ut(t,e){t=new W(t,e);var n=new w("0.0.0");if(t.test(n))return n;if(n=new w("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach((function(t){var e=new w(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!P(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}return n&&t.test(n)?n:null}function ct(t,e){try{return new W(t,e).range||"*"}catch(n){return null}}function st(t,e,n){return ft(t,e,"<",n)}function lt(t,e,n){return ft(t,e,">",n)}function ft(t,e,n,r){var i,o,a,u,c;switch(t=new w(t,r),e=new W(e,r),n){case">":i=P,o=B,a=R,u=">",c=">=";break;case"<":i=R,o=z,a=P,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(it(t,e,r))return!1;for(var s=0;s<e.set.length;++s){var l=e.set[s],f=null,h=null;if(l.forEach((function(t){t.semver===$&&(t=new q(">=0.0.0")),f=f||t,h=h||t,i(t.semver,f.semver,r)?f=t:a(t.semver,h.semver,r)&&(h=t)})),f.operator===u||f.operator===c)return!1;if((!h.operator||h.operator===u)&&o(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0}function ht(t,e){var n=g(t,e);return n&&n.prerelease.length?n.prerelease:null}function dt(t,e,n){return t=new W(t,n),e=new W(e,n),t.intersects(e)}function pt(t,e){if(t instanceof w)return t;if("number"===typeof t&&(t=String(t)),"string"!==typeof t)return null;e=e||{};var n=null;if(e.rtl){var r;while((r=c[l.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length))n&&r.index+r[0].length===n.index+n[0].length||(n=r),c[l.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;c[l.COERCERTL].lastIndex=-1}else n=t.match(c[l.COERCE]);return null===n?null:g(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),e)}q.prototype.parse=function(t){var e=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new w(n[2],this.options.loose):this.semver=$},q.prototype.toString=function(){return this.value},q.prototype.test=function(t){if(i("Comparator.test",t,this.options.loose),this.semver===$||t===$)return!0;if("string"===typeof t)try{t=new w(t,this.options)}catch(e){return!1}return U(t,this.operator,this.semver,this.options)},q.prototype.intersects=function(t,e){if(!(t instanceof q))throw new TypeError("a Comparator is required");var n;if(e&&"object"===r(e)||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new W(t.value,e),it(this.value,n,e));if(""===t.operator)return""===t.value||(n=new W(this.value,e),it(t.semver,n,e));var i=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),o=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),a=this.semver.version===t.semver.version,u=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),c=U(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),s=U(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return i||o||a&&u||c||s},e.Range=W,W.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},W.prototype.toString=function(){return this.range},W.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];t=t.replace(n,nt),i("hyphen replace",t),t=t.replace(c[l.COMPARATORTRIM],v),i("comparator trim",t,c[l.COMPARATORTRIM]),t=t.replace(c[l.TILDETRIM],d),t=t.replace(c[l.CARETTRIM],p),t=t.split(/\s+/).join(" ");var r=e?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],o=t.split(" ").map((function(t){return X(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(t){return!!t.match(r)}))),o=o.map((function(t){return new q(t,this.options)}),this),o},W.prototype.intersects=function(t,e){if(!(t instanceof W))throw new TypeError("a Range is required");return this.set.some((function(n){return H(n,e)&&t.set.some((function(t){return H(t,e)&&n.every((function(n){return t.every((function(t){return n.intersects(t,e)}))}))}))}))},e.toComparators=G,W.prototype.test=function(t){if(!t)return!1;if("string"===typeof t)try{t=new w(t,this.options)}catch(n){return!1}for(var e=0;e<this.set.length;e++)if(rt(this.set[e],t,this.options))return!0;return!1},e.satisfies=it,e.maxSatisfying=ot,e.minSatisfying=at,e.minVersion=ut,e.validRange=ct,e.ltr=st,e.gtr=lt,e.outside=ft,e.prerelease=ht,e.intersects=dt,e.coerce=pt}).call(this,n("f28c"))},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0d6d":function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},"0f88":function(t,e,n){var r,i=n("7726"),o=n("32e9"),a=n("ca5a"),u=a("typed_array"),c=a("view"),s=!(!i.ArrayBuffer||!i.DataView),l=s,f=0,h=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(f<h)(r=i[d[f++]])?(o(r.prototype,u,!0),o(r.prototype,c,!0)):l=!1;t.exports={ABV:s,CONSTR:l,TYPED:u,VIEW:c}},"10ad":function(t,e,n){"use strict";var r,i=n("7726"),o=n("0a49")(0),a=n("2aba"),u=n("67ab"),c=n("7333"),s=n("643e"),l=n("d3f4"),f=n("b39a"),h=n("b39a"),d=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",v=u.getWeak,y=Object.isExtensible,g=s.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(l(t)){var e=v(t);return!0===e?g(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return s.def(f(this,p),t,e)}},w=t.exports=n("e0b8")(p,m,b,s,!0,!0);h&&d&&(r=s.getConstructor(m,p),c(r.prototype,b),u.NEED=!0,o(["delete","has","get","set"],(function(t){var e=w.prototype,n=e[t];a(e,t,(function(e,i){if(l(e)&&!y(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),u=n("69a8"),c=n("c69a"),s=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?s:function(t,e){if(t=o(t),e=a(e,!0),c)try{return s(t,e)}catch(n){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},"130f":function(t,e,n){var r=n("5ca1"),i=n("1991");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},1368:function(t,e,n){(function(r,i){var o,a;function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(r,i){"object"===u(e)&&"undefined"!==typeof t?t.exports=i():(o=i,a="function"===typeof o?o.call(e,n,e,t):o,void 0===a||(t.exports=a))})(0,(function(){"use strict";function t(t){var e=u(t);return null!==t&&("object"===e||"function"===e)}function e(t){return"function"===typeof t}var n=void 0;n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var o=n,a=0,c=void 0,s=void 0,l=function(t,e){O[a]=t,O[a+1]=e,a+=2,2===a&&(s?s(k):j())};function f(t){s=t}function h(t){l=t}var d="undefined"!==typeof window?window:void 0,p=d||{},v=p.MutationObserver||p.WebKitMutationObserver,y="undefined"===typeof self&&"undefined"!==typeof r&&"[object process]"==={}.toString.call(r),g="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function m(){return function(){return r.nextTick(k)}}function b(){return"undefined"!==typeof c?function(){c(k)}:_()}function w(){var t=0,e=new v(k),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function x(){var t=new MessageChannel;return t.port1.onmessage=k,function(){return t.port2.postMessage(0)}}function _(){var t=setTimeout;return function(){return t(k,1)}}var O=new Array(1e3);function k(){for(var t=0;t<a;t+=2){var e=O[t],n=O[t+1];e(n),O[t]=void 0,O[t+1]=void 0}a=0}function S(){try{var t=Function("return this")().require("vertx");return c=t.runOnLoop||t.runOnContext,b()}catch(e){return _()}}var j=void 0;function A(t,e){var n=this,r=new this.constructor(M);void 0===r[C]&&J(r);var i=n._state;if(i){var o=arguments[i-1];l((function(){return G(i,r,o,n._result)}))}else W(n,r,t,e);return r}function E(t){var e=this;if(t&&"object"===u(t)&&t.constructor===e)return t;var n=new e(M);return B(n,t),n}j=y?m():v?w():g?x():void 0===d?S():_();var C=Math.random().toString(36).substring(2);function M(){}var D=void 0,F=1,T=2;function N(){return new TypeError("You cannot resolve a promise with itself")}function P(){return new TypeError("A promises callback cannot return that same promise.")}function R(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function I(t,e,n){l((function(t){var r=!1,i=R(n,e,(function(n){r||(r=!0,e!==n?B(t,n):q(t,n))}),(function(e){r||(r=!0,$(t,e))}),"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,$(t,i))}),t)}function L(t,e){e._state===F?q(t,e._result):e._state===T?$(t,e._result):W(e,void 0,(function(e){return B(t,e)}),(function(e){return $(t,e)}))}function z(t,n,r){n.constructor===t.constructor&&r===A&&n.constructor.resolve===E?L(t,n):void 0===r?q(t,n):e(r)?I(t,n,r):q(t,n)}function B(e,n){if(e===n)$(e,N());else if(t(n)){var r=void 0;try{r=n.then}catch(i){return void $(e,i)}z(e,n,r)}else q(e,n)}function U(t){t._onerror&&t._onerror(t._result),H(t)}function q(t,e){t._state===D&&(t._result=e,t._state=F,0!==t._subscribers.length&&l(H,t))}function $(t,e){t._state===D&&(t._state=T,t._result=e,l(U,t))}function W(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+F]=n,i[o+T]=r,0===o&&t._state&&l(H,t)}function H(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?G(n,r,i,o):i(o);t._subscribers.length=0}}function G(t,n,r,i){var o=e(r),a=void 0,u=void 0,c=!0;if(o){try{a=r(i)}catch(s){c=!1,u=s}if(n===a)return void $(n,P())}else a=i;n._state!==D||(o&&c?B(n,a):!1===c?$(n,u):t===F?q(n,a):t===T&&$(n,a))}function X(t,e){try{e((function(e){B(t,e)}),(function(e){$(t,e)}))}catch(n){$(t,n)}}var V=0;function Y(){return V++}function J(t){t[C]=V++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var K=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(M),this.promise[C]||J(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&q(this.promise,this._result))):$(this.promise,Z())}return t.prototype._enumerate=function(t){for(var e=0;this._state===D&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,o=void 0,a=!1;try{i=t.then}catch(c){a=!0,o=c}if(i===A&&t._state!==D)this._settledAt(t._state,e,t._result);else if("function"!==typeof i)this._remaining--,this._result[e]=t;else if(n===it){var u=new n(M);a?$(u,o):z(u,t,i),this._willSettleAt(u,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===D&&(this._remaining--,t===T?$(r,n):this._result[e]=n),0===this._remaining&&q(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;W(t,void 0,(function(t){return n._settledAt(F,e,t)}),(function(t){return n._settledAt(T,e,t)}))},t}();function Q(t){return new K(this,t).promise}function tt(t){var e=this;return o(t)?new e((function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function et(t){var e=this,n=new e(M);return $(n,t),n}function nt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function rt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var it=function(){function t(e){this[C]=Y(),this._result=this._state=void 0,this._subscribers=[],M!==e&&("function"!==typeof e&&nt(),this instanceof t?X(this,e):rt())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();function ot(){var t=void 0;if("undefined"!==typeof i)t=i;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(r){}if("[object Promise]"===n&&!e.cast)return}t.Promise=it}return it.prototype.then=A,it.all=Q,it.race=tt,it.resolve=E,it.reject=et,it._setScheduler=f,it._setAsap=h,it._asap=l,it.polyfill=ot,it.Promise=it,it}))}).call(this,n("f28c"),n("c8ba"))},1448:function(t,e,n){"use strict";n("386b")("strike",(function(t){return function(){return t(this,"strike","","")}}))},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),u=a.length,c=0;while(u>c)r.f(t,n=a[c++],e[n]);return t}},"14b9":function(t,e,n){var r=n("5ca1");r(r.P,"String",{repeat:n("9744")})},"15ac":function(t,e,n){n("ec30")("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"165b":function(t,e,n){var r=n("d3f4");n("5eda")("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},1991:function(t,e,n){var r,i,o,a=n("9b43"),u=n("31f4"),c=n("fab2"),s=n("230e"),l=n("7726"),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},w=function(t){b.call(t.data)};h&&d||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++y]=function(){u("function"==typeof t?t:Function(t),e)},r(y),y},d=function(t){delete g[t]},"process"==n("2d95")(f)?r=function(t){f.nextTick(a(b,t,1))}:v&&v.now?r=function(t){v.now(a(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",w,!1)):r=m in s("script")?function(t){c.appendChild(s("script"))[m]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:h,clear:d}},"1c4c":function(t,e,n){"use strict";var r=n("9b43"),i=n("5ca1"),o=n("4bf8"),a=n("1fa8"),u=n("33a4"),c=n("9def"),s=n("f1ae"),l=n("27ee");i(i.S+i.F*!n("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=0,m=l(h);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&u(m))for(e=c(h.length),n=new d(e);e>g;g++)s(n,g,y?v(h[g],g):h[g]);else for(f=m.call(h),n=new d;!(i=f.next()).done;g++)s(n,g,y?a(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},"1fb5":function(t,e,n){"use strict";e.byteLength=l,e.toByteArray=h,e.fromByteArray=v;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=a.length;u<c;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function f(t,e,n){return 3*(e+n)/4-n}function h(t){var e,n,r=s(t),a=r[0],u=r[1],c=new o(f(t,a,u)),l=0,h=u>0?a-4:a;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===u&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===u&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(r));return i.join("")}function v(t){for(var e,n=t.length,i=n%3,o=[],a=16383,u=0,c=n-i;u<c;u+=a)o.push(p(t,u,u+a>c?c:u+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),a=n("be13"),u=n("2b4c"),c=n("520a"),s=u("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=u(t),d=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[s]=function(){return n}),n[h](""),!e})):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!f){var v=/./[h],y=n(a,h,""[t],(function(t,e,n,r,i){return e.exec===c?d&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=y[0],m=y[1];r(String.prototype,t,g),i(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"217b":function(t,e,n){"use strict";var r=n("d3f4"),i=n("38fd"),o=n("2b4c")("hasInstance"),a=Function.prototype;o in a||n("86cc").f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;while(t=i(t))if(this.prototype===t)return!0;return!1}})},2251:function(t,e,n){var r=n("5ca1"),i=n("cb7c"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},2397:function(t,e,n){var r=n("5ca1"),i=n("2aeb"),o=n("d8e8"),a=n("cb7c"),u=n("d3f4"),c=n("79e5"),s=n("f0c1"),l=(n("7726").Reflect||{}).construct,f=c((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),h=!c((function(){l((function(){}))}));r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var c=n.prototype,d=i(u(c)?c:Object.prototype),p=Function.apply.call(t,d,e);return u(p)?p:d}})},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},2410:function(t,e,n){(function(t,e){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r=function(){"use strict";function e(t,e){return null!=e&&t instanceof e}var r,i,o;try{r=Map}catch(h){r=function(){}}try{i=Set}catch(h){i=function(){}}try{o=Promise}catch(h){o=function(){}}function a(u,c,s,l,h){"object"===n(c)&&(s=c.depth,l=c.prototype,h=c.includeNonEnumerable,c=c.circular);var d=[],p=[],v="undefined"!=typeof t;function y(u,s){if(null===u)return null;if(0===s)return u;var g,m;if("object"!=n(u))return u;if(e(u,r))g=new r;else if(e(u,i))g=new i;else if(e(u,o))g=new o((function(t,e){u.then((function(e){t(y(e,s-1))}),(function(t){e(y(t,s-1))}))}));else if(a.__isArray(u))g=[];else if(a.__isRegExp(u))g=new RegExp(u.source,f(u)),u.lastIndex&&(g.lastIndex=u.lastIndex);else if(a.__isDate(u))g=new Date(u.getTime());else{if(v&&t.isBuffer(u))return g=t.allocUnsafe?t.allocUnsafe(u.length):new t(u.length),u.copy(g),g;e(u,Error)?g=Object.create(u):"undefined"==typeof l?(m=Object.getPrototypeOf(u),g=Object.create(m)):(g=Object.create(l),m=l)}if(c){var b=d.indexOf(u);if(-1!=b)return p[b];d.push(u),p.push(g)}for(var w in e(u,r)&&u.forEach((function(t,e){var n=y(e,s-1),r=y(t,s-1);g.set(n,r)})),e(u,i)&&u.forEach((function(t){var e=y(t,s-1);g.add(e)})),u){var x;m&&(x=Object.getOwnPropertyDescriptor(m,w)),x&&null==x.set||(g[w]=y(u[w],s-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);for(w=0;w<_.length;w++){var O=_[w],k=Object.getOwnPropertyDescriptor(u,O);(!k||k.enumerable||h)&&(g[O]=y(u[O],s-1),k.enumerable||Object.defineProperty(g,O,{enumerable:!1}))}}if(h){var S=Object.getOwnPropertyNames(u);for(w=0;w<S.length;w++){var j=S[w];k=Object.getOwnPropertyDescriptor(u,j);k&&k.enumerable||(g[j]=y(u[j],s-1),Object.defineProperty(g,j,{enumerable:!1}))}}return g}return"undefined"==typeof c&&(c=!0),"undefined"==typeof s&&(s=1/0),y(u,s)}function u(t){return Object.prototype.toString.call(t)}function c(t){return"object"===n(t)&&"[object Date]"===u(t)}function s(t){return"object"===n(t)&&"[object Array]"===u(t)}function l(t){return"object"===n(t)&&"[object RegExp]"===u(t)}function f(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return a.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},a.__objToStr=u,a.__isDate=c,a.__isArray=s,a.__isRegExp=l,a.__getRegExpFlags=f,a}();"object"===n(e)&&e.exports&&(e.exports=r)}).call(this,n("b639").Buffer,n("62e4")(t))},"242a":function(t,e,n){"use strict";n("386b")("sup",(function(t){return function(){return t(this,"sup","","")}}))},"25c9":function(t,e,n){var r=n("5ca1"),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},"25db":function(t,e,n){n("5eda")("getOwnPropertyNames",(function(){return n("7bbc").f}))},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"276f":function(t,e,n){"use strict";var r=function(t,e,n){return t.fields=e||[],t.fname=n,t};function i(t){return null==t?null:t.fname}function o(t){return null==t?null:t.fields}var a=function(t){throw Error(t)},u=function(t){var e,n,r,i=[],o=null,u=0,c=t.length,s="";function l(){i.push(s+t.substring(e,n)),s="",e=n+1}for(t+="",e=n=0;n<c;++n)if(r=t[n],"\\"===r)s+=t.substring(e,n),e=++n;else if(r===o)l(),o=null,u=-1;else{if(o)continue;e===u&&'"'===r?(e=n+1,o=r):e===u&&"'"===r?(e=n+1,o=r):"."!==r||u?"["===r?(n>e&&l(),u=e=n+1):"]"===r&&(u||a("Access path missing open bracket: "+t),u>0&&l(),u=0,e=n+1):n>e?l():e=n+1}return u&&a("Access path missing closing bracket: "+t),o&&a("Access path missing closing quote: "+t),n>e&&(n++,l()),i},c=Array.isArray,s=function(t){return t===Object(t)},l=function(t){return"string"===typeof t};function f(t){return c(t)?"["+t.map(f)+"]":s(t)||l(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}var h=function(t,e){var n=u(t),i="return _["+n.map(f).join("][")+"];";return r(Function("_",i),[t=1===n.length?n[0]:t],e||t)},d=[],p=h("id"),v=r((function(t){return t}),d,"identity"),y=r((function(){return 0}),d,"zero"),g=r((function(){return 1}),d,"one"),m=r((function(){return!0}),d,"true"),b=r((function(){return!1}),d,"false");function w(t,e,n){var r=[e].concat([].slice.call(n));console[t].apply(console,r)}var x=0,_=1,O=2,k=3,S=4,j=function(t,e){var n=t||x;return{level:function(t){return arguments.length?(n=+t,this):n},error:function(){return n>=_&&w(e||"error","ERROR",arguments),this},warn:function(){return n>=O&&w(e||"warn","WARN",arguments),this},info:function(){return n>=k&&w(e||"log","INFO",arguments),this},debug:function(){return n>=S&&w(e||"log","DEBUG",arguments),this}}},A=function(t){return t[t.length-1]},E=function(t){return null==t||""===t?null:+t};function C(t){return function(e){return t*Math.exp(e)}}function M(t){return function(e){return Math.log(t*e)}}function D(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function F(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function T(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function N(t,e,n,r){var i=n(t[0]),o=n(A(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function P(t,e){return N(t,e,E,v)}function R(t,e){var n=Math.sign(t[0]);return N(t,e,M(n),C(n))}function I(t,e,n){return N(t,e,T(n),T(1/n))}function L(t,e,n){return N(t,e,D(n),F(n))}function z(t,e,n,r,i){var o=r(t[0]),a=r(A(t)),u=null!=e?r(e):(o+a)/2;return[i(u+(o-u)*n),i(u+(a-u)*n)]}function B(t,e,n){return z(t,e,n,E,v)}function U(t,e,n){var r=Math.sign(t[0]);return z(t,e,n,M(r),C(r))}function q(t,e,n,r){return z(t,e,n,T(r),T(1/r))}function $(t,e,n,r){return z(t,e,n,D(r),F(r))}function W(t){return 1+~~(new Date(t).getMonth()/3)}function H(t){return 1+~~(new Date(t).getUTCMonth()/3)}var G=function(t){return null!=t?c(t)?t:[t]:[]},X=function(t,e,n){var r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]},V=function(t){return"function"===typeof t},Y=function(t,e){var n,i,a,c,s,l,h,d,p,v=[],y=(t=G(t)).map((function(t,e){return null==t?null:(v.push(e),V(t)?t:u(t).map(f).join("]["))})),g=v.length-1,m=G(e),b="var u,v;return ";if(g<0)return null;for(i=0;i<=g;++i)n=v[i],a=y[n],V(a)?(l="f"+n,c="(u=this."+l+"(a))",s="(v=this."+l+"(b))",(h=h||{})[l]=a):(c="(u=a["+a+"])",s="(v=b["+a+"])"),l="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==m[n]?(p=1,d=-1):(p=-1,d=1),b+="("+c+"<"+s+"||u==null)&&v!=null?"+d+":(u>v||v==null)&&u!=null?"+p+":"+l+"!==u&&v===v?"+d+":v!==v&&u===u?"+p+(n<g?":":":0");return a=Function("a","b",b+";"),h&&(a=a.bind(h)),t=t.reduce((function(t,e){return V(e)?(o(e)||[]).forEach((function(e){t[e]=1})):null!=e&&(t[e+""]=1),t}),{}),r(a,Object.keys(t))},J=function(t){return V(t)?t:function(){return t}},Z=function(t,e){var n,r;function i(){e(r),n=r=null}return function(e){r=e,n&&clearTimeout(n),n=setTimeout(i,t)}},K=function(t){for(var e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t},Q=function(t,e){var n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];null==r||r!==r;r=t[++a]);for(i=o=r;a<n;++a)r=t[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);null==r||r!==r;r=e(t[++a]));for(i=o=r;a<n;++a)r=e(t[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]},tt=function(t,e){var n,r,i,o,a,u=-1,c=t.length;if(null==e){while(++u<c)if(r=t[u],null!=r&&r>=r){n=i=r;break}o=a=u;while(++u<c)r=t[u],null!=r&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}else{while(++u<c)if(r=e(t[u],u,t),null!=r&&r>=r){n=i=r;break}o=a=u;while(++u<c)r=e(t[u],u,t),null!=r&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}return[o,a]},et=Object.prototype.hasOwnProperty,nt=function(t,e){return et.call(t,e)},rt={},it=function(t){var e,n,r={};function i(t){return nt(r,t)&&r[t]!==rt}return e={size:0,empty:0,object:r,has:i,get:function(t){return i(t)?r[t]:void 0},set:function(t,n){return i(t)||(++e.size,r[t]===rt&&--e.empty),r[t]=n,this},delete:function(t){return i(t)&&(--e.size,++e.empty,r[t]=rt),this},clear:function(){e.size=e.empty=0,e.object=r={}},test:function(t){return arguments.length?(n=t,e):n},clean:function(){var t,i,o={},a=0;for(t in r)i=r[t],i===rt||n&&n(i)||(o[t]=i,++a);e.size=a,e.empty=0,e.object=r=o}},t&&Object.keys(t).forEach((function(n){e.set(n,t[n])})),e},ot=function(t,e,n,r,i,o){if(!n&&0!==n)return o;var a,u,c=t[0],s=A(t),l=+n;return s<c&&(a=c,c=s,s=a),a=Math.abs(e-c),u=Math.abs(s-e),a<u&&a<=l?r:u<=l?i:o},at=function(t,e){var n=t.prototype=Object.create(e.prototype);return n.constructor=t,n},ut=function(t,e,n,r){var i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),n=void 0===n||n,r=void 0===r||r,(n?o<=t:o<t)&&(r?t<=a:t<a)},ct=function(t){return"boolean"===typeof t},st=function(t){return"[object Date]"===Object.prototype.toString.call(t)},lt=function(t){return"number"===typeof t},ft=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},ht=function(t,e){t&&(t=e?G(t).map((function(t){return t.replace(/\\(.)/g,"$1")})):G(t));var n=t&&t.length?Function("_","return ''+"+t.map((function(t){return"_["+(e?f(t):u(t).map(f).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return r(n,t,"key")},dt=function(t,e){var n=t[0],r=A(t),i=+e;return i?1===i?r:n+i*(r-n):n},pt=function(t,e,n,r){var i=e.length,o=n.length;if(!o)return e;if(!i)return n;for(var a=r||new e.constructor(i+o),u=0,c=0,s=0;u<i&&c<o;++s)a[s]=t(e[u],n[c])>0?n[c++]:e[u++];for(;u<i;++u,++s)a[s]=e[u];for(;c<o;++c,++s)a[s]=n[c];return a},vt=function(t,e){var n="";while(--e>=0)n+=t;return n},yt=function(t,e,n,r){var i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?vt(i,a)+o:"center"===r?vt(i,~~(a/2))+o+vt(i,Math.ceil(a/2)):o+vt(i,a)},gt=function(t){return t&&A(t)-t[0]||0},mt=function(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t};function bt(t){return lt(t)?t:st(t)?t:Date.parse(t)}var wt=function(t,e){return e=e||bt,null==t||""===t?null:e(t)},xt=function(t){return null==t||""===t?null:t+""},_t=function(t){for(var e={},n=0,r=t.length;n<r;++n)e[t[n]]=!0;return e},Ot=function(t,e,n,r){var i=null!=r?r:"…",o=t+"",a=o.length,u=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-u):"center"===n?o.slice(0,Math.ceil(u/2))+i+o.slice(a-~~(u/2)):o.slice(0,u)+i},kt=function(t,e,n){if(t){var r,i=0,o=t.length;if(e)for(;i<o;++i)(r=e(t[i]))&&n(r,i,t);else t.forEach(n)}};n.d(e,"f",(function(){return r})),n.d(e,"h",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"w",(function(){return p})),n.d(e,"x",(function(){return v})),n.d(e,"hb",(function(){return y})),n.d(e,"M",(function(){return g})),n.d(e,"eb",(function(){return m})),n.d(e,"r",(function(){return b})),n.d(e,"K",(function(){return j})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"e",(function(){return O})),n.d(e,"c",(function(){return k})),n.d(e,"a",(function(){return S})),n.d(e,"O",(function(){return P})),n.d(e,"P",(function(){return R})),n.d(e,"Q",(function(){return I})),n.d(e,"R",(function(){return L})),n.d(e,"ib",(function(){return B})),n.d(e,"jb",(function(){return U})),n.d(e,"kb",(function(){return q})),n.d(e,"lb",(function(){return $})),n.d(e,"T",(function(){return W})),n.d(e,"fb",(function(){return H})),n.d(e,"i",(function(){return G})),n.d(e,"j",(function(){return X})),n.d(e,"k",(function(){return Y})),n.d(e,"l",(function(){return J})),n.d(e,"m",(function(){return Z})),n.d(e,"n",(function(){return a})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return Q})),n.d(e,"q",(function(){return tt})),n.d(e,"s",(function(){return it})),n.d(e,"t",(function(){return h})),n.d(e,"u",(function(){return ot})),n.d(e,"v",(function(){return nt})),n.d(e,"y",(function(){return at})),n.d(e,"z",(function(){return ut})),n.d(e,"A",(function(){return c})),n.d(e,"B",(function(){return ct})),n.d(e,"C",(function(){return st})),n.d(e,"D",(function(){return V})),n.d(e,"E",(function(){return lt})),n.d(e,"F",(function(){return s})),n.d(e,"G",(function(){return ft})),n.d(e,"H",(function(){return l})),n.d(e,"I",(function(){return ht})),n.d(e,"J",(function(){return dt})),n.d(e,"L",(function(){return pt})),n.d(e,"N",(function(){return yt})),n.d(e,"S",(function(){return A})),n.d(e,"U",(function(){return vt})),n.d(e,"V",(function(){return gt})),n.d(e,"W",(function(){return u})),n.d(e,"X",(function(){return f})),n.d(e,"Y",(function(){return mt})),n.d(e,"Z",(function(){return wt})),n.d(e,"ab",(function(){return E})),n.d(e,"cb",(function(){return xt})),n.d(e,"bb",(function(){return _t})),n.d(e,"db",(function(){return Ot})),n.d(e,"gb",(function(){return kt}))},"27ee":function(t,e,n){var r=n("23c6"),i=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,u){var c,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):i&&(c=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(t,e){return c.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:s}}n.d(e,"a",(function(){return r}))},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),a=n("0390"),u=n("9def"),c=n("5f1b"),s=n("520a"),l=n("79e5"),f=Math.min,h=[].push,d="split",p="length",v="lastIndex",y=4294967295,g=!l((function(){RegExp(y,"y")}));n("214f")("split",2,(function(t,e,n,l){var m;return m="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||"."[d](/()()/)[p]>1||""[d](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var o,a,u,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?y:e>>>0,g=new RegExp(t.source,l+"g");while(o=s.call(g,i)){if(a=g[v],a>f&&(c.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&h.apply(c,o.slice(1)),u=o[0][p],f=a,c[p]>=d))break;g[v]===o.index&&g[v]++}return f===i[p]?!u&&g.test("")||c.push(""):c.push(i.slice(f)),c[p]>d?c.slice(0,d):c}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):m.call(String(i),n,r)},function(t,e){var r=l(m,t,this,e,m!==n);if(r.done)return r.value;var s=i(t),h=String(this),d=o(s,RegExp),p=s.unicode,v=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(g?"y":"g"),b=new d(g?s:"^(?:"+s.source+")",v),w=void 0===e?y:e>>>0;if(0===w)return[];if(0===h.length)return null===c(b,h)?[h]:[];var x=0,_=0,O=[];while(_<h.length){b.lastIndex=g?_:0;var k,S=c(b,g?h:h.slice(_));if(null===S||(k=f(u(b.lastIndex+(g?0:_)),h.length))===x)_=a(h,_,p);else{if(O.push(h.slice(x,_)),O.length===w)return O;for(var j=1;j<=S.length-1;j++)if(O.push(S[j]),O.length===w)return O;_=x=k}}return O.push(h.slice(x)),O}]}))},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),u=n("fa5b"),c="toString",s=(""+u).split(c);n("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||u.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),u=function(){},c="prototype",s=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),s=t.F;while(r--)delete s[c][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},"2b0e":function(t,e,n){"use strict";(function(t){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */var r=Object.freeze({});function i(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function a(t){return!0===t}function u(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===n(t)||"boolean"===typeof t}function s(t){return null!==t&&"object"===n(t)}var l=Object.prototype.toString;function f(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var m=g("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function x(t,e){return w.call(t,e)}function _(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var O=/-(\w)/g,k=_((function(t){return t.replace(O,(function(t,e){return e?e.toUpperCase():""}))})),S=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),j=/\B([A-Z])/g,A=_((function(t){return t.replace(j,"-$1").toLowerCase()}));function E(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function C(t,e){return t.bind(e)}var M=Function.prototype.bind?C:E;function D(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function F(t,e){for(var n in e)t[n]=e[n];return t}function T(t){for(var e={},n=0;n<t.length;n++)t[n]&&F(e,t[n]);return e}function N(t,e,n){}var P=function(t,e,n){return!1},R=function(t){return t};function I(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return I(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every((function(n){return I(t[n],e[n])}))}catch(c){return!1}}function L(t,e){for(var n=0;n<t.length;n++)if(I(t[n],e))return n;return-1}function z(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",U=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:N,parsePlatformTagName:R,mustUseProp:P,async:!0,_lifecycleHooks:q},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var X=new RegExp("[^"+W.source+".$_\\d]");function V(t){if(!X.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,J="__proto__"in{},Z="undefined"!==typeof window,K="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=K&&WXEnvironment.platform.toLowerCase(),tt=Z&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0,it=(tt&&tt.indexOf("android"),tt&&/iphone|ipad|ipod|ios/.test(tt)||"ios"===Q),ot=(tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt),tt&&tt.match(/firefox\/(\d+)/)),at={}.watch,ut=!1;if(Z)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ut=!0}}),window.addEventListener("test-passive",null,ct)}catch(ka){}var st=function(){return void 0===Y&&(Y=!Z&&!K&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},lt=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);ht="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=N,vt=0,yt=function(){this.id=vt++,this.subs=[]};yt.prototype.addSub=function(t){this.subs.push(t)},yt.prototype.removeSub=function(t){b(this.subs,t)},yt.prototype.depend=function(){yt.target&&yt.target.addDep(this)},yt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},yt.target=null;var gt=[];function mt(t){gt.push(t),yt.target=t}function bt(){gt.pop(),yt.target=gt[gt.length-1]}var wt=function(t,e,n,r,i,o,a,u){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},xt={child:{configurable:!0}};xt.child.get=function(){return this.componentInstance},Object.defineProperties(wt.prototype,xt);var _t=function(t){void 0===t&&(t="");var e=new wt;return e.text=t,e.isComment=!0,e};function Ot(t){return new wt(void 0,void 0,void 0,String(t))}function kt(t){var e=new wt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var St=Array.prototype,jt=Object.create(St),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach((function(t){var e=St[t];G(jt,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Et=Object.getOwnPropertyNames(jt),Ct=!0;function Mt(t){Ct=t}var Dt=function(t){this.value=t,this.dep=new yt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?(J?Ft(t,jt):Tt(t,jt,Et),this.observeArray(t)):this.walk(t)};function Ft(t,e){t.__proto__=e}function Tt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];G(t,o,e[o])}}function Nt(t,e){var n;if(s(t)&&!(t instanceof wt))return x(t,"__ob__")&&t.__ob__ instanceof Dt?n=t.__ob__:Ct&&!st()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Dt(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,r,i){var o=new yt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var u=a&&a.get,c=a&&a.set;u&&!c||2!==arguments.length||(n=t[e]);var s=!i&&Nt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return yt.target&&(o.depend(),s&&(s.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var r=u?u.call(t):n;e===r||e!==e&&r!==r||u&&!c||(c?c.call(t,e):n=e,s=!i&&Nt(e),o.notify())}})}}function Rt(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Pt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function It(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||x(t,e)&&(delete t[e],n&&n.dep.notify())}}function Lt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}Dt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},Dt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])};var zt=$.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,r,i,o=dt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],x(t,n)?r!==i&&f(r)&&f(i)&&Bt(r,i):Rt(t,n,i));return t}function Ut(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?Bt(r,i):i}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function qt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?$t(n):n}function $t(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Wt(t,e,n,r){var i=Object.create(t||null);return e?F(i,e):i}zt.data=function(t,e,n){return n?Ut(t,e,n):e&&"function"!==typeof e?t:Ut(t,e)},q.forEach((function(t){zt[t]=qt})),U.forEach((function(t){zt[t+"s"]=Wt})),zt.watch=function(t,e,n,r){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in F(i,t),e){var a=i[o],u=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(u):Array.isArray(u)?u:[u]}return i},zt.props=zt.methods=zt.inject=zt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return F(i,t),e&&F(i,e),i},zt.provide=Ut;var Ht=function(t,e){return void 0===e?t:e};function Gt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=k(i),a[o]={type:null})}else if(f(n))for(var u in n)i=n[u],o=k(u),a[o]=f(i)?i:{type:i};else 0;t.props=a}}function Xt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var a=n[o];r[o]=f(a)?F({from:o},a):{from:a}}else 0}}function Vt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Yt(t,e,n){if("function"===typeof e&&(e=e.options),Gt(e,n),Xt(e,n),Vt(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Yt(t,e.mixins[r],n);var o,a={};for(o in t)u(o);for(o in e)x(t,o)||u(o);function u(r){var i=zt[r]||Ht;a[r]=i(t[r],e[r],n,r)}return a}function Jt(t,e,n,r){if("string"===typeof n){var i=t[e];if(x(i,n))return i[n];var o=k(n);if(x(i,o))return i[o];var a=S(o);if(x(i,a))return i[a];var u=i[n]||i[o]||i[a];return u}}function Zt(t,e,n,r){var i=e[t],o=!x(n,t),a=n[t],u=ee(Boolean,i.type);if(u>-1)if(o&&!x(i,"default"))a=!1;else if(""===a||a===A(t)){var c=ee(String,i.type);(c<0||u<c)&&(a=!0)}if(void 0===a){a=Kt(r,i,t);var s=Ct;Mt(!0),Nt(a),Mt(s)}return a}function Kt(t,e,n){if(x(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Qt(e.type)?r.call(t):r}}function Qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function te(t,e){return Qt(t)===Qt(e)}function ee(t,e){if(!Array.isArray(e))return te(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(te(e[n],t))return n;return-1}function ne(t,e,n){mt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(ka){ie(ka,r,"errorCaptured hook")}}}ie(t,e,n)}finally{bt()}}function re(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return ne(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(ka){ne(ka,r,i)}return o}function ie(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(ka){ka!==t&&oe(ka,null,"config.errorHandler")}oe(t,e,n)}function oe(t,e,n){if(!Z&&!K||"undefined"===typeof console)throw t;console.error(t)}var ae,ue=!1,ce=[],se=!1;function le(){se=!1;var t=ce.slice(0);ce.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var fe=Promise.resolve();ae=function(){fe.then(le),it&&setTimeout(N)},ue=!0}else if(et||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var he=1,de=new MutationObserver(le),pe=document.createTextNode(String(he));de.observe(pe,{characterData:!0}),ae=function(){he=(he+1)%2,pe.data=String(he)},ue=!0}function ve(t,e){var n;if(ce.push((function(){if(t)try{t.call(e)}catch(ka){ne(ka,e,"nextTick")}else n&&n(e)})),se||(se=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var ye=new ht;function ge(t){me(t,ye),ye.clear()}function me(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!s(t)||Object.isFrozen(t)||t instanceof wt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)me(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)me(t[r[n]],e)}}}var be=_((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function we(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return re(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)re(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function xe(t,e,n,r,o,u){var c,s,l,f;for(c in t)s=t[c],l=e[c],f=be(c),i(s)||(i(l)?(i(s.fns)&&(s=t[c]=we(s,u)),a(f.once)&&(s=t[c]=o(f.name,s,f.capture)),n(f.name,s,f.capture,f.passive,f.params)):s!==l&&(l.fns=s,t[c]=l));for(c in e)i(t[c])&&(f=be(c),r(f.name,e[c],f.capture))}function _e(t,e,n){var r;t instanceof wt&&(t=t.data.hook||(t.data.hook={}));var u=t[e];function c(){n.apply(this,arguments),b(r.fns,c)}i(u)?r=we([c]):o(u.fns)&&a(u.merged)?(r=u,r.fns.push(c)):r=we([u,c]),r.merged=!0,t[e]=r}function Oe(t,e,n){var r=e.options.props;if(!i(r)){var a={},u=t.attrs,c=t.props;if(o(u)||o(c))for(var s in r){var l=A(s);ke(a,c,s,l,!0)||ke(a,u,s,l,!1)}return a}}function ke(t,e,n,r,i){if(o(e)){if(x(e,n))return t[n]=e[n],i||delete e[n],!0;if(x(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Se(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function je(t){return c(t)?[Ot(t)]:Array.isArray(t)?Ee(t):void 0}function Ae(t){return o(t)&&o(t.text)&&u(t.isComment)}function Ee(t,e){var n,r,u,s,l=[];for(n=0;n<t.length;n++)r=t[n],i(r)||"boolean"===typeof r||(u=l.length-1,s=l[u],Array.isArray(r)?r.length>0&&(r=Ee(r,(e||"")+"_"+n),Ae(r[0])&&Ae(s)&&(l[u]=Ot(s.text+r[0].text),r.shift()),l.push.apply(l,r)):c(r)?Ae(s)?l[u]=Ot(s.text+r):""!==r&&l.push(Ot(r)):Ae(r)&&Ae(s)?l[u]=Ot(s.text+r.text):(a(t._isVList)&&o(r.tag)&&i(r.key)&&o(e)&&(r.key="__vlist"+e+"_"+n+"__"),l.push(r)));return l}function Ce(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Me(t){var e=De(t.$options.inject,t);e&&(Mt(!1),Object.keys(e).forEach((function(n){Pt(t,n,e[n])})),Mt(!0))}function De(t,e){if(t){for(var n=Object.create(null),r=dt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,u=e;while(u){if(u._provided&&x(u._provided,a)){n[o]=u._provided[a];break}u=u.$parent}if(!u)if("default"in t[o]){var c=t[o].default;n[o]="function"===typeof c?c.call(e):c}else 0}}return n}}function Fe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var u=a.slot,c=n[u]||(n[u]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var s in n)n[s].every(Te)&&delete n[s];return n}function Te(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ne(t,e,n){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,u=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==r&&u===n.$key&&!o&&!n.$hasNormal)return n;for(var c in i={},t)t[c]&&"$"!==c[0]&&(i[c]=Pe(e,c,t[c]))}else i={};for(var s in e)s in i||(i[s]=Re(e,s));return t&&Object.isExtensible(t)&&(t._normalized=i),G(i,"$stable",a),G(i,"$key",u),G(i,"$hasNormal",o),i}function Pe(t,e,r){var i=function(){var t=arguments.length?r.apply(null,arguments):r({});return t=t&&"object"===n(t)&&!Array.isArray(t)?[t]:je(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Re(t,e){return function(){return t[e]}}function Ie(t,e){var n,r,i,a,u;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(s(t))if(dt&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,i=a.length;r<i;r++)u=a[r],n[r]=e(t[u],u,r);return o(n)||(n=[]),n._isVList=!0,n}function Le(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=F(F({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function ze(t){return Jt(this.$options,"filters",t,!0)||R}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ue(t,e,n,r,i){var o=$.keyCodes[e]||n;return i&&r&&!$.keyCodes[e]?Be(i,r):o?Be(o,t):r?A(r)!==e:void 0}function qe(t,e,n,r,i){if(n)if(s(n)){var o;Array.isArray(n)&&(n=T(n));var a=function(a){if("class"===a||"style"===a||m(a))o=t;else{var u=t.attrs&&t.attrs.type;o=r||$.mustUseProp(e,u,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=k(a),s=A(a);if(!(c in o)&&!(s in o)&&(o[a]=n[a],i)){var l=t.on||(t.on={});l["update:"+a]=function(t){n[a]=t}}};for(var u in n)a(u)}else;return t}function $e(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(r,"__static__"+t,!1),r)}function We(t,e,n){return He(t,"__once__"+e+(n?"_"+n:""),!0),t}function He(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Ge(t[r],e+"_"+r,n);else Ge(t,e,n)}function Ge(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Xe(t,e){if(e)if(f(e)){var n=t.on=t.on?F({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Ve(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Ve(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ye(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Je(t,e){return"string"===typeof t?e+t:t}function Ze(t){t._o=We,t._n=y,t._s=v,t._l=Ie,t._t=Le,t._q=I,t._i=L,t._m=$e,t._f=ze,t._k=Ue,t._b=qe,t._v=Ot,t._e=_t,t._u=Ve,t._g=Xe,t._d=Ye,t._p=Je}function Ke(t,e,n,i,o){var u,c=this,s=o.options;x(i,"_uid")?(u=Object.create(i),u._original=i):(u=i,i=i._original);var l=a(s._compiled),f=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=De(s.inject,i),this.slots=function(){return c.$slots||Ne(t.scopedSlots,c.$slots=Fe(n,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ne(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=Ne(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,e,n,r){var o=hn(u,t,e,n,r,f);return o&&!Array.isArray(o)&&(o.fnScopeId=s._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return hn(u,t,e,n,r,f)}}function Qe(t,e,n,i,a){var u=t.options,c={},s=u.props;if(o(s))for(var l in s)c[l]=Zt(l,s,e||r);else o(n.attrs)&&en(c,n.attrs),o(n.props)&&en(c,n.props);var f=new Ke(n,c,a,i,t),h=u.render.call(null,f._c,f);if(h instanceof wt)return tn(h,n,f.parent,u,f);if(Array.isArray(h)){for(var d=je(h)||[],p=new Array(d.length),v=0;v<d.length;v++)p[v]=tn(d[v],n,f.parent,u,f);return p}}function tn(t,e,n,r,i){var o=kt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function en(t,e){for(var n in e)t[k(n)]=e[n]}Ze(Ke.prototype);var nn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;nn.prepatch(n,n)}else{var r=t.componentInstance=an(t,Dn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Rn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Qn(n):Ln(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?zn(e,!0):e.$destroy())}},rn=Object.keys(nn);function on(t,e,n,r,u){if(!i(t)){var c=n.$options._base;if(s(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(i(t.cid)&&(l=t,t=_n(l,c),void 0===t))return xn(l,e,n,r,u);e=e||{},_r(t),o(e.model)&&sn(t.options,e);var f=Oe(e,t,u);if(a(t.options.functional))return Qe(t,f,e,n,r);var h=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}un(e);var p=t.options.name||u,v=new wt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:h,tag:u,children:r},l);return v}}}function an(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function un(t){for(var e=t.hook||(t.hook={}),n=0;n<rn.length;n++){var r=rn[n],i=e[r],o=nn[r];i===o||i&&i._merged||(e[r]=i?cn(o,i):o)}}function cn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function sn(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),a=i[r],u=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(u):a!==u)&&(i[r]=[u].concat(a)):i[r]=u}var ln=1,fn=2;function hn(t,e,n,r,i,o){return(Array.isArray(n)||c(n))&&(i=r,r=n,n=void 0),a(o)&&(i=fn),dn(t,e,n,r,i)}function dn(t,e,n,r,i){if(o(n)&&o(n.__ob__))return _t();if(o(n)&&o(n.is)&&(e=n.is),!e)return _t();var a,u,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===fn?r=je(r):i===ln&&(r=Se(r)),"string"===typeof e)?(u=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),a=$.isReservedTag(e)?new wt($.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(c=Jt(t.$options,"components",e))?new wt(e,n,r,void 0,void 0,t):on(c,n,t,r,e)):a=on(e,n,t,r);return Array.isArray(a)?a:o(a)?(o(u)&&pn(a,u),o(n)&&vn(n),a):_t()}function pn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var r=0,u=t.children.length;r<u;r++){var c=t.children[r];o(c.tag)&&(i(c.ns)||a(n)&&"svg"!==c.tag)&&pn(c,e,n)}}function vn(t){s(t.style)&&ge(t.style),s(t.class)&&ge(t.class)}function yn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Fe(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,n,r,i){return hn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return hn(t,e,n,r,i,!0)};var o=n&&n.data;Pt(t,"$attrs",o&&o.attrs||r,null,!0),Pt(t,"$listeners",e._parentListeners||r,null,!0)}var gn,mn=null;function bn(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return ve(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=Ne(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{mn=e,t=r.call(e._renderProxy,e.$createElement)}catch(ka){ne(ka,e,"render"),t=e._vnode}finally{mn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof wt||(t=_t()),t.parent=i,t}}function wn(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function xn(t,e,n,r,i){var o=_t();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function _n(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=mn;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var r=t.owners=[n],u=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var f=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},h=z((function(n){t.resolved=wn(n,e),u?r.length=0:f(!0)})),d=z((function(e){o(t.errorComp)&&(t.error=!0,f(!0))})),v=t(h,d);return s(v)&&(p(v)?i(t.resolved)&&v.then(h,d):p(v.component)&&(v.component.then(h,d),o(v.error)&&(t.errorComp=wn(v.error,e)),o(v.loading)&&(t.loadingComp=wn(v.loading,e),0===v.delay?t.loading=!0:c=setTimeout((function(){c=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,f(!1))}),v.delay||200)),o(v.timeout)&&(l=setTimeout((function(){l=null,i(t.resolved)&&d(null)}),v.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}function On(t){return t.isComment&&t.asyncFactory}function kn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||On(n)))return n}}function Sn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Cn(t,e)}function jn(t,e){gn.$on(t,e)}function An(t,e){gn.$off(t,e)}function En(t,e){var n=gn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Cn(t,e,n){gn=t,xe(e,n||{},jn,An,En,t),gn=void 0}function Mn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var u=a.length;while(u--)if(o=a[u],o===e||o.fn===e){a.splice(u,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?D(n):n;for(var r=D(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)re(n[o],e,r,e,i)}return e}}var Dn=null;function Fn(t){var e=Dn;return Dn=t,function(){Dn=e}}function Tn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Nn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Fn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=_t),Bn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new rr(t,r,N,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function Rn(t,e,n,i,o){var a=i.data.scopedSlots,u=t.$scopedSlots,c=!!(a&&!a.$stable||u!==r&&!u.$stable||a&&t.$scopedSlots.$key!==a.$key),s=!!(o||t.$options._renderChildren||c);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){Mt(!1);for(var l=t._props,f=t.$options._propKeys||[],h=0;h<f.length;h++){var d=f[h],p=t.$options.props;l[d]=Zt(d,p,e,t)}Mt(!0),t.$options.propsData=e}n=n||r;var v=t.$options._parentListeners;t.$options._parentListeners=n,Cn(t,n,v),s&&(t.$slots=Fe(o,i.context),t.$forceUpdate())}function In(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ln(t,e){if(e){if(t._directInactive=!1,In(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ln(t.$children[n]);Bn(t,"activated")}}function zn(t,e){if((!e||(t._directInactive=!0,!In(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)zn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){mt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)re(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),bt()}var Un=[],qn=[],$n={},Wn=!1,Hn=!1,Gn=0;function Xn(){Gn=Un.length=qn.length=0,$n={},Wn=Hn=!1}var Vn=0,Yn=Date.now;if(Z&&!et){var Jn=window.performance;Jn&&"function"===typeof Jn.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return Jn.now()})}function Zn(){var t,e;for(Vn=Yn(),Hn=!0,Un.sort((function(t,e){return t.id-e.id})),Gn=0;Gn<Un.length;Gn++)t=Un[Gn],t.before&&t.before(),e=t.id,$n[e]=null,t.run();var n=qn.slice(),r=Un.slice();Xn(),tr(n),Kn(r),lt&&$.devtools&&lt.emit("flush")}function Kn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Bn(r,"updated")}}function Qn(t){t._inactive=!1,qn.push(t)}function tr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ln(t[e],!0)}function er(t){var e=t.id;if(null==$n[e]){if($n[e]=!0,Hn){var n=Un.length-1;while(n>Gn&&Un[n].id>t.id)n--;Un.splice(n+1,0,t)}else Un.push(t);Wn||(Wn=!0,ve(Zn))}}var nr=0,rr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++nr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=V(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};rr.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(ka){if(!this.user)throw ka;ne(ka,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),bt(),this.cleanupDeps()}return t},rr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},rr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},rr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},rr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(ka){ne(ka,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},rr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},rr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},rr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ir={enumerable:!0,configurable:!0,get:N,set:N};function or(t,e,n){ir.get=function(){return this[e][n]},ir.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ir)}function ar(t){t._watchers=[];var e=t.$options;e.props&&ur(t,e.props),e.methods&&vr(t,e.methods),e.data?cr(t):Nt(t._data={},!0),e.computed&&fr(t,e.computed),e.watch&&e.watch!==at&&yr(t,e.watch)}function ur(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Mt(!1);var a=function(o){i.push(o);var a=Zt(o,e,n,t);Pt(r,o,a),o in t||or(t,"_props",o)};for(var u in e)a(u);Mt(!0)}function cr(t){var e=t.$options.data;e=t._data="function"===typeof e?sr(e,t):e||{},f(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&x(r,o)||H(o)||or(t,"_data",o)}Nt(e,!0)}function sr(t,e){mt();try{return t.call(e,e)}catch(ka){return ne(ka,e,"data()"),{}}finally{bt()}}var lr={lazy:!0};function fr(t,e){var n=t._computedWatchers=Object.create(null),r=st();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new rr(t,a||N,N,lr)),i in t||hr(t,i,o)}}function hr(t,e,n){var r=!st();"function"===typeof n?(ir.get=r?dr(e):pr(n),ir.set=N):(ir.get=n.get?r&&!1!==n.cache?dr(e):pr(n.get):N,ir.set=n.set||N),Object.defineProperty(t,e,ir)}function dr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),yt.target&&e.depend(),e.value}}function pr(t){return function(){return t.call(this,this)}}function vr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?N:M(e[n],t)}function yr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)gr(t,n,r[i]);else gr(t,n,r)}}function gr(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function mr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Rt,t.prototype.$delete=It,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return gr(r,t,e,n);n=n||{},n.user=!0;var i=new rr(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ne(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var br=0;function wr(t){t.prototype._init=function(t){var e=this;e._uid=br++,e._isVue=!0,t&&t._isComponent?xr(e,t):e.$options=Yt(_r(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Tn(e),Sn(e),yn(e),Bn(e,"beforeCreate"),Me(e),ar(e),Ce(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function xr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function _r(t){var e=t.options;if(t.super){var n=_r(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Or(t);i&&F(t.extendOptions,i),e=t.options=Yt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Or(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function kr(t){this._init(t)}function Sr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=D(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function jr(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function Ar(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Yt(n.options,t),a["super"]=n,a.options.props&&Er(a),a.options.computed&&Cr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,U.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=F({},a.options),i[r]=a,a}}function Er(t){var e=t.options.props;for(var n in e)or(t.prototype,"_props",n)}function Cr(t){var e=t.options.computed;for(var n in e)hr(t.prototype,n,e[n])}function Mr(t){U.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Dr(t){return t&&(t.Ctor.options.name||t.tag)}function Fr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Tr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var u=Dr(a.componentOptions);u&&!e(u)&&Nr(n,o,r,i)}}}function Nr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,b(n,e)}wr(kr),mr(kr),Mn(kr),Nn(kr),bn(kr);var Pr=[String,RegExp,Array],Rr={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Nr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Tr(t,(function(t){return Fr(e,t)}))})),this.$watch("exclude",(function(e){Tr(t,(function(t){return!Fr(e,t)}))}))},render:function(){var t=this.$slots.default,e=kn(t),n=e&&e.componentOptions;if(n){var r=Dr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Fr(o,r))||a&&r&&Fr(a,r))return e;var u=this,c=u.cache,s=u.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[l]?(e.componentInstance=c[l].componentInstance,b(s,l),s.push(l)):(c[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&Nr(c,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Ir={KeepAlive:Rr};function Lr(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:F,mergeOptions:Yt,defineReactive:Pt},t.set=Rt,t.delete=It,t.nextTick=ve,t.observable=function(t){return Nt(t),t},t.options=Object.create(null),U.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,F(t.options.components,Ir),Sr(t),jr(t),Ar(t),Mr(t)}Lr(kr),Object.defineProperty(kr.prototype,"$isServer",{get:st}),Object.defineProperty(kr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kr,"FunctionalRenderContext",{value:Ke}),kr.version="2.6.10";var zr=g("style,class"),Br=g("input,textarea,option,select,progress"),Ur=function(t,e,n){return"value"===n&&Br(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qr=g("contenteditable,draggable,spellcheck"),$r=g("events,caret,typing,plaintext-only"),Wr=function(t,e){return Yr(e)||"false"===e?"false":"contenteditable"===t&&$r(e)?e:"true"},Hr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Gr="http://www.w3.org/1999/xlink",Xr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Vr=function(t){return Xr(t)?t.slice(6,t.length):""},Yr=function(t){return null==t||!1===t};function Jr(t){var e=t.data,n=t,r=t;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Zr(r.data,e));while(o(n=n.parent))n&&n.data&&(e=Zr(e,n.data));return Kr(e.staticClass,e.class)}function Zr(t,e){return{staticClass:Qr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Kr(t,e){return o(t)||o(e)?Qr(t,ti(e)):""}function Qr(t,e){return t?e?t+" "+e:t:e||""}function ti(t){return Array.isArray(t)?ei(t):s(t)?ni(t):"string"===typeof t?t:""}function ei(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=ti(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ni(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ri={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ii=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),oi=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ai=function(t){return ii(t)||oi(t)};function ui(t){return oi(t)?"svg":"math"===t?"math":void 0}var ci=Object.create(null);function si(t){if(!Z)return!0;if(ai(t))return!1;if(t=t.toLowerCase(),null!=ci[t])return ci[t];var e=document.createElement(t);return t.indexOf("-")>-1?ci[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ci[t]=/HTMLUnknownElement/.test(e.toString())}var li=g("text,number,password,search,email,tel,url");function fi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hi(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function di(t,e){return document.createElementNS(ri[t],e)}function pi(t){return document.createTextNode(t)}function vi(t){return document.createComment(t)}function yi(t,e,n){t.insertBefore(e,n)}function gi(t,e){t.removeChild(e)}function mi(t,e){t.appendChild(e)}function bi(t){return t.parentNode}function wi(t){return t.nextSibling}function xi(t){return t.tagName}function _i(t,e){t.textContent=e}function Oi(t,e){t.setAttribute(e,"")}var ki=Object.freeze({createElement:hi,createElementNS:di,createTextNode:pi,createComment:vi,insertBefore:yi,removeChild:gi,appendChild:mi,parentNode:bi,nextSibling:wi,tagName:xi,setTextContent:_i,setStyleScope:Oi}),Si={create:function(t,e){ji(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ji(t,!0),ji(e))},destroy:function(t){ji(t,!0)}};function ji(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?b(a[n],i):a[n]===i&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var Ai=new wt("",{},[]),Ei=["create","activate","update","remove","destroy"];function Ci(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&Mi(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function Mi(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||li(r)&&li(i)}function Di(t,e,n){var r,i,a={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(a[i]=r);return a}function Fi(t){var e,n,r={},u=t.modules,s=t.nodeOps;for(e=0;e<Ei.length;++e)for(r[Ei[e]]=[],n=0;n<u.length;++n)o(u[n][Ei[e]])&&r[Ei[e]].push(u[n][Ei[e]]);function l(t){return new wt(s.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,e){function n(){0===--n.listeners&&h(t)}return n.listeners=e,n}function h(t){var e=s.parentNode(t);o(e)&&s.removeChild(e,t)}function d(t,e,n,r,i,u,c){if(o(t.elm)&&o(u)&&(t=u[c]=kt(t)),t.isRootInsert=!i,!p(t,e,n,r)){var l=t.data,f=t.children,h=t.tag;o(h)?(t.elm=t.ns?s.createElementNS(t.ns,h):s.createElement(h,t),_(t),b(t,f,e),o(l)&&x(t,e),m(n,t.elm,r)):a(t.isComment)?(t.elm=s.createComment(t.text),m(n,t.elm,r)):(t.elm=s.createTextNode(t.text),m(n,t.elm,r))}}function p(t,e,n,r){var i=t.data;if(o(i)){var u=o(t.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(t,!1),o(t.componentInstance))return v(t,e),m(n,t.elm,r),a(u)&&y(t,e,n,r),!0}}function v(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(x(t,e),_(t)):(ji(t),e.push(t))}function y(t,e,n,i){var a,u=t;while(u.componentInstance)if(u=u.componentInstance._vnode,o(a=u.data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ai,u);e.push(u);break}m(n,t.elm,i)}function m(t,e,n){o(t)&&(o(n)?s.parentNode(n)===t&&s.insertBefore(t,e,n):s.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&s.appendChild(t.elm,s.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function x(t,n){for(var i=0;i<r.create.length;++i)r.create[i](Ai,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(Ai,t),o(e.insert)&&n.push(t))}function _(t){var e;if(o(e=t.fnScopeId))s.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e),n=n.parent}o(e=Dn)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e)}function O(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function k(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)k(t.children[n])}function S(t,e,n,r){for(;n<=r;++n){var i=e[n];o(i)&&(o(i.tag)?(j(i),k(i)):h(i.elm))}}function j(t,e){if(o(e)||o(t.data)){var n,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=f(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&j(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else h(t.elm)}function A(t,e,n,r,a){var u,c,l,f,h=0,p=0,v=e.length-1,y=e[0],g=e[v],m=n.length-1,b=n[0],w=n[m],x=!a;while(h<=v&&p<=m)i(y)?y=e[++h]:i(g)?g=e[--v]:Ci(y,b)?(C(y,b,r,n,p),y=e[++h],b=n[++p]):Ci(g,w)?(C(g,w,r,n,m),g=e[--v],w=n[--m]):Ci(y,w)?(C(y,w,r,n,m),x&&s.insertBefore(t,y.elm,s.nextSibling(g.elm)),y=e[++h],w=n[--m]):Ci(g,b)?(C(g,b,r,n,p),x&&s.insertBefore(t,g.elm,y.elm),g=e[--v],b=n[++p]):(i(u)&&(u=Di(e,h,v)),c=o(b.key)?u[b.key]:E(b,e,h,v),i(c)?d(b,r,t,y.elm,!1,n,p):(l=e[c],Ci(l,b)?(C(l,b,r,n,p),e[c]=void 0,x&&s.insertBefore(t,l.elm,y.elm)):d(b,r,t,y.elm,!1,n,p)),b=n[++p]);h>v?(f=i(n[m+1])?null:n[m+1].elm,O(t,f,n,p,m,r)):p>m&&S(t,e,h,v)}function E(t,e,n,r){for(var i=n;i<r;i++){var a=e[i];if(o(a)&&Ci(t,a))return i}}function C(t,e,n,u,c,l){if(t!==e){o(e.elm)&&o(u)&&(e=u[c]=kt(e));var f=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?F(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,d=e.data;o(d)&&o(h=d.hook)&&o(h=h.prepatch)&&h(t,e);var p=t.children,v=e.children;if(o(d)&&w(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);o(h=d.hook)&&o(h=h.update)&&h(t,e)}i(e.text)?o(p)&&o(v)?p!==v&&A(f,p,v,n,l):o(v)?(o(t.text)&&s.setTextContent(f,""),O(f,null,v,0,v.length-1,n)):o(p)?S(f,p,0,p.length-1):o(t.text)&&s.setTextContent(f,""):t.text!==e.text&&s.setTextContent(f,e.text),o(d)&&o(h=d.hook)&&o(h=h.postpatch)&&h(t,e)}}}function M(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var D=g("attrs,class,staticClass,staticStyle,key");function F(t,e,n,r){var i,u=e.tag,c=e.data,s=e.children;if(r=r||c&&c.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(i=c.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return v(e,n),!0;if(o(u)){if(o(s))if(t.hasChildNodes())if(o(i=c)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,h=0;h<s.length;h++){if(!f||!F(f,s[h],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else b(e,s,n);if(o(c)){var d=!1;for(var p in c)if(!D(p)){d=!0,x(e,n);break}!d&&c["class"]&&ge(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,u){if(!i(e)){var c=!1,f=[];if(i(t))c=!0,d(e,f);else{var h=o(t.nodeType);if(!h&&Ci(t,e))C(t,e,f,null,null,u);else{if(h){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),a(n)&&F(t,e,f))return M(e,f,!0),t;t=l(t)}var p=t.elm,v=s.parentNode(p);if(d(e,f,p._leaveCb?null:v,s.nextSibling(p)),o(e.parent)){var y=e.parent,g=w(e);while(y){for(var m=0;m<r.destroy.length;++m)r.destroy[m](y);if(y.elm=e.elm,g){for(var b=0;b<r.create.length;++b)r.create[b](Ai,y);var x=y.data.hook.insert;if(x.merged)for(var _=1;_<x.fns.length;_++)x.fns[_]()}else ji(y);y=y.parent}}o(v)?S(v,[t],0,0):o(t.tag)&&k(t)}}return M(e,f,c),e.elm}o(t)&&k(t)}}var Ti={create:Ni,update:Ni,destroy:function(t){Ni(t,Ai)}};function Ni(t,e){(t.data.directives||e.data.directives)&&Pi(t,e)}function Pi(t,e){var n,r,i,o=t===Ai,a=e===Ai,u=Ii(t.data.directives,t.context),c=Ii(e.data.directives,e.context),s=[],l=[];for(n in c)r=u[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,zi(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(zi(i,"bind",e,t),i.def&&i.def.inserted&&s.push(i));if(s.length){var f=function(){for(var n=0;n<s.length;n++)zi(s[n],"inserted",e,t)};o?_e(e,"insert",f):f()}if(l.length&&_e(e,"postpatch",(function(){for(var n=0;n<l.length;n++)zi(l[n],"componentUpdated",e,t)})),!o)for(n in u)c[n]||zi(u[n],"unbind",t,t,a)}var Ri=Object.create(null);function Ii(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Ri),i[Li(r)]=r,r.def=Jt(e.$options,"directives",r.name,!0);return i}function Li(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function zi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(ka){ne(ka,n.context,"directive "+t.name+" "+e+" hook")}}var Bi=[Si,Ti];function Ui(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var r,a,u,c=e.elm,s=t.data.attrs||{},l=e.data.attrs||{};for(r in o(l.__ob__)&&(l=e.data.attrs=F({},l)),l)a=l[r],u=s[r],u!==a&&qi(c,r,a);for(r in(et||rt)&&l.value!==s.value&&qi(c,"value",l.value),s)i(l[r])&&(Xr(r)?c.removeAttributeNS(Gr,Vr(r)):qr(r)||c.removeAttribute(r))}}function qi(t,e,n){t.tagName.indexOf("-")>-1?$i(t,e,n):Hr(e)?Yr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):qr(e)?t.setAttribute(e,Wr(e,n)):Xr(e)?Yr(n)?t.removeAttributeNS(Gr,Vr(e)):t.setAttributeNS(Gr,e,n):$i(t,e,n)}function $i(t,e,n){if(Yr(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function e(n){n.stopImmediatePropagation(),t.removeEventListener("input",e)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Wi={create:Ui,update:Ui};function Hi(t,e){var n=e.elm,r=e.data,a=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var u=Jr(e),c=n._transitionClasses;o(c)&&(u=Qr(u,ti(c))),u!==n._prevClass&&(n.setAttribute("class",u),n._prevClass=u)}}var Gi,Xi={create:Hi,update:Hi},Vi="__r",Yi="__c";function Ji(t){if(o(t[Vi])){var e=et?"change":"input";t[e]=[].concat(t[Vi],t[e]||[]),delete t[Vi]}o(t[Yi])&&(t.change=[].concat(t[Yi],t.change||[]),delete t[Yi])}function Zi(t,e,n){var r=Gi;return function i(){var o=e.apply(null,arguments);null!==o&&to(t,i,n,r)}}var Ki=ue&&!(ot&&Number(ot[1])<=53);function Qi(t,e,n,r){if(Ki){var i=Vn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Gi.addEventListener(t,e,ut?{capture:n,passive:r}:n)}function to(t,e,n,r){(r||Gi).removeEventListener(t,e._wrapper||e,n)}function eo(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Gi=e.elm,Ji(n),xe(n,r,Qi,to,Zi,e.context),Gi=void 0}}var no,ro={create:eo,update:eo};function io(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,a=e.elm,u=t.data.domProps||{},c=e.data.domProps||{};for(n in o(c.__ob__)&&(c=e.data.domProps=F({},c)),u)n in c||(a[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===u[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var s=i(r)?"":String(r);oo(a,s)&&(a.value=s)}else if("innerHTML"===n&&oi(a.tagName)&&i(a.innerHTML)){no=no||document.createElement("div"),no.innerHTML="<svg>"+r+"</svg>";var l=no.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(r!==u[n])try{a[n]=r}catch(ka){}}}}function oo(t,e){return!t.composing&&("OPTION"===t.tagName||ao(t,e)||uo(t,e))}function ao(t,e){var n=!0;try{n=document.activeElement!==t}catch(ka){}return n&&t.value!==e}function uo(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return y(n)!==y(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var co={create:io,update:io},so=_((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function lo(t){var e=fo(t.style);return t.staticStyle?F(t.staticStyle,e):e}function fo(t){return Array.isArray(t)?T(t):"string"===typeof t?so(t):t}function ho(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=lo(i.data))&&F(r,n)}(n=lo(t.data))&&F(r,n);var o=t;while(o=o.parent)o.data&&(n=lo(o.data))&&F(r,n);return r}var po,vo=/^--/,yo=/\s*!important$/,go=function(t,e,n){if(vo.test(e))t.style.setProperty(e,n);else if(yo.test(n))t.style.setProperty(A(e),n.replace(yo,""),"important");else{var r=bo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},mo=["Webkit","Moz","ms"],bo=_((function(t){if(po=po||document.createElement("div").style,t=k(t),"filter"!==t&&t in po)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mo.length;n++){var r=mo[n]+e;if(r in po)return r}}));function wo(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var a,u,c=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},f=s||l,h=fo(e.data.style)||{};e.data.normalizedStyle=o(h.__ob__)?F({},h):h;var d=ho(e,!0);for(u in f)i(d[u])&&go(c,u,"");for(u in d)a=d[u],a!==f[u]&&go(c,u,null==a?"":a)}}var xo={create:wo,update:wo},_o=/\s+/;function Oo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(_o).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ko(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(_o).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function So(t){if(t){if("object"===n(t)){var e={};return!1!==t.css&&F(e,jo(t.name||"v")),F(e,t),e}return"string"===typeof t?jo(t):void 0}}var jo=_((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ao=Z&&!nt,Eo="transition",Co="animation",Mo="transition",Do="transitionend",Fo="animation",To="animationend";Ao&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Mo="WebkitTransition",Do="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Fo="WebkitAnimation",To="webkitAnimationEnd"));var No=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Po(t){No((function(){No(t)}))}function Ro(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Oo(t,e))}function Io(t,e){t._transitionClasses&&b(t._transitionClasses,e),ko(t,e)}function Lo(t,e,n){var r=Bo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var u=i===Eo?Do:To,c=0,s=function(){t.removeEventListener(u,l),n()},l=function(e){e.target===t&&++c>=a&&s()};setTimeout((function(){c<a&&s()}),o+1),t.addEventListener(u,l)}var zo=/\b(transform|all)(,|$)/;function Bo(t,e){var n,r=window.getComputedStyle(t),i=(r[Mo+"Delay"]||"").split(", "),o=(r[Mo+"Duration"]||"").split(", "),a=Uo(i,o),u=(r[Fo+"Delay"]||"").split(", "),c=(r[Fo+"Duration"]||"").split(", "),s=Uo(u,c),l=0,f=0;e===Eo?a>0&&(n=Eo,l=a,f=o.length):e===Co?s>0&&(n=Co,l=s,f=c.length):(l=Math.max(a,s),n=l>0?a>s?Eo:Co:null,f=n?n===Eo?o.length:c.length:0);var h=n===Eo&&zo.test(r[Mo+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:h}}function Uo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return qo(e)+qo(t[n])})))}function qo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function $o(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=So(t.data.transition);if(!i(r)&&!o(n._enterCb)&&1===n.nodeType){var a=r.css,u=r.type,c=r.enterClass,l=r.enterToClass,f=r.enterActiveClass,h=r.appearClass,d=r.appearToClass,p=r.appearActiveClass,v=r.beforeEnter,g=r.enter,m=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,x=r.appear,_=r.afterAppear,O=r.appearCancelled,k=r.duration,S=Dn,j=Dn.$vnode;while(j&&j.parent)S=j.context,j=j.parent;var A=!S._isMounted||!t.isRootInsert;if(!A||x||""===x){var E=A&&h?h:c,C=A&&p?p:f,M=A&&d?d:l,D=A&&w||v,F=A&&"function"===typeof x?x:g,T=A&&_||m,N=A&&O||b,P=y(s(k)?k.enter:k);0;var R=!1!==a&&!nt,I=Go(F),L=n._enterCb=z((function(){R&&(Io(n,M),Io(n,C)),L.cancelled?(R&&Io(n,E),N&&N(n)):T&&T(n),n._enterCb=null}));t.data.show||_e(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),F&&F(n,L)})),D&&D(n),R&&(Ro(n,E),Ro(n,C),Po((function(){Io(n,E),L.cancelled||(Ro(n,M),I||(Ho(P)?setTimeout(L,P):Lo(n,u,L)))}))),t.data.show&&(e&&e(),F&&F(n,L)),R||I||L()}}}function Wo(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=So(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var a=r.css,u=r.type,c=r.leaveClass,l=r.leaveToClass,f=r.leaveActiveClass,h=r.beforeLeave,d=r.leave,p=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,m=r.duration,b=!1!==a&&!nt,w=Go(d),x=y(s(m)?m.leave:m);0;var _=n._leaveCb=z((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Io(n,l),Io(n,f)),_.cancelled?(b&&Io(n,c),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(O):O()}function O(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),b&&(Ro(n,c),Ro(n,f),Po((function(){Io(n,c),_.cancelled||(Ro(n,l),w||(Ho(x)?setTimeout(_,x):Lo(n,u,_)))}))),d&&d(n,_),b||w||_())}}function Ho(t){return"number"===typeof t&&!isNaN(t)}function Go(t){if(i(t))return!1;var e=t.fns;return o(e)?Go(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Xo(t,e){!0!==e.data.show&&$o(e)}var Vo=Z?{create:Xo,activate:Xo,remove:function(t,e){!0!==t.data.show?Wo(t,e):e()}}:{},Yo=[Wi,Xi,ro,co,xo,Vo],Jo=Yo.concat(Bi),Zo=Fi({nodeOps:ki,modules:Jo});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&oa(t,"input")}));var Ko={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?_e(n,"postpatch",(function(){Ko.componentUpdated(t,e,n)})):Qo(t,e,n.context),t._vOptions=[].map.call(t.options,na)):("textarea"===n.tag||li(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ra),t.addEventListener("compositionend",ia),t.addEventListener("change",ia),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Qo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,na);if(i.some((function(t,e){return!I(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ea(t,i)})):e.value!==e.oldValue&&ea(e.value,i);o&&oa(t,"change")}}}};function Qo(t,e,n){ta(t,e,n),(et||rt)&&setTimeout((function(){ta(t,e,n)}),0)}function ta(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,u=0,c=t.options.length;u<c;u++)if(a=t.options[u],i)o=L(r,na(a))>-1,a.selected!==o&&(a.selected=o);else if(I(na(a),r))return void(t.selectedIndex!==u&&(t.selectedIndex=u));i||(t.selectedIndex=-1)}}function ea(t,e){return e.every((function(e){return!I(e,t)}))}function na(t){return"_value"in t?t._value:t.value}function ra(t){t.target.composing=!0}function ia(t){t.target.composing&&(t.target.composing=!1,oa(t.target,"input"))}function oa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function aa(t){return!t.componentInstance||t.data&&t.data.transition?t:aa(t.componentInstance._vnode)}var ua={bind:function(t,e,n){var r=e.value;n=aa(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,$o(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=aa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?$o(n,(function(){t.style.display=t.__vOriginalDisplay})):Wo(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},ca={model:Ko,show:ua},sa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function la(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?la(kn(e.children)):t}function fa(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[k(o)]=i[o];return e}function ha(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function da(t){while(t=t.parent)if(t.data.transition)return!0}function pa(t,e){return e.key===t.key&&e.tag===t.tag}var va=function(t){return t.tag||On(t)},ya=function(t){return"show"===t.name},ga={name:"transition",props:sa,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(va),n.length)){0;var r=this.mode;0;var i=n[0];if(da(this.$vnode))return i;var o=la(i);if(!o)return i;if(this._leaving)return ha(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:c(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=fa(this),s=this._vnode,l=la(s);if(o.data.directives&&o.data.directives.some(ya)&&(o.data.show=!0),l&&l.data&&!pa(o,l)&&!On(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=F({},u);if("out-in"===r)return this._leaving=!0,_e(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ha(t,i);if("in-out"===r){if(On(o))return s;var h,d=function(){h()};_e(u,"afterEnter",d),_e(u,"enterCancelled",d),_e(f,"delayLeave",(function(t){h=t}))}}return i}}},ma=F({tag:String,moveClass:String},sa);delete ma.mode;var ba={props:ma,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Fn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=fa(this),u=0;u<i.length;u++){var c=i[u];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var s=[],l=[],f=0;f<r.length;f++){var h=r[f];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?s.push(h):l.push(h)}this.kept=t(e,null,s),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wa),t.forEach(xa),t.forEach(_a),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Ro(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Do,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Do,t),n._moveCb=null,Io(n,e))})}})))},methods:{hasMove:function(t,e){if(!Ao)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ko(n,t)})),Oo(n,e),n.style.display="none",this.$el.appendChild(n);var r=Bo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function wa(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function xa(t){t.data.newPos=t.elm.getBoundingClientRect()}function _a(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Oa={Transition:ga,TransitionGroup:ba};kr.config.mustUseProp=Ur,kr.config.isReservedTag=ai,kr.config.isReservedAttr=zr,kr.config.getTagNamespace=ui,kr.config.isUnknownElement=si,F(kr.options.directives,ca),F(kr.options.components,Oa),kr.prototype.__patch__=Z?Zo:N,kr.prototype.$mount=function(t,e){return t=t&&Z?fi(t):void 0,Pn(this,t,e)},Z&&setTimeout((function(){$.devtools&&lt&&lt.emit("init",kr)}),0),e["a"]=kr}).call(this,n("c8ba"))},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},"2d00":function(t,e){t.exports=!1},"2d34":function(t,e,n){var r=n("5ca1"),i=n("38fd"),o=n("cb7c");r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},"2d5c":function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2e08":function(t,e,n){var r=n("9def"),i=n("9744"),o=n("be13");t.exports=function(t,e,n,a){var u=String(o(t)),c=u.length,s=void 0===n?" ":String(n),l=r(e);if(l<=c||""==s)return u;var f=l-c,h=i.call(s,Math.ceil(f/s.length));return h.length>f&&(h=h.slice(0,f)),a?h+u:u+h}},"2e37":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32d7":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"33a4":function(t,e,n){var r=n("84f2"),i=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},"34ef":function(t,e,n){n("ec30")("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:i(c,n);while(s>u)e[u++]=t;return e}},"37c8":function(t,e,n){e.f=n("2b4c")},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var r=n("5ca1"),i=n("79e5"),o=n("be13"),a=/"/g,u=function(t,e,n,r){var i=String(o(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),u+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(u),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},"386d":function(t,e,n){"use strict";var r=n("cb7c"),i=n("83a1"),o=n("5f1b");n("214f")("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this),s=u.lastIndex;i(s,0)||(u.lastIndex=0);var l=o(u,c);return i(u.lastIndex,s)||(u.lastIndex=s),null===l?-1:l.index}]}))},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"3a72":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("2d00"),a=n("37c8"),u=n("86cc").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},"3b2b":function(t,e,n){var r=n("7726"),i=n("5dbc"),o=n("86cc").f,a=n("9093").f,u=n("aae3"),c=n("0bfb"),s=r.RegExp,l=s,f=s.prototype,h=/a/g,d=/a/g,p=new s(h)!==h;if(n("9e1e")&&(!p||n("79e5")((function(){return d[n("2b4c")("match")]=!1,s(h)!=h||s(d)==d||"/a/i"!=s(h,"i")})))){s=function(t,e){var n=this instanceof s,r=u(t),o=void 0===e;return!n&&r&&t.constructor===s&&o?t:i(p?new l(r&&!o?t.source:t,e):l((r=t instanceof s)?t.source:t,r&&o?c.call(t):e),n?this:f,s)};for(var v=function(t){t in s||o(s,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=a(l),g=0;y.length>g;)v(y[g++]);f.constructor=s,s.prototype=f,n("2aba")(r,"RegExp",s)}n("7a56")("RegExp")},"3c4e":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=function(t){return o(t)&&!a(t)};function o(t){return!!t&&"object"===r(t)}function a(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||s(t)}var u="function"===typeof Symbol&&Symbol.for,c=u?Symbol.for("react.element"):60103;function s(t){return t.$$typeof===c}function l(t){return Array.isArray(t)?[]:{}}function f(t,e){return!1!==e.clone&&e.isMergeableObject(t)?g(l(t),t,e):t}function h(t,e,n){return t.concat(e).map((function(t){return f(t,n)}))}function d(t,e){if(!e.customMerge)return g;var n=e.customMerge(t);return"function"===typeof n?n:g}function p(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}function v(t){return Object.keys(t).concat(p(t))}function y(t,e,n){var r={};return n.isMergeableObject(t)&&v(t).forEach((function(e){r[e]=f(t[e],n)})),v(e).forEach((function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=d(i,n)(t[i],e[i],n):r[i]=f(e[i],n)})),r}function g(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||h,n.isMergeableObject=n.isMergeableObject||i;var r=Array.isArray(e),o=Array.isArray(t),a=r===o;return a?r?n.arrayMerge(t,e,n):y(t,e,n):f(e,n)}g.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return g(t,n,e)}),{})};var m=g;t.exports=m},"3ca5":function(t,e,n){var r=n("7726").parseInt,i=n("aa77").trim,o=n("fdef"),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},4504:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("d8e8"),a=n("86cc");n("9e1e")&&r(r.P+n("c5b4"),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4795:function(t,e,n){var r=n("7726"),i=n("5ca1"),o=n("a25f"),a=[].slice,u=/MSIE .\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},"48c0":function(t,e,n){"use strict";n("386b")("bold",(function(t){return function(){return t(this,"b","","")}}))},4917:function(t,e,n){"use strict";var r=n("cb7c"),i=n("9def"),o=n("0390"),a=n("5f1b");n("214f")("match",1,(function(t,e,n,u){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=u(n,t,this);if(e.done)return e.value;var c=r(t),s=String(this);if(!c.global)return a(c,s);var l=c.unicode;c.lastIndex=0;var f,h=[],d=0;while(null!==(f=a(c,s))){var p=String(f[0]);h[d]=p,""===p&&(c.lastIndex=o(s,i(c.lastIndex),l)),d++}return 0===d?null:h}]}))},"4a59":function(t,e,n){var r=n("9b43"),i=n("1fa8"),o=n("33a4"),a=n("cb7c"),u=n("9def"),c=n("27ee"),s={},l={};e=t.exports=function(t,e,n,f,h){var d,p,v,y,g=h?function(){return t}:c(t),m=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=u(t.length);d>b;b++)if(y=e?m(a(p=t[b])[0],p[1]):m(t[b]),y===s||y===l)return y}else for(v=g.call(t);!(p=v.next()).done;)if(y=i(v,m,p.value,e),y===s||y===l)return y};e.BREAK=s,e.RETURN=l},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4dda":function(t,e,n){n("ec30")("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"4f7f":function(t,e,n){"use strict";var r=n("c26b"),i=n("b39a"),o="Set";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},"504c":function(t,e,n){var r=n("9e1e"),i=n("0d58"),o=n("6821"),a=n("52a7").f;t.exports=function(t){return function(e){var n,u=o(e),c=i(u),s=c.length,l=0,f=[];while(s>l)n=c[l++],r&&!a.call(u,n)||f.push(t?[n,u[n]]:u[n]);return f}}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,u="lastIndex",c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[u]||0!==e[u]}(),s=void 0!==/()??/.exec("")[1],l=c||s;l&&(a=function(t){var e,n,a,l,f=this;return s&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),c&&(e=f[u]),a=i.call(f,t),c&&a&&(f[u]=f.global?a.index+a[0].length:e),s&&a&&a.length>1&&o.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"536b":function(t,e,n){var r=n("5ca1"),i=Math.asinh;function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:o})},"551c":function(t,e,n){"use strict";var r,i,o,a,u=n("2d00"),c=n("7726"),s=n("9b43"),l=n("23c6"),f=n("5ca1"),h=n("d3f4"),d=n("d8e8"),p=n("f605"),v=n("4a59"),y=n("ebd6"),g=n("1991").set,m=n("8079")(),b=n("a5b8"),w=n("9c80"),x=n("a25f"),_=n("bcaa"),O="Promise",k=c.TypeError,S=c.process,j=S&&S.versions,A=j&&j.v8||"",E=c[O],C="process"==l(S),M=function(){},D=i=b.f,F=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(M,M)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),T=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;m((function(){var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,u=i?e.ok:e.fail,c=e.resolve,s=e.reject,l=e.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),a=!0)),n===e.promise?s(k("Promise-chain cycle")):(o=T(n))?o.call(n,c,s):c(n)):s(r)}catch(f){l&&!a&&l.exit(),s(f)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)}))}},P=function(t){g.call(c,(function(){var e,n,r,i=t._v,o=R(t);if(o&&(e=w((function(){C?S.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){g.call(c,(function(){var e;C?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},L=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},z=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(n=T(e))?m((function(){var i={_w:r,_d:!1};try{n.call(e,s(t,i,1),s(L,i,1))}catch(o){L.call(i,o)}})):(r._v=e,r._s=1,N(r,!1))}catch(i){L.call({_w:r,_d:!1},i)}}};F||(E=function(t){p(this,E,O,"_h"),d(t),r.call(this);try{t(s(z,this,1),s(L,this,1))}catch(e){L.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(E.prototype,{then:function(t,e){var n=D(y(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=s(z,t,1),this.reject=s(L,t,1)},b.f=D=function(t){return t===E||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!F,{Promise:E}),n("7f20")(E,O),n("7a56")(O),a=n("8378")[O],f(f.S+f.F*!F,O,{reject:function(t){var e=D(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(u||!F),O,{resolve:function(t){return _(u&&this===a?E:this,t)}}),f(f.S+f.F*!(F&&n("5cc5")((function(t){E.all(t)["catch"](M)}))),O,{all:function(t){var e=this,n=D(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var u=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[u]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=D(e),r=n.reject,i=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),a=n("79e5"),u=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n("2f21")(u)),"Array",{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},5695:function(t,e,n){var r=n("5ca1"),i=n("77f1"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){var e,n=[],r=arguments.length,a=0;while(r>a){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},"57f0":function(t,e,n){var r=n("d3f4");n("5eda")("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),u=n("9b43"),c="prototype",s=function t(e,n,s){var l,f,h,d,p=e&t.F,v=e&t.G,y=e&t.S,g=e&t.P,m=e&t.B,b=v?r:y?r[n]||(r[n]={}):(r[n]||{})[c],w=v?i:i[n]||(i[n]={}),x=w[c]||(w[c]={});for(l in v&&(s=n),s)f=!p&&b&&void 0!==b[l],h=(f?b:s)[l],d=m&&f?u(h,r):g&&"function"==typeof h?u(Function.call,h):h,b&&a(b,l,h,e&t.U),w[l]!=h&&o(w,l,d),g&&x[l]!=h&&(x[l]=h)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:n=!0}},o[r]=function(){return u},t(o)}catch(a){}return n}},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5df2":function(t,e,n){var r=n("5ca1"),i=n("d752");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"5f1b":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==r(a))throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"63d9":function(t,e,n){n("ec30")("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"643e":function(t,e,n){"use strict";var r=n("dcbc"),i=n("67ab").getWeak,o=n("cb7c"),a=n("d3f4"),u=n("f605"),c=n("4a59"),s=n("0a49"),l=n("69a8"),f=n("b39a"),h=s(5),d=s(6),p=0,v=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return h(t.a,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var s=t((function(t,r){u(t,s,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)}));return r(s.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e))["delete"](t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&l(n,this._i)}}),s},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},"64d5":function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("6a99"),a=n("38fd"),u=n("11e9").f;n("9e1e")&&r(r.P+n("c5b4"),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=u(n,r))return e.set}while(n=a(n))}})},6582:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=/("(?:[^\\"]|\\.)*")|[:,]/g;t.exports=function(t,e){var n,o,a;return e=e||{},n=JSON.stringify([1],void 0,void 0===e.indent?2:e.indent).slice(2,-3),o=""===n?1/0:void 0===e.maxLength?80:e.maxLength,a=e.replacer,function t(e,u,c){var s,l,f,h,d,p,v,y,g,m,b,w;if(e&&"function"===typeof e.toJSON&&(e=e.toJSON()),b=JSON.stringify(e,a),void 0===b)return b;if(v=o-u.length-c,b.length<=v&&(g=b.replace(i,(function(t,e){return e||t+" "})),g.length<=v))return g;if(null!=a&&(e=JSON.parse(b),a=void 0),"object"===r(e)&&null!==e){if(y=u+n,f=[],l=0,Array.isArray(e))for(m="[",s="]",v=e.length;l<v;l++)f.push(t(e[l],y,l===v-1?0:1)||"null");else for(m="{",s="}",p=Object.keys(e),v=p.length;l<v;l++)h=p[l],d=JSON.stringify(h)+": ",w=t(e[h],y,d.length+(l===v-1?0:1)),void 0!==w&&f.push(d+w);if(f.length>0)return[m,n+f.join(",\n"+y),s].join("\n"+u)}return b}(t,"",0)}},"66c8":function(t,e,n){var r=n("d3f4");n("5eda")("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},"673e":function(t,e,n){"use strict";n("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67ab":function(t,e,n){function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=n("ca5a")("meta"),o=n("d3f4"),a=n("69a8"),u=n("86cc").f,c=0,s=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return s(Object.preventExtensions({}))})),f=function(t){u(t,i,{value:{i:"O"+ ++c,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[i].i},d=function(t,e){if(!a(t,i)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[i].w},p=function(t){return l&&v.NEED&&s(t)&&!a(t,i)&&f(t),t},v=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"694b":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=Array.isArray,o=Object.keys,a=Object.prototype.hasOwnProperty;t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==r(e)&&"object"==r(n)){var u,c,s,l=i(e),f=i(n);if(l&&f){if(c=e.length,c!=n.length)return!1;for(u=c;0!==u--;)if(!t(e[u],n[u]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=n instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==n.getTime();var p=e instanceof RegExp,v=n instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==n.toString();var y=o(e);if(c=y.length,c!==o(n).length)return!1;for(u=c;0!==u--;)if(!a.call(n,y[u]))return!1;for(u=c;0!==u--;)if(s=y[u],!t(e[s],n[s]))return!1;return!0}return e!==e&&n!==n}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6aa2":function(t,e,n){n("ec30")("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a="toString",u=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):u.name!=a&&c((function(){return u.call(this)}))},"6c1a":function(t,e,n){var r=n("5ca1"),i=n("2d5c"),o=Math.exp;r(r.S+r.F*n("79e5")((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},"6c37":function(t,e,n){"use strict";n("386b")("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},7333:function(t,e,n){"use strict";var r=n("9e1e"),i=n("0d58"),o=n("2621"),a=n("52a7"),u=n("4bf8"),c=n("626a"),s=Object.assign;t.exports=!s||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r}))?function(t,e){var n=u(t),s=arguments.length,l=1,f=o.f,h=a.f;while(s>l){var d,p=c(arguments[l++]),v=f?i(p).concat(f(p)):i(p),y=v.length,g=0;while(y>g)d=v[g++],r&&!h.call(p,d)||(n[d]=p[d])}return n}:s},"744f":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{copyWithin:n("ba92")}),n("9c6c")("copyWithin")},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},7872:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"788d":function(t,e,n){var r=n("5ca1"),i=n("6821"),o=n("9def");r(r.S,"String",{raw:function(t){var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],u=0;while(n>u)a.push(String(e[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},"7ad3":function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"aggregate",(function(){return Xu})),n.d(r,"bin",(function(){return Ju})),n.d(r,"collect",(function(){return Qu})),n.d(r,"compare",(function(){return ec})),n.d(r,"countpattern",(function(){return rc})),n.d(r,"cross",(function(){return ac})),n.d(r,"density",(function(){return vc})),n.d(r,"expression",(function(){return wc})),n.d(r,"extent",(function(){return _c})),n.d(r,"facet",(function(){return jc})),n.d(r,"field",(function(){return Ec})),n.d(r,"filter",(function(){return Mc})),n.d(r,"flatten",(function(){return Tc})),n.d(r,"fold",(function(){return Pc})),n.d(r,"formula",(function(){return Ic})),n.d(r,"generate",(function(){return zc})),n.d(r,"impute",(function(){return Gc})),n.d(r,"joinaggregate",(function(){return Zc})),n.d(r,"kde",(function(){return Qc})),n.d(r,"key",(function(){return ns})),n.d(r,"load",(function(){return is})),n.d(r,"lookup",(function(){return us})),n.d(r,"multiextent",(function(){return ss})),n.d(r,"multivalues",(function(){return fs})),n.d(r,"params",(function(){return ds})),n.d(r,"pivot",(function(){return ps})),n.d(r,"prefacet",(function(){return bs})),n.d(r,"project",(function(){return xs})),n.d(r,"proxy",(function(){return ks})),n.d(r,"relay",(function(){return js})),n.d(r,"sample",(function(){return Es})),n.d(r,"sequence",(function(){return Ds})),n.d(r,"sieve",(function(){return Ts})),n.d(r,"subflow",(function(){return kc})),n.d(r,"tupleindex",(function(){return Ps})),n.d(r,"values",(function(){return Is})),n.d(r,"window",(function(){return Vs}));var i={};n.r(i),n.d(i,"bound",(function(){return cg})),n.d(i,"identifier",(function(){return hg})),n.d(i,"mark",(function(){return vg})),n.d(i,"overlap",(function(){return mg})),n.d(i,"render",(function(){return Ag})),n.d(i,"viewlayout",(function(){return sm}));var o={};n.r(o),n.d(o,"interpolate",(function(){return _x})),n.d(o,"interpolateArray",(function(){return ux})),n.d(o,"interpolateBasis",(function(){return Yw})),n.d(o,"interpolateBasisClosed",(function(){return Jw})),n.d(o,"interpolateDate",(function(){return cx})),n.d(o,"interpolateDiscrete",(function(){return Ox})),n.d(o,"interpolateHue",(function(){return kx})),n.d(o,"interpolateNumber",(function(){return sx})),n.d(o,"interpolateObject",(function(){return fx})),n.d(o,"interpolateRound",(function(){return Sx})),n.d(o,"interpolateString",(function(){return yx})),n.d(o,"interpolateTransformCss",(function(){return Fx})),n.d(o,"interpolateTransformSvg",(function(){return Tx})),n.d(o,"interpolateZoom",(function(){return Ux})),n.d(o,"interpolateRgb",(function(){return rx})),n.d(o,"interpolateRgbBasis",(function(){return ox})),n.d(o,"interpolateRgbBasisClosed",(function(){return ax})),n.d(o,"interpolateHsl",(function(){return $x})),n.d(o,"interpolateHslLong",(function(){return Wx})),n.d(o,"interpolateLab",(function(){return Hx})),n.d(o,"interpolateHcl",(function(){return Xx})),n.d(o,"interpolateHclLong",(function(){return Vx})),n.d(o,"interpolateCubehelix",(function(){return Jx})),n.d(o,"interpolateCubehelixLong",(function(){return Zx})),n.d(o,"piecewise",(function(){return Kx})),n.d(o,"quantize",(function(){return Qx}));var a={};n.r(a),n.d(a,"axisticks",(function(){return VO})),n.d(a,"datajoin",(function(){return JO})),n.d(a,"encode",(function(){return tk})),n.d(a,"legendentries",(function(){return xk})),n.d(a,"linkpath",(function(){return Ek})),n.d(a,"pie",(function(){return $k})),n.d(a,"scale",(function(){return Yk})),n.d(a,"sortitems",(function(){return sS})),n.d(a,"stack",(function(){return vS})),n.d(a,"validTicks",(function(){return UO}));var u={};n.r(u),n.d(u,"contour",(function(){return nj})),n.d(u,"geojson",(function(){return cj})),n.d(u,"geopath",(function(){return sD})),n.d(u,"geopoint",(function(){return hD})),n.d(u,"geoshape",(function(){return pD})),n.d(u,"graticule",(function(){return gD})),n.d(u,"projection",(function(){return bD}));var c={};n.r(c),n.d(c,"force",(function(){return GF}));var s={};n.r(s),n.d(s,"nest",(function(){return SN})),n.d(s,"pack",(function(){return PN})),n.d(s,"partition",(function(){return LN})),n.d(s,"stratify",(function(){return BN})),n.d(s,"tree",(function(){return WN})),n.d(s,"treelinks",(function(){return GN})),n.d(s,"treemap",(function(){return JN}));var l={};n.r(l),n.d(l,"loess",(function(){return QN})),n.d(l,"regression",(function(){return rP}));var f={};n.r(f),n.d(f,"voronoi",(function(){return ZP}));var h={};n.r(h),n.d(h,"wordcloud",(function(){return yR}));var d={};n.r(d),n.d(d,"crossfilter",(function(){return MR})),n.d(d,"resolvefilter",(function(){return FR}));var p={};n.r(p),n.d(p,"version",(function(){return NR["a"]})),n.d(p,"Dataflow",(function(){return Ca})),n.d(p,"EventStream",(function(){return Qe})),n.d(p,"Parameters",(function(){return Be})),n.d(p,"Pulse",(function(){return ra})),n.d(p,"MultiPulse",(function(){return ca})),n.d(p,"Operator",(function(){return Xe})),n.d(p,"Transform",(function(){return Fa})),n.d(p,"changeset",(function(){return Le})),n.d(p,"ingest",(function(){return Fe})),n.d(p,"isTuple",(function(){return Ce})),n.d(p,"definition",(function(){return Pa})),n.d(p,"transform",(function(){return Ra})),n.d(p,"transforms",(function(){return Na})),n.d(p,"tupleid",(function(){return Me})),n.d(p,"scale",(function(){return kO})),n.d(p,"scheme",(function(){return zO})),n.d(p,"interpolate",(function(){return FO})),n.d(p,"interpolateColors",(function(){return CO})),n.d(p,"interpolateRange",(function(){return EO})),n.d(p,"timeInterval",(function(){return qm})),n.d(p,"quantizeInterpolator",(function(){return MO})),n.d(p,"projection",(function(){return oD})),n.d(p,"View",(function(){return Lq})),n.d(p,"expressionFunction",(function(){return PU})),n.d(p,"formatLocale",(function(){return Ab})),n.d(p,"timeFormatLocale",(function(){return Oo})),n.d(p,"parse",(function(){return uV})),n.d(p,"runtime",(function(){return sq})),n.d(p,"runtimeContext",(function(){return dq})),n.d(p,"bin",(function(){return Xa})),n.d(p,"bootstrapCI",(function(){return iu})),n.d(p,"quartiles",(function(){return ou})),n.d(p,"random",(function(){return Ja})),n.d(p,"setRandom",(function(){return Za})),n.d(p,"randomLCG",(function(){return au})),n.d(p,"randomInteger",(function(){return uu})),n.d(p,"randomKDE",(function(){return lu})),n.d(p,"randomMixture",(function(){return hu})),n.d(p,"randomNormal",(function(){return cu})),n.d(p,"randomUniform",(function(){return du})),n.d(p,"regressionLinear",(function(){return mu})),n.d(p,"regressionLog",(function(){return bu})),n.d(p,"regressionExp",(function(){return wu})),n.d(p,"regressionPow",(function(){return xu})),n.d(p,"regressionQuad",(function(){return _u})),n.d(p,"regressionPoly",(function(){return Au})),n.d(p,"regressionLoess",(function(){return Lu})),n.d(p,"sampleCurve",(function(){return $u})),n.d(p,"accessor",(function(){return xe["f"]})),n.d(p,"accessorName",(function(){return xe["h"]})),n.d(p,"accessorFields",(function(){return xe["g"]})),n.d(p,"id",(function(){return xe["w"]})),n.d(p,"identity",(function(){return xe["x"]})),n.d(p,"zero",(function(){return xe["hb"]})),n.d(p,"one",(function(){return xe["M"]})),n.d(p,"truthy",(function(){return xe["eb"]})),n.d(p,"falsy",(function(){return xe["r"]})),n.d(p,"logger",(function(){return xe["K"]})),n.d(p,"None",(function(){return xe["d"]})),n.d(p,"Error",(function(){return xe["b"]})),n.d(p,"Warn",(function(){return xe["e"]})),n.d(p,"Info",(function(){return xe["c"]})),n.d(p,"Debug",(function(){return xe["a"]})),n.d(p,"panLinear",(function(){return xe["O"]})),n.d(p,"panLog",(function(){return xe["P"]})),n.d(p,"panPow",(function(){return xe["Q"]})),n.d(p,"panSymlog",(function(){return xe["R"]})),n.d(p,"zoomLinear",(function(){return xe["ib"]})),n.d(p,"zoomLog",(function(){return xe["jb"]})),n.d(p,"zoomPow",(function(){return xe["kb"]})),n.d(p,"zoomSymlog",(function(){return xe["lb"]})),n.d(p,"quarter",(function(){return xe["T"]})),n.d(p,"utcquarter",(function(){return xe["fb"]})),n.d(p,"array",(function(){return xe["i"]})),n.d(p,"clampRange",(function(){return xe["j"]})),n.d(p,"compare",(function(){return xe["k"]})),n.d(p,"constant",(function(){return xe["l"]})),n.d(p,"debounce",(function(){return xe["m"]})),n.d(p,"error",(function(){return xe["n"]})),n.d(p,"extend",(function(){return xe["o"]})),n.d(p,"extent",(function(){return xe["p"]})),n.d(p,"extentIndex",(function(){return xe["q"]})),n.d(p,"fastmap",(function(){return xe["s"]})),n.d(p,"field",(function(){return xe["t"]})),n.d(p,"flush",(function(){return xe["u"]})),n.d(p,"hasOwnProperty",(function(){return xe["v"]})),n.d(p,"inherits",(function(){return xe["y"]})),n.d(p,"inrange",(function(){return xe["z"]})),n.d(p,"isArray",(function(){return xe["A"]})),n.d(p,"isBoolean",(function(){return xe["B"]})),n.d(p,"isDate",(function(){return xe["C"]})),n.d(p,"isFunction",(function(){return xe["D"]})),n.d(p,"isNumber",(function(){return xe["E"]})),n.d(p,"isObject",(function(){return xe["F"]})),n.d(p,"isRegExp",(function(){return xe["G"]})),n.d(p,"isString",(function(){return xe["H"]})),n.d(p,"key",(function(){return xe["I"]})),n.d(p,"lerp",(function(){return xe["J"]})),n.d(p,"merge",(function(){return xe["L"]})),n.d(p,"pad",(function(){return xe["N"]})),n.d(p,"peek",(function(){return xe["S"]})),n.d(p,"repeat",(function(){return xe["U"]})),n.d(p,"span",(function(){return xe["V"]})),n.d(p,"splitAccessPath",(function(){return xe["W"]})),n.d(p,"stringValue",(function(){return xe["X"]})),n.d(p,"toBoolean",(function(){return xe["Y"]})),n.d(p,"toDate",(function(){return xe["Z"]})),n.d(p,"toNumber",(function(){return xe["ab"]})),n.d(p,"toString",(function(){return xe["cb"]})),n.d(p,"toSet",(function(){return xe["bb"]})),n.d(p,"truncate",(function(){return xe["db"]})),n.d(p,"visitArray",(function(){return xe["gb"]})),n.d(p,"loader",(function(){return Co})),n.d(p,"read",(function(){return Ao})),n.d(p,"inferType",(function(){return kn})),n.d(p,"inferTypes",(function(){return Sn})),n.d(p,"typeParsers",(function(){return xn})),n.d(p,"format",(function(){return ar})),n.d(p,"formats",(function(){return ur})),n.d(p,"responseType",(function(){return cr})),n.d(p,"Bounds",(function(){return Rl})),n.d(p,"Gradient",(function(){return $l})),n.d(p,"GroupItem",(function(){return Hl})),n.d(p,"ResourceLoader",(function(){return Vl})),n.d(p,"Item",(function(){return Wl})),n.d(p,"Scenegraph",(function(){return Tv})),n.d(p,"Handler",(function(){return $v})),n.d(p,"Renderer",(function(){return Gv})),n.d(p,"CanvasHandler",(function(){return Kv})),n.d(p,"CanvasRenderer",(function(){return ay})),n.d(p,"SVGHandler",(function(){return hy})),n.d(p,"SVGRenderer",(function(){return xy})),n.d(p,"SVGStringRenderer",(function(){return Ry})),n.d(p,"RenderType",(function(){return Xy})),n.d(p,"renderModule",(function(){return Yy})),n.d(p,"intersect",(function(){return Jy})),n.d(p,"Marks",(function(){return Sv})),n.d(p,"boundClip",(function(){return ng})),n.d(p,"boundContext",(function(){return Rd})),n.d(p,"boundStroke",(function(){return Nd})),n.d(p,"boundItem",(function(){return jv})),n.d(p,"boundMark",(function(){return Ev})),n.d(p,"pathCurves",(function(){return Eh})),n.d(p,"pathSymbols",(function(){return Xh})),n.d(p,"pathRectangle",(function(){return ed})),n.d(p,"pathTrail",(function(){return nd})),n.d(p,"pathParse",(function(){return Dh})),n.d(p,"pathRender",(function(){return $h})),n.d(p,"point",(function(){return Uv})),n.d(p,"domCreate",(function(){return Rv})),n.d(p,"domFind",(function(){return Iv})),n.d(p,"domChild",(function(){return Lv})),n.d(p,"domClear",(function(){return zv})),n.d(p,"openTag",(function(){return vy})),n.d(p,"closeTag",(function(){return yy})),n.d(p,"font",(function(){return dv})),n.d(p,"fontFamily",(function(){return hv})),n.d(p,"fontSize",(function(){return cv})),n.d(p,"textMetrics",(function(){return rv})),n.d(p,"resetSVGClipId",(function(){return bp})),n.d(p,"sceneEqual",(function(){return og})),n.d(p,"pathEqual",(function(){return ag})),n.d(p,"sceneToJSON",(function(){return Mv})),n.d(p,"sceneFromJSON",(function(){return Dv})),n.d(p,"intersectPath",(function(){return Ud})),n.d(p,"intersectPoint",(function(){return qd})),n.d(p,"intersectRule",(function(){return Wd})),n.d(p,"intersectBoxLine",(function(){return Hd})),n.d(p,"sceneZOrder",(function(){return Kd})),n.d(p,"sceneVisit",(function(){return Qd})),n.d(p,"scenePickVisit",(function(){return tp}));var v={};n.r(v),n.d(v,"invalidSpec",(function(){return fZ})),n.d(v,"FIT_NON_SINGLE",(function(){return hZ})),n.d(v,"droppingFit",(function(){return dZ})),n.d(v,"cannotProjectOnChannelWithoutField",(function(){return pZ})),n.d(v,"nearestNotSupportForContinuous",(function(){return vZ})),n.d(v,"selectionNotSupported",(function(){return yZ})),n.d(v,"selectionNotFound",(function(){return gZ})),n.d(v,"SCALE_BINDINGS_CONTINUOUS",(function(){return mZ})),n.d(v,"noSuchRepeatedValue",(function(){return bZ})),n.d(v,"columnsNotSupportByRowCol",(function(){return wZ})),n.d(v,"CONCAT_CANNOT_SHARE_AXIS",(function(){return xZ})),n.d(v,"REPEAT_CANNOT_SHARE_AXIS",(function(){return _Z})),n.d(v,"unrecognizedParse",(function(){return OZ})),n.d(v,"differentParse",(function(){return kZ})),n.d(v,"invalidTransformIgnored",(function(){return SZ})),n.d(v,"NO_FIELDS_NEEDS_AS",(function(){return jZ})),n.d(v,"encodingOverridden",(function(){return AZ})),n.d(v,"projectionOverridden",(function(){return EZ})),n.d(v,"primitiveChannelDef",(function(){return CZ})),n.d(v,"invalidFieldType",(function(){return MZ})),n.d(v,"nonZeroScaleUsedWithLengthMark",(function(){return DZ})),n.d(v,"invalidFieldTypeForCountAggregate",(function(){return FZ})),n.d(v,"invalidAggregate",(function(){return TZ})),n.d(v,"missingFieldType",(function(){return NZ})),n.d(v,"droppingColor",(function(){return PZ})),n.d(v,"emptyFieldDef",(function(){return RZ})),n.d(v,"latLongDeprecated",(function(){return IZ})),n.d(v,"LINE_WITH_VARYING_SIZE",(function(){return LZ})),n.d(v,"incompatibleChannel",(function(){return zZ})),n.d(v,"invalidEncodingChannel",(function(){return BZ})),n.d(v,"facetChannelShouldBeDiscrete",(function(){return UZ})),n.d(v,"facetChannelDropped",(function(){return qZ})),n.d(v,"discreteChannelCannotEncode",(function(){return $Z})),n.d(v,"lineWithRange",(function(){return WZ})),n.d(v,"orientOverridden",(function(){return HZ})),n.d(v,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return GZ})),n.d(v,"RANGE_STEP_DEPRECATED",(function(){return XZ})),n.d(v,"cannotUseScalePropertyWithNonColor",(function(){return VZ})),n.d(v,"unaggregateDomainHasNoEffectForRawField",(function(){return YZ})),n.d(v,"unaggregateDomainWithNonSharedDomainOp",(function(){return JZ})),n.d(v,"unaggregatedDomainWithLogScale",(function(){return ZZ})),n.d(v,"cannotApplySizeToNonOrientedMark",(function(){return KZ})),n.d(v,"scaleTypeNotWorkWithChannel",(function(){return QZ})),n.d(v,"scaleTypeNotWorkWithFieldDef",(function(){return tK})),n.d(v,"scalePropertyNotWorkWithScaleType",(function(){return eK})),n.d(v,"scaleTypeNotWorkWithMark",(function(){return nK})),n.d(v,"stepDropped",(function(){return rK})),n.d(v,"mergeConflictingProperty",(function(){return iK})),n.d(v,"mergeConflictingDomainProperty",(function(){return oK})),n.d(v,"independentScaleMeansIndependentGuide",(function(){return aK})),n.d(v,"domainSortDropped",(function(){return uK})),n.d(v,"UNABLE_TO_MERGE_DOMAINS",(function(){return cK})),n.d(v,"MORE_THAN_ONE_SORT",(function(){return sK})),n.d(v,"INVALID_CHANNEL_FOR_AXIS",(function(){return lK})),n.d(v,"cannotStackRangedMark",(function(){return fK})),n.d(v,"cannotStackNonLinearScale",(function(){return hK})),n.d(v,"stackNonSummativeAggregate",(function(){return dK})),n.d(v,"invalidTimeUnit",(function(){return pK})),n.d(v,"dayReplacedWithDate",(function(){return vK})),n.d(v,"droppedDay",(function(){return yK})),n.d(v,"errorBarCenterAndExtentAreNotNeeded",(function(){return gK})),n.d(v,"errorBarCenterIsUsedWithWrongExtent",(function(){return mK})),n.d(v,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return bK})),n.d(v,"errorBarCenterIsNotNeeded",(function(){return wK})),n.d(v,"errorBand1DNotSupport",(function(){return xK})),n.d(v,"channelRequiredForBinned",(function(){return _K})),n.d(v,"domainRequiredForThresholdScale",(function(){return OK}));var y={};n.r(y),n.d(y,"symbols",(function(){return L7})),n.d(y,"gradient",(function(){return z7})),n.d(y,"labels",(function(){return B7})),n.d(y,"getFirstConditionValue",(function(){return q7}));var g={};n.r(g),n.d(g,"compile",(function(){return Xft})),n.d(g,"extractTransforms",(function(){return fht})),n.d(g,"normalize",(function(){return Q3})),n.d(g,"version",(function(){return hht}));var m={};n.r(m),n.d(m,"dark",(function(){return bht})),n.d(m,"excel",(function(){return _ht})),n.d(m,"fivethirtyeight",(function(){return Mht})),n.d(m,"ggplot2",(function(){return Tht})),n.d(m,"latimes",(function(){return Hht})),n.d(m,"quartz",(function(){return Yht})),n.d(m,"vox",(function(){return Kht})),n.d(m,"version",(function(){return Qht}));var b=n("a34a"),w=n.n(b);function x(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function _(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function u(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,u)}c((r=r.apply(t,e||[])).next())}))}var O="http://www.w3.org/1999/xhtml",k={svg:"http://www.w3.org/2000/svg",xhtml:O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),k.hasOwnProperty(e)?{space:k[e],local:t}:t};function j(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===O&&e.documentElement.namespaceURI===O?e.createElement(t):e.createElementNS(n,t)}}function A(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var E=function(t){var e=S(t);return(e.local?A:j)(e)};function C(){}var M=function(t){return null==t?C:function(){return this.querySelector(t)}},D=function(t){"function"!==typeof t&&(t=M(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new le(r,this._parents)};function F(){return[]}var T=function(t){return null==t?F:function(){return this.querySelectorAll(t)}},N=function(t){"function"!==typeof t&&(t=T(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new le(r,i)},P=function(t){return function(){return this.matches(t)}},R=function(t){"function"!==typeof t&&(t=P(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new le(r,this._parents)},I=function(t){return new Array(t.length)},L=function(){return new le(this._enter||this._groups.map(I),this._parents)};function z(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}z.prototype={constructor:z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var B=function(t){return function(){return t}},U="$";function q(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new z(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function $(t,e,n,r,i,o,a){var u,c,s,l={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=U+a.call(c,c.__data__,u,e),s in l?i[u]=c:l[s]=c);for(u=0;u<h;++u)s=U+a.call(t,o[u],u,o),(c=l[s])?(r[u]=c,c.__data__=o[u],l[s]=null):n[u]=new z(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l[d[u]]===c&&(i[u]=c)}var W=function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var n=e?$:q,r=this._parents,i=this._groups;"function"!==typeof t&&(t=B(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=t.call(l,l&&l.__data__,s,r),p=d.length,v=u[s]=new Array(p),y=a[s]=new Array(p),g=c[s]=new Array(h);n(l,f,v,y,g,d,e);for(var m,b,w=0,x=0;w<p;++w)if(m=v[w]){w>=x&&(x=w+1);while(!(b=y[x])&&++x<p);m._next=b||null}}return a=new le(a,r),a._enter=u,a._exit=c,a},H=function(){return new le(this._exit||this._groups.map(I),this._parents)},G=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},X=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new le(a,this._parents)},V=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},Y=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=J);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new le(i,this._parents).order()};function J(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Z=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},K=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},Q=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},tt=function(){var t=0;return this.each((function(){++t})),t},et=function(){return!this.node()},nt=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this};function rt(t){return function(){this.removeAttribute(t)}}function it(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ot(t,e){return function(){this.setAttribute(t,e)}}function at(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ut(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ct(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var st=function(t,e){var n=S(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?it:rt:"function"===typeof e?n.local?ct:ut:n.local?at:ot)(n,e))},lt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ft(t){return function(){this.style.removeProperty(t)}}function ht(t,e,n){return function(){this.style.setProperty(t,e,n)}}function dt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var pt=function(t,e,n){return arguments.length>1?this.each((null==e?ft:"function"===typeof e?dt:ht)(t,e,null==n?"":n)):vt(this.node(),t)};function vt(t,e){return t.style.getPropertyValue(e)||lt(t).getComputedStyle(t,null).getPropertyValue(e)}function yt(t){return function(){delete this[t]}}function gt(t,e){return function(){this[t]=e}}function mt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var bt=function(t,e){return arguments.length>1?this.each((null==e?yt:"function"===typeof e?mt:gt)(t,e)):this.node()[t]};function wt(t){return t.trim().split(/^|\s+/)}function xt(t){return t.classList||new _t(t)}function _t(t){this._node=t,this._names=wt(t.getAttribute("class")||"")}function Ot(t,e){var n=xt(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function kt(t,e){var n=xt(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function St(t){return function(){Ot(this,t)}}function jt(t){return function(){kt(this,t)}}function At(t,e){return function(){(e.apply(this,arguments)?Ot:kt)(this,t)}}_t.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Et=function(t,e){var n=wt(t+"");if(arguments.length<2){var r=xt(this.node()),i=-1,o=n.length;while(++i<o)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?At:e?St:jt)(n,e))};function Ct(){this.textContent=""}function Mt(t){return function(){this.textContent=t}}function Dt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var Ft=function(t){return arguments.length?this.each(null==t?Ct:("function"===typeof t?Dt:Mt)(t)):this.node().textContent};function Tt(){this.innerHTML=""}function Nt(t){return function(){this.innerHTML=t}}function Pt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Rt=function(t){return arguments.length?this.each(null==t?Tt:("function"===typeof t?Pt:Nt)(t)):this.node().innerHTML};function It(){this.nextSibling&&this.parentNode.appendChild(this)}var Lt=function(){return this.each(It)};function zt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Bt=function(){return this.each(zt)},Ut=function(t){var e="function"===typeof t?t:E(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function qt(){return null}var $t=function(t,e){var n="function"===typeof t?t:E(t),r=null==e?qt:"function"===typeof e?e:M(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function Wt(){var t=this.parentNode;t&&t.removeChild(this)}var Ht=function(){return this.each(Wt)};function Gt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Xt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Vt=function(t){return this.select(t?Xt:Gt)},Yt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Jt={},Zt=null;if("undefined"!==typeof document){var Kt=document.documentElement;"onmouseenter"in Kt||(Jt={mouseenter:"mouseover",mouseleave:"mouseout"})}function Qt(t,e,n){return t=te(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function te(t,e,n){return function(r){var i=Zt;Zt=r;try{t.call(this,this.__data__,e,n)}finally{Zt=i}}}function ee(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ne(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function re(t,e,n){var r=Jt.hasOwnProperty(t.type)?Qt:te;return function(i,o,a){var u,c=this.__on,s=r(e,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((u=c[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=n),void(u.value=e);this.addEventListener(t.type,s,n),u={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(u):this.__on=[u]}}var ie=function(t,e,n){var r,i,o=ee(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?re:ne,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value};function oe(t,e,n){var r=lt(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ae(t,e){return function(){return oe(this,t,e)}}function ue(t,e){return function(){return oe(this,t,e.apply(this,arguments))}}var ce=function(t,e){return this.each(("function"===typeof e?ue:ae)(t,e))},se=[null];function le(t,e){this._groups=t,this._parents=e}function fe(){return new le([[document.documentElement]],se)}le.prototype=fe.prototype={constructor:le,select:D,selectAll:N,filter:R,data:W,enter:L,exit:H,join:G,merge:X,order:V,sort:Y,call:Z,nodes:K,node:Q,size:tt,empty:et,each:nt,attr:st,style:pt,property:bt,classed:Et,text:Ft,html:Rt,raise:Lt,lower:Bt,append:Ut,insert:$t,remove:Ht,clone:Vt,datum:Yt,on:ie,dispatch:ce};var he=function(t){return"string"===typeof t?new le([[document.querySelector(t)]],[document.documentElement]):new le([[t]],se)},de=0;function pe(){return new ve}function ve(){this._="@"+(++de).toString(36)}ve.prototype=pe.prototype={constructor:ve,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ye=n("3c4e"),ge=n.n(ye),me=n("6582"),be=n.n(me),we=n("0d55"),xe=n("276f");function _e(t){var e=t||xe["x"],n=[],r={};return n.add=function(t){var i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=function(t){var i,o=e(t);return r[o]&&(r[o]=0,(i=n.indexOf(t))>=0&&n.splice(i,1)),n},n}function Oe(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function ke(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Oe(o,r,i,a,u,"next",t)}function u(t){Oe(o,r,i,a,u,"throw",t)}a(void 0)}))}}var Se=function(t,e){return je.apply(this,arguments)};function je(){return je=ke(w.a.mark((function t(e,n){return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),je.apply(this,arguments)}var Ae=Symbol("vega_id"),Ee=1;function Ce(t){return!(!t||!Me(t))}function Me(t){return t[Ae]}function De(t,e){return t[Ae]=e,t}function Fe(t){var e=t===Object(t)?t:{data:t};return Me(e)?e:De(e,Ee++)}function Te(t){return Ne(t,Fe({}))}function Ne(t,e){for(var n in t)e[n]=t[n];return e}function Pe(t,e){return De(e,Me(t))}function Re(t,e){return t?e?function(n,r){return t(n,r)||Me(e(n))-Me(e(r))}:function(e,n){return t(e,n)||Me(e)-Me(n)}:null}function Ie(t){return t&&t.constructor===Le}function Le(){var t=[],e=[],n=[],r=[],i=[],o=!1;return{constructor:Le,insert:function(e){for(var n=Object(xe["i"])(e),r=0,i=n.length;r<i;++r)t.push(n[r]);return this},remove:function(t){for(var n=Object(xe["D"])(t)?r:e,i=Object(xe["i"])(t),o=0,a=i.length;o<a;++o)n.push(i[o]);return this},modify:function(t,e,r){var o={field:e,value:Object(xe["l"])(r)};return Object(xe["D"])(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode:function(t,e){return Object(xe["D"])(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},reflow:function(){return o=!0,this},pulse:function(a,u){var c,s,l,f,h,d,p={},v={};for(c=0,s=u.length;c<s;++c)p[Me(u[c])]=1;for(c=0,s=e.length;c<s;++c)h=e[c],p[Me(h)]=-1;for(c=0,s=r.length;c<s;++c)f=r[c],u.forEach((function(t){f(t)&&(p[Me(t)]=-1)}));for(c=0,s=t.length;c<s;++c)h=t[c],d=Me(h),p[d]?p[d]=1:a.add.push(Fe(t[c]));for(c=0,s=u.length;c<s;++c)h=u[c],p[Me(h)]<0&&a.rem.push(h);function y(t,e,n){n?t[e]=n(t):a.encode=e,o||(v[Me(t)]=t)}for(c=0,s=n.length;c<s;++c)l=n[c],h=l.tuple,f=l.field,d=p[Me(h)],d>0&&(y(h,f,l.value),a.modifies(f));for(c=0,s=i.length;c<s;++c)l=i[c],f=l.filter,u.forEach((function(t){f(t)&&p[Me(t)]>0&&y(t,l.field,l.value)})),a.modifies(l.field);if(o)a.mod=e.length||r.length?u.filter((function(t){return p[Me(t)]>0})):u.slice();else for(d in v)a.mod.push(v[d]);return a}}}var ze="_:mod:_";function Be(){Object.defineProperty(this,ze,{writable:!0,value:{}})}var Ue=Be.prototype;Ue.set=function(t,e,n,r){var i=this,o=i[t],a=i[ze];return null!=e&&e>=0?(o[e]!==n||r)&&(o[e]=n,a[e+":"+t]=-1,a[t]=-1):(o!==n||r)&&(i[t]=n,a[t]=Object(xe["A"])(n)?1+n.length:-1),i},Ue.modified=function(t,e){var n,r=this[ze];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Object(xe["A"])(t)){for(n=0;n<t.length;++n)if(r[t[n]])return!0;return!1}return null!=e&&e>=0?e+1<r[t]||!!r[e+":"+t]:!!r[t]},Ue.clear=function(){return this[ze]={},this};var qe=0,$e="pulse",We=new Be,He=1,Ge=2;function Xe(t,e,n,r){this.id=++qe,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}var Ve=Xe.prototype;function Ye(t){return function(e){var n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}Ve.targets=function(){return this._targets||(this._targets=_e(xe["w"]))},Ve.set=function(t){return this.value!==t?(this.value=t,1):0},Ve.skip=Ye(He),Ve.modified=Ye(Ge),Ve.parameters=function(t,e,n){e=!1!==e;var r,i,o,a,u=this,c=u._argval=u._argval||new Be,s=u._argops=u._argops||[],l=[];function f(t,n,r){r instanceof Xe?(r!==u&&(e&&r.targets().add(u),l.push(r)),s.push({op:r,name:t,index:n})):c.set(t,n,r)}for(r in t)if(i=t[r],r===$e)Object(xe["i"])(i).forEach((function(t){t instanceof Xe?t!==u&&(t.targets().add(u),l.push(t)):Object(xe["n"])("Pulse parameters must be operator instances.")})),u.source=i;else if(Object(xe["A"])(i))for(c.set(r,-1,Array(o=i.length)),a=0;a<o;++a)f(r,a,i[a]);else f(r,-1,i);return this.marshall().clear(),n&&(s.initonly=!0),l},Ve.marshall=function(t){var e,n,r,i,o,a=this._argval||We,u=this._argops;if(u){for(n=0,r=u.length;n<r;++n)e=u[n],i=e.op,o=i.modified()&&i.stamp===t,a.set(e.name,e.index,i.value,o);if(u.initonly){for(n=0;n<r;++n)e=u[n],e.op.targets().remove(this);this._argops=null,this._update=null}}return a},Ve.evaluate=function(t){var e=this._update;if(e){var n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},Ve.run=function(t){return t.stamp<this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t);var e};var Je=function(t,e,n,r){var i,o=1;return t instanceof Xe?i=t:t&&t.prototype instanceof Xe?i=new t:Object(xe["D"])(t)?i=new Xe(null,t):(o=0,i=new Xe(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},Ze=function(t,e){var n,r,i=t.rank;for(n=0,r=e.length;n<r;++n)if(i<e[n].rank)return void this.rerank(t)},Ke=0;function Qe(t,e,n){this.id=++Ke,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function tn(t,e,n){return new Qe(t,e,n)}var en=Qe.prototype;en._filter=xe["eb"],en._apply=xe["x"],en.targets=function(){return this._targets||(this._targets=_e(xe["w"]))},en.consume=function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},en.receive=function(t){if(this._filter(t)){for(var e=this.value=this._apply(t),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},en.filter=function(t){var e=tn(t);return this.targets().add(e),e},en.apply=function(t){var e=tn(null,t);return this.targets().add(e),e},en.merge=function(){var t=tn();this.targets().add(t);for(var e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},en.throttle=function(t){var e=-1;return this.filter((function(){var n=Date.now();return n-e>t?(e=n,1):0}))},en.debounce=function(t){var e=tn();return this.targets().add(tn(null,null,Object(xe["m"])(t,(function(t){var n=t.dataflow;e.receive(t),n&&n.run&&n.run()})))),e},en.between=function(t,e){var n=!1;return t.targets().add(tn(null,null,(function(){n=!0}))),e.targets().add(tn(null,null,(function(){n=!1}))),this.filter((function(){return n}))};var nn=function(t,e,n,r){var i,o=this,a=tn(n,r),u=function(t){t.dataflow=o;try{a.receive(t)}catch(e){o.error(e)}finally{o.run()}};i="string"===typeof t&&"undefined"!==typeof document?document.querySelectorAll(t):Object(xe["i"])(t);for(var c=0,s=i.length;c<s;++c)i[c].addEventListener(e,u);return a};function rn(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function on(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){rn(o,r,i,a,u,"next",t)}function u(t){rn(o,r,i,a,u,"throw",t)}a(void 0)}))}}var an=/^([A-Za-z]+:)?\/\//,un=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,cn=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sn="file://",ln=function(t,e){return function(n){return{options:n||{},sanitize:dn,load:fn,fileAccess:!!e,file:vn(e),http:mn(t)}}};function fn(t,e){return hn.apply(this,arguments)}function hn(){return hn=on(w.a.mark((function t(e,n){var r,i;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.sanitize(e,n);case 2:return r=t.sent,i=r.href,t.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return t.stop()}}),t,this)}))),hn.apply(this,arguments)}function dn(t,e){return pn.apply(this,arguments)}function pn(){return pn=on(w.a.mark((function t(e,n){var r,i,o,a,u,c,s;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(xe["o"])({},this.options,n),r=this.fileAccess,i={href:null},c=un.test(e.replace(cn,"")),null!=e&&"string"===typeof e&&c||Object(xe["n"])("Sanitize failure, invalid URI: "+Object(xe["X"])(e)),s=an.test(e),(u=n.baseURL)&&!s&&(e.startsWith("/")||"/"===u[u.length-1]||(e="/"+e),e=u+e),a=(o=e.startsWith(sn))||"file"===n.mode||"http"!==n.mode&&!s&&r,o?e=e.slice(sn.length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),a=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),t.abrupt("return",i);case 13:case"end":return t.stop()}}),t,this)}))),pn.apply(this,arguments)}function vn(t){return t?function(e){return new Promise((function(n,r){t.readFile(e,(function(t,e){t?r(t):n(e)}))}))}:yn}function yn(){return gn.apply(this,arguments)}function gn(){return gn=on(w.a.mark((function t(){return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(xe["n"])("No file system access.");case 1:case"end":return t.stop()}}),t)}))),gn.apply(this,arguments)}function mn(t){return t?function(){var e=on(w.a.mark((function e(n,r){var i,o,a;return w.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(xe["o"])({},this.options.http,r),o=r&&r.response,e.next=4,t(n,i);case 4:return a=e.sent,e.abrupt("return",a.ok?Object(xe["D"])(a[o])?a[o]():a.text():Object(xe["n"])(a.status+""+a.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}():bn}function bn(){return wn.apply(this,arguments)}function wn(){return wn=on(w.a.mark((function t(){return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(xe["n"])("No HTTP fetch method available.");case 1:case"end":return t.stop()}}),t)}))),wn.apply(this,arguments)}var xn={boolean:xe["Y"],integer:xe["ab"],number:xe["ab"],date:xe["Z"],string:xe["cb"],unknown:xe["x"]},_n=[An,Mn,Cn,En],On=["boolean","integer","number","date"];function kn(t,e){if(!t||!t.length)return"unknown";var n,r,i,o=0,a=t.length,u=_n.length,c=_n.map((function(t,e){return e+1}));for(r=0,a=t.length;r<a;++r)for(n=e?t[r][e]:t[r],i=0;i<u;++i)if(c[i]&&jn(n)&&!_n[i](n)&&(c[i]=0,++o,o===_n.length))return"string";return o=c.reduce((function(t,e){return 0===t?e:t}),0)-1,On[o]}function Sn(t,e){return e.reduce((function(e,n){return e[n]=kn(t,n),e}),{})}function jn(t){return null!=t&&t===t}function An(t){return"true"===t||"false"===t||!0===t||!1===t}function En(t){return!isNaN(Date.parse(t))}function Cn(t){return!isNaN(+t)&&!(t instanceof Date)}function Mn(t){return Cn(t)&&(t=+t)===~~t}var Dn={},Fn={},Tn=34,Nn=10,Pn=13;function Rn(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function In(t,e){var n=Rn(t);return function(r,i){return e(n(r),i,t)}}function Ln(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function zn(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Bn(t){return t<0?"-"+zn(-t,6):t>9999?"+"+zn(t,6):zn(t,4)}function Un(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Bn(t.getUTCFullYear(),4)+"-"+zn(t.getUTCMonth()+1,2)+"-"+zn(t.getUTCDate(),2)+(i?"T"+zn(e,2)+":"+zn(n,2)+":"+zn(r,2)+"."+zn(i,3)+"Z":r?"T"+zn(e,2)+":"+zn(n,2)+":"+zn(r,2)+"Z":n||e?"T"+zn(e,2)+":"+zn(n,2)+"Z":"")}var qn=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?In(t,e):Rn(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,u=0,c=o<=0,s=!1;function l(){if(c)return Fn;if(s)return s=!1,Dn;var e,r,i=a;if(t.charCodeAt(i)===Tn){while(a++<o&&t.charCodeAt(a)!==Tn||t.charCodeAt(++a)===Tn);return(e=a)>=o?c=!0:(r=t.charCodeAt(a++))===Nn?s=!0:r===Pn&&(s=!0,t.charCodeAt(a)===Nn&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===Nn)s=!0;else if(r===Pn)s=!0,t.charCodeAt(a)===Nn&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}t.charCodeAt(o-1)===Nn&&--o,t.charCodeAt(o-1)===Pn&&--o;while((r=l())!==Fn){var f=[];while(r!==Dn&&r!==Fn)f.push(r),r=l();e&&null==(f=e(f,u++))||i.push(f)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=Ln(e)),[n.map(l).join(t)].concat(o(e,n)).join("\n")}function u(t,e){return null==e&&(e=Ln(t)),o(t,e).join("\n")}function c(t){return t.map(s).join("\n")}function s(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?Un(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:c}},$n=qn(","),Wn=($n.parse,$n.parseRows,$n.format,$n.formatBody,$n.formatRows,qn("\t"));Wn.parse,Wn.parseRows,Wn.format,Wn.formatBody,Wn.formatRows;function Hn(t){var e=function(e,n){var r={delimiter:t};return Gn(e,n?Object(xe["o"])(n,r):r)};return e.responseType="text",e}function Gn(t,e){return e.header&&(t=e.header.map(xe["X"]).join(e.delimiter)+"\n"+t),qn(e.delimiter).parse(t+"")}Gn.responseType="text";var Xn=n("9b0d"),Vn=function(t){return t},Yn=function(t){if(null==t)return Vn;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var c=2,s=t.length,l=new Array(s);l[0]=(e+=t[0])*r+o,l[1]=(n+=t[1])*i+a;while(c<s)l[c]=t[c],++c;return l}},Jn=function(t,e){var n,r=t.length,i=r-e;while(i<--r)n=t[i],t[i++]=t[r],t[r]=n},Zn=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return Kn(t,e)}))}:Kn(t,e)};function Kn(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=Qn(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Qn(t,e){var n=Yn(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&Jn(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){var e=a(t);while(e.length<4)e.push(e[0]);return e}function c(t){return t.map(u)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=o(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(o);break;case"LineString":e=a(t.arcs);break;case"MultiLineString":e=t.arcs.map(a);break;case"Polygon":e=c(t.arcs);break;case"MultiPolygon":e=t.arcs.map(c);break;default:return null}return{type:n,coordinates:e}}return s(e)}var tr=function(t,e){var n={},r={},i={},o=[],a=-1;function u(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}function c(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(t){var e,n,o=u(t),a=o[0],c=o[1];if(e=i[a])if(delete i[e.end],e.push(t),e.end=c,n=r[c]){delete r[n.start];var s=n===e?e:e.concat(n);r[s.start=e.start]=i[s.end=n.end]=s}else r[e.start]=i[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(t),e.start=a,n=i[a]){delete i[n.end];var l=n===e?e:n.concat(e);r[l.start=n.start]=i[l.end=e.end]=l}else r[e.start]=i[e.end]=e;else e=[t],r[e.start=a]=i[e.end=c]=e})),c(i,r),c(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o},er=function(t){return Qn(t,nr.apply(this,arguments))};function nr(t,e,n){var r,i,o;if(arguments.length>1)r=rr(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:tr(t,r)}}function rr(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}function s(t){t.forEach(c)}function l(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":s(t.arcs);break}}return l(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}var ir={interior:function(t,e){return t!==e},exterior:function(t,e){return t===e}};function or(t,e){var n,r,i,o;return t=Object(Xn["a"])(t,e),e&&e.feature?(n=Zn,i=e.feature):e&&e.mesh?(n=er,i=e.mesh,o=ir[e.filter]):Object(xe["n"])("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):Object(xe["n"])("Invalid TopoJSON object: "+i),r&&r.features||[r]}or.responseType="json";var ar={dsv:Gn,csv:Hn(","),tsv:Hn("\t"),json:Xn["a"],topojson:or};function ur(t,e){return arguments.length>1?(ar[t]=e,this):Object(xe["v"])(ar,t)?ar[t]:null}function cr(t){var e=ur(t);return e&&e.responseType||"text"}var sr=new Date,lr=new Date;function fr(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return fr((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));}))},n&&(i.count=function(e,r){return sr.setTime(+e),lr.setTime(+r),t(sr),t(lr),Math.floor(n(sr,lr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var hr=fr((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));hr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?fr((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):hr:null};var dr=hr,pr=(hr.range,1e3),vr=6e4,yr=36e5,gr=864e5,mr=6048e5,br=fr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*pr)}),(function(t,e){return(e-t)/pr}),(function(t){return t.getUTCSeconds()})),wr=br,xr=(br.range,fr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr)}),(function(t,e){t.setTime(+t+e*vr)}),(function(t,e){return(e-t)/vr}),(function(t){return t.getMinutes()}))),_r=xr,Or=(xr.range,fr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr-t.getMinutes()*vr)}),(function(t,e){t.setTime(+t+e*yr)}),(function(t,e){return(e-t)/yr}),(function(t){return t.getHours()}))),kr=Or,Sr=(Or.range,fr((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vr)/gr}),(function(t){return t.getDate()-1}))),jr=Sr;Sr.range;function Ar(t){return fr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vr)/mr}))}var Er=Ar(0),Cr=Ar(1),Mr=Ar(2),Dr=Ar(3),Fr=Ar(4),Tr=Ar(5),Nr=Ar(6),Pr=(Er.range,Cr.range,Mr.range,Dr.range,Fr.range,Tr.range,Nr.range,fr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Rr=Pr,Ir=(Pr.range,fr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Ir.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Lr=Ir,zr=(Ir.range,fr((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*vr)}),(function(t,e){return(e-t)/vr}),(function(t){return t.getUTCMinutes()}))),Br=zr,Ur=(zr.range,fr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*yr)}),(function(t,e){return(e-t)/yr}),(function(t){return t.getUTCHours()}))),qr=Ur,$r=(Ur.range,fr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/gr}),(function(t){return t.getUTCDate()-1}))),Wr=$r;$r.range;function Hr(t){return fr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/mr}))}var Gr=Hr(0),Xr=Hr(1),Vr=Hr(2),Yr=Hr(3),Jr=Hr(4),Zr=Hr(5),Kr=Hr(6),Qr=(Gr.range,Xr.range,Vr.range,Yr.range,Jr.range,Zr.range,Kr.range,fr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),ti=Qr,ei=(Qr.range,fr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ei.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ni=ei;ei.range;function ri(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ii(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function oi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ai(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=mi(i),l=bi(i),f=mi(o),h=bi(o),d=mi(a),p=bi(a),v=mi(u),y=bi(u),g=mi(c),m=bi(c),b={a:T,A:N,b:P,B:R,c:null,d:zi,e:zi,f:Wi,H:Bi,I:Ui,j:qi,L:$i,m:Hi,M:Gi,p:I,Q:xo,s:_o,S:Xi,u:Vi,U:Yi,V:Ji,w:Zi,W:Ki,x:null,X:null,y:Qi,Y:to,Z:eo,"%":wo},w={a:L,A:z,b:B,B:U,c:null,d:no,e:no,f:uo,H:ro,I:io,j:oo,L:ao,m:co,M:so,p:q,Q:xo,s:_o,S:lo,u:fo,U:ho,V:po,w:vo,W:yo,x:null,X:null,y:go,Y:mo,Z:bo,"%":wo},x={a:j,A:A,b:E,B:C,c:M,d:Ci,e:Ci,f:Pi,H:Di,I:Di,j:Mi,L:Ni,m:Ei,M:Fi,p:S,Q:Ii,s:Li,S:Ti,u:xi,U:_i,V:Oi,w:wi,W:ki,x:D,X:F,y:ji,Y:Si,Z:Ai,"%":Ri};function _(t,e){return function(n){var r,i,o,a=[],u=-1,c=0,s=t.length;n instanceof Date||(n=new Date(+n));while(++u<s)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=hi[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function O(t,e){return function(n){var r,i,o=oi(1900),a=k(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=ii(oi(o.y)),i=r.getUTCDay(),r=i>4||0===i?Xr.ceil(r):Xr(r),r=Wr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=e(oi(o.y)),i=r.getDay(),r=i>4||0===i?Cr.ceil(r):Cr(r),r=jr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ii(oi(o.y)).getUTCDay():e(oi(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ii(o)):e(o)}}function k(t,e,n,r){var i,o,a=0,u=e.length,c=n.length;while(a<u){if(r>=c)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=x[i in hi?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function S(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1}function j(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function A(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function M(t,n,r){return k(t,e,n,r)}function D(t,e,r){return k(t,n,e,r)}function F(t,e,n){return k(t,r,e,n)}function T(t){return a[t.getDay()]}function N(t){return o[t.getDay()]}function P(t){return c[t.getMonth()]}function R(t){return u[t.getMonth()]}function I(t){return i[+(t.getHours()>=12)]}function L(t){return a[t.getUTCDay()]}function z(t){return o[t.getUTCDay()]}function B(t){return c[t.getUTCMonth()]}function U(t){return u[t.getUTCMonth()]}function q(t){return i[+(t.getUTCHours()>=12)]}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=O(t+="",ri);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=O(t,ii);return e.toString=function(){return t},e}}}var ui,ci,si,li,fi,hi={"-":"",_:" ",0:"0"},di=/^\s*\d+/,pi=/^%/,vi=/[\\^$*+?|[\]().{}]/g;function yi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function gi(t){return t.replace(vi,"\\$&")}function mi(t){return new RegExp("^(?:"+t.map(gi).join("|")+")","i")}function bi(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function wi(t,e,n){var r=di.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xi(t,e,n){var r=di.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Oi(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ki(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Si(t,e,n){var r=di.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ji(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ai(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ei(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ci(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mi(t,e,n){var r=di.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Di(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fi(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ti(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ni(t,e,n){var r=di.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pi(t,e,n){var r=di.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ri(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ii(t,e,n){var r=di.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Li(t,e,n){var r=di.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function zi(t,e){return yi(t.getDate(),e,2)}function Bi(t,e){return yi(t.getHours(),e,2)}function Ui(t,e){return yi(t.getHours()%12||12,e,2)}function qi(t,e){return yi(1+jr.count(Lr(t),t),e,3)}function $i(t,e){return yi(t.getMilliseconds(),e,3)}function Wi(t,e){return $i(t,e)+"000"}function Hi(t,e){return yi(t.getMonth()+1,e,2)}function Gi(t,e){return yi(t.getMinutes(),e,2)}function Xi(t,e){return yi(t.getSeconds(),e,2)}function Vi(t){var e=t.getDay();return 0===e?7:e}function Yi(t,e){return yi(Er.count(Lr(t),t),e,2)}function Ji(t,e){var n=t.getDay();return t=n>=4||0===n?Fr(t):Fr.ceil(t),yi(Fr.count(Lr(t),t)+(4===Lr(t).getDay()),e,2)}function Zi(t){return t.getDay()}function Ki(t,e){return yi(Cr.count(Lr(t),t),e,2)}function Qi(t,e){return yi(t.getFullYear()%100,e,2)}function to(t,e){return yi(t.getFullYear()%1e4,e,4)}function eo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yi(e/60|0,"0",2)+yi(e%60,"0",2)}function no(t,e){return yi(t.getUTCDate(),e,2)}function ro(t,e){return yi(t.getUTCHours(),e,2)}function io(t,e){return yi(t.getUTCHours()%12||12,e,2)}function oo(t,e){return yi(1+Wr.count(ni(t),t),e,3)}function ao(t,e){return yi(t.getUTCMilliseconds(),e,3)}function uo(t,e){return ao(t,e)+"000"}function co(t,e){return yi(t.getUTCMonth()+1,e,2)}function so(t,e){return yi(t.getUTCMinutes(),e,2)}function lo(t,e){return yi(t.getUTCSeconds(),e,2)}function fo(t){var e=t.getUTCDay();return 0===e?7:e}function ho(t,e){return yi(Gr.count(ni(t),t),e,2)}function po(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Jr(t):Jr.ceil(t),yi(Jr.count(ni(t),t)+(4===ni(t).getUTCDay()),e,2)}function vo(t){return t.getUTCDay()}function yo(t,e){return yi(Xr.count(ni(t),t),e,2)}function go(t,e){return yi(t.getUTCFullYear()%100,e,2)}function mo(t,e){return yi(t.getUTCFullYear()%1e4,e,4)}function bo(){return"+0000"}function wo(){return"%"}function xo(t){return+t}function _o(t){return Math.floor(+t/1e3)}function Oo(t){return ui=ai(t),ci=ui.format,si=ui.parse,li=ui.utcFormat,fi=ui.utcParse,ui}Oo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ko="%Y-%m-%dT%H:%M:%S.%LZ";function So(t){return t.toISOString()}Date.prototype.toISOString||li(ko);function jo(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")||fi(ko);var Ao=function(t,e,n){e=e||{};var r=ur(e.type||"json");return r||Object(xe["n"])("Unknown data format type: "+e.type),t=r(t,e),e.parse&&Eo(t,e.parse,n),Object(xe["v"])(t,"columns")&&delete t.columns,t};function Eo(t,e,n){if(t.length){n=n||si;var r,i,o,a,u,c,s,l=t.columns||Object.keys(t[0]);for("auto"===e&&(e=Sn(t,l)),l=Object.keys(e),r=l.map((function(t){var r,i,o=e[t];if(o&&(0===o.indexOf("date:")||0===o.indexOf("utc:")))return r=o.split(/:(.+)?/,2),i=r[1],("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?fi(i):n(i);if(!xn[o])throw Error("Illegal format pattern: "+t+":"+o);return xn[o]})),a=0,c=t.length,s=l.length;a<c;++a)for(i=t[a],u=0;u<s;++u)o=l[u],i[o]=r[u](i[o])}}var Co=ln("undefined"!==typeof fetch&&fetch,null);function Mo(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function Do(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Mo(o,r,i,a,u,"next",t)}function u(t){Mo(o,r,i,a,u,"throw",t)}a(void 0)}))}}var Fo=Ao;function To(t,e,n){return this.pulse(t,this.changeset().insert(Fo(e,n)))}function No(t,e){return Po.apply(this,arguments)}function Po(){return Po=Do(w.a.mark((function t(e,n){var r,i,o;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this,i=0,t.prev=2,t.next=5,r.loader().load(e,{context:"dataflow",response:cr(n&&n.type)});case 5:o=t.sent;try{o=Fo(o,n)}catch(a){i=-2,r.warn("Data ingestion failed",e,a)}t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),i=-1,r.warn("Loading failed",e,t.t0);case 13:return t.abrupt("return",{data:o,status:i});case 14:case"end":return t.stop()}}),t,this,[[2,9]])}))),Po.apply(this,arguments)}function Ro(t,e,n){return Io.apply(this,arguments)}function Io(){return Io=Do(w.a.mark((function t(e,n,r){var i,o,a;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,o=i._pending||Lo(i),o.requests+=1,t.next=4,i.request(n,r);case 4:return a=t.sent,i.pulse(e,i.changeset().remove(xe["eb"]).insert(a.data||[])),o.done(),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)}))),Io.apply(this,arguments)}function Lo(t){var e,n=new Promise((function(t){e=t}));return n.requests=0,n.done=function(){0===--n.requests&&(t._pending=null,e(t))},t._pending=n}var zo={skip:!0},Bo=function(t,e,n,r,i){var o=t instanceof Xe?qo:Uo;return o(this,t,e,n,r,i),this};function Uo(t,e,n,r,i,o){var a,u,c=Object(xe["o"])({},o,zo);Object(xe["D"])(n)||(n=Object(xe["l"])(n)),void 0===r?a=function(e){return t.touch(n(e))}:Object(xe["D"])(r)?(u=new Xe(null,r,i,!1),a=function(e){u.evaluate(e);var r=n(e),i=u.value;Ie(i)?t.pulse(r,i,o):t.update(r,i,c)}):a=function(e){return t.update(n(e),r,c)},e.apply(a)}function qo(t,e,n,r,i,o){if(void 0===r)e.targets().add(n);else{var a=o||{},u=new Xe(null,$o(n,r),i,!1);u.modified(a.force),u.rank=e.rank,e.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),t.connect(n,[u]))}}function $o(t,e){return e=Object(xe["D"])(e)?e:Object(xe["l"])(e),t?function(n,r){var i=e(n,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:e}function Wo(t){t.rank=++this._rank}function Ho(t){var e,n,r,i=[t];while(i.length)if(this.rank(e=i.pop()),n=e._targets)for(r=n.length;--r>=0;)i.push(e=n[r]),e===t&&Object(xe["n"])("Cycle detected in dataflow graph.")}var Go={},Xo=1,Vo=2,Yo=4,Jo=Xo|Vo,Zo=Xo|Yo,Ko=Xo|Vo|Yo,Qo=8,ta=16,ea=32,na=64;function ra(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var ia=ra.prototype;function oa(t,e){return t?function(n,r){return t(n,r)&&e(n,r)}:e}function aa(t,e){var n=[];return Object(xe["gb"])(t,e,(function(t){n.push(t)})),n}function ua(t,e){var n={};return t.visit(e,(function(t){n[Me(t)]=1})),function(t){return n[Me(t)]?null:t}}function ca(t,e,n,r){var i,o,a,u,c,s=this,l=0;for(this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n,a=0,u=n.length;a<u;++a)if(i=n[a],i.stamp===e){if(i.fields)for(c in o=s.fields||(s.fields={}),i.fields)o[c]=1;i.changed(s.ADD)&&(l|=s.ADD),i.changed(s.REM)&&(l|=s.REM),i.changed(s.MOD)&&(l|=s.MOD)}this.changes=l}ia.StopPropagation=Go,ia.ADD=Xo,ia.REM=Vo,ia.MOD=Yo,ia.ADD_REM=Jo,ia.ADD_MOD=Zo,ia.ALL=Ko,ia.REFLOW=Qo,ia.SOURCE=ta,ia.NO_SOURCE=ea,ia.NO_FIELDS=na,ia.fork=function(t){return new ra(this.dataflow).init(this,t)},ia.clone=function(){var t=this.fork(Ko);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(Ko|ta)},ia.addAll=function(){var t=this;return this.source&&this.source.length!==this.add.length?(t=new ra(this.dataflow).init(this),t.add=t.source,t):t},ia.init=function(t,e){var n=this;return n.stamp=t.stamp,n.encode=t.encode,!t.fields||e&na||(n.fields=t.fields),e&Xo?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),e&Vo?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),e&Yo?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),e&ea?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source),n},ia.runAfter=function(t){this.dataflow.runAfter(t)},ia.changed=function(t){var e=t||Ko;return e&Xo&&this.add.length||e&Vo&&this.rem.length||e&Yo&&this.mod.length},ia.reflow=function(t){if(t)return this.fork(Ko).reflow();var e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(Yo,ua(this,Xo))),this},ia.modifies=function(t){var e=Object(xe["i"])(t),n=this.fields||(this.fields={});return e.forEach((function(t){n[t]=!0})),this},ia.modified=function(t,e){var n=this.fields;return!(!e&&!this.mod.length||!n)&&(arguments.length?Object(xe["A"])(t)?t.some((function(t){return n[t]})):n[t]:!!n)},ia.filter=function(t,e){var n=this;return t&Xo&&(n.addF=oa(n.addF,e)),t&Vo&&(n.remF=oa(n.remF,e)),t&Yo&&(n.modF=oa(n.modF,e)),t&ta&&(n.srcF=oa(n.srcF,e)),n},ia.materialize=function(t){t=t||Ko;var e=this;return t&Xo&&e.addF&&(e.add=aa(e.add,e.addF),e.addF=null),t&Vo&&e.remF&&(e.rem=aa(e.rem,e.remF),e.remF=null),t&Yo&&e.modF&&(e.mod=aa(e.mod,e.modF),e.modF=null),t&ta&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},ia.visit=function(t,e){var n,r,i=this,o=e;return t&ta?(Object(xe["gb"])(i.source,i.srcF,o),i):(t&Xo&&Object(xe["gb"])(i.add,i.addF,o),t&Vo&&Object(xe["gb"])(i.rem,i.remF,o),t&Yo&&Object(xe["gb"])(i.mod,i.modF,o),t&Qo&&(n=i.source)&&(r=i.add.length+i.mod.length,r===n.length||(r?Object(xe["gb"])(n,ua(i,Zo),o):Object(xe["gb"])(n,i.srcF,o))),i)};var sa=Object(xe["y"])(ca,ra);function la(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function fa(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){la(o,r,i,a,u,"next",t)}function u(t){la(o,r,i,a,u,"throw",t)}a(void 0)}))}}function ha(t,e,n){return da.apply(this,arguments)}function da(){return da=fa(w.a.mark((function t(e,n,r){var i,o,a,u,c,s,l,f,h,d;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,o=i.logLevel(),!i._pulse){t.next=3;break}return t.abrupt("return",ma(i));case 3:if(!i._pending){t.next=6;break}return t.next=6,i._pending;case 6:if(!n){t.next=9;break}return t.next=9,Se(i,n);case 9:if(i._touched.length){t.next=12;break}return i.info("Dataflow invoked, but nothing to do."),t.abrupt("return",i);case 12:a=++i._clock,u=0,i._pulse=new ra(i,a,e),o>=xe["c"]&&(l=Date.now(),i.debug("-- START PROPAGATION ("+a+") -----")),i._touched.forEach((function(t){return i._enqueue(t,!0)})),i._touched=_e(xe["w"]),t.prev=17;case 18:if(!(i._heap.size()>0)){t.next=33;break}if(c=i._heap.pop(),c.rank===c.qrank){t.next=23;break}return i._enqueue(c,!0),t.abrupt("continue",18);case 23:if(s=c.run(i._getPulse(c,e)),!s.then){t.next=28;break}return t.next=27,s;case 27:s=t.sent;case 28:o>=xe["a"]&&i.debug(c.id,s===Go?"STOP":s,c),s!==Go&&c._targets&&c._targets.forEach((function(t){return i._enqueue(t)})),++u,t.next=18;break;case 33:t.next=39;break;case 35:t.prev=35,t.t0=t["catch"](17),i._heap.clear(),f=t.t0;case 39:if(i._input={},i._pulse=null,o>=xe["c"]&&(l=Date.now()-l,i.info("> Pulse "+a+": "+u+" operators; "+l+"ms")),f&&(i._postrun=[],i.error(f)),!i._postrun.length){t.next=53;break}h=i._postrun.sort((function(t,e){return e.priority-t.priority})),i._postrun=[],d=0;case 47:if(!(d<h.length)){t.next=53;break}return t.next=50,Se(i,h[d].callback);case 50:++d,t.next=47;break;case 53:if(!r){t.next=56;break}return t.next=56,Se(i,r);case 56:return t.abrupt("return",i);case 57:case"end":return t.stop()}}),t,this,[[17,35]])}))),da.apply(this,arguments)}function pa(t,e,n){return va.apply(this,arguments)}function va(){return va=fa(w.a.mark((function t(e,n,r){var i,o=this;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this._running){t.next=5;break}return t.next=3,this._running;case 3:t.next=0;break;case 5:return i=function(){return o._running=null},(this._running=this.evaluate(e,n,r)).then(i,i),t.abrupt("return",this._running);case 8:case"end":return t.stop()}}),t,this)}))),va.apply(this,arguments)}function ya(t,e,n){return this._pulse?ma(this):(this.evaluate(t,e,n),this)}function ga(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(r){this.error(r)}}function ma(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}function ba(t,e){var n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))}function wa(t,e){var n=t.source,r=this._clock;return n&&Object(xe["A"])(n)?new ca(this,r,n.map((function(t){return t.pulse})),e):this._input[t.id]||xa(this._pulse,n&&n.pulse)}function xa(t,e){return e&&e.stamp===t.stamp?e:(t=t.fork(),e&&e!==Go&&(t.source=e.source),t)}sa.fork=function(t){var e=new ra(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,(function(t){return e.add.push(t)})),t&e.REM&&this.visit(e.REM,(function(t){return e.rem.push(t)})),t&e.MOD&&this.visit(e.MOD,(function(t){return e.mod.push(t)}))),e},sa.changed=function(t){return this.changes&t},sa.modified=function(t){var e=this,n=e.fields;return n&&e.changes&e.MOD?Object(xe["A"])(t)?t.some((function(t){return n[t]})):n[t]:0},sa.filter=function(){Object(xe["n"])("MultiPulse does not support filtering.")},sa.materialize=function(){Object(xe["n"])("MultiPulse does not support materialization.")},sa.visit=function(t,e){var n=this,r=n.pulses,i=r.length,o=0;if(t&n.SOURCE)for(;o<i;++o)r[o].visit(t,e);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(t,e);return n};var _a={skip:!1,force:!1};function Oa(t,e){var n=e||_a;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this}function ka(t,e,n){var r=n||_a;return(t.set(e)||r.force)&&this.touch(t,r),this}function Sa(t,e,n){this.touch(t,n||_a);var r=new ra(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._input[t.id]=e.pulse(r,i),this}function ja(t){var e=[];return{clear:function(){return e=[]},size:function(){return e.length},peek:function(){return e[0]},push:function(n){return e.push(n),Aa(e,0,e.length-1,t)},pop:function(){var n,r=e.pop();return e.length?(n=e[0],e[0]=r,Ea(e,0,t)):n=r,n}}}function Aa(t,e,n,r){var i,o,a;i=t[n];while(n>e){if(a=n-1>>1,o=t[a],!(r(i,o)<0))break;t[n]=o,n=a}return t[n]=i}function Ea(t,e,n){var r,i=e,o=t.length,a=t[e],u=1+(e<<1);while(u<o)r=u+1,r<o&&n(t[u],t[r])>=0&&(u=r),t[e]=t[u],e=u,u=1+(e<<1);return t[e]=a,Aa(t,i,e,n)}function Ca(){this.logger(Object(xe["K"])()),this.logLevel(xe["b"]),this._clock=0,this._rank=0;try{this._loader=Co()}catch(t){}this._touched=_e(xe["w"]),this._input={},this._pulse=null,this._heap=ja((function(t,e){return t.qrank-e.qrank})),this._postrun=[]}var Ma=Ca.prototype;function Da(t){return function(){return this._log[t].apply(this,arguments)}}function Fa(t,e){Xe.call(this,t,null,e)}Ma.stamp=function(){return this._clock},Ma.loader=function(t){return arguments.length?(this._loader=t,this):this._loader},Ma.cleanThreshold=1e4,Ma.add=Je,Ma.connect=Ze,Ma.rank=Wo,Ma.rerank=Ho,Ma.pulse=Sa,Ma.touch=Oa,Ma.update=ka,Ma.changeset=Le,Ma.ingest=To,Ma.parse=Fo,Ma.preload=Ro,Ma.request=No,Ma.events=nn,Ma.on=Bo,Ma.evaluate=ha,Ma.run=ya,Ma.runAsync=pa,Ma.runAfter=ga,Ma._enqueue=ba,Ma._getPulse=wa,Ma.logger=function(t){return arguments.length?(this._log=t,this):this._log},Ma.error=Da("error"),Ma.warn=Da("warn"),Ma.info=Da("info"),Ma.debug=Da("debug"),Ma.logLevel=Da("level");var Ta=Object(xe["y"])(Fa,Xe);Ta.run=function(t){var e,n=this;return t.stamp<this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):e=this.evaluate(t),e=e||t,e.then?e=e.then((function(t){return n.pulse=t})):e!==t.StopPropagation&&(this.pulse=e),e)},Ta.evaluate=function(t){var e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},Ta.transform=function(){};var Na={};function Pa(t){var e=Ra(t);return e&&e.Definition||null}function Ra(t){return t=t&&t.toLowerCase(),Object(xe["v"])(Na,t)?Na[t]:null}function Ia(t){return function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}}function La(t){return t&&t.length?1===t.length?t[0]:Ia(t):function(){return""}}function za(t,e,n){return n||t+(e?"_"+e:"")}var Ba={values:$a({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:$a({name:"count",set:"cell.num"}),__count__:$a({name:"count",set:"this.missing + this.valid"}),missing:$a({name:"missing",set:"this.missing"}),valid:$a({name:"valid",set:"this.valid"}),sum:$a({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:$a({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:$a({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:$a({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:$a({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:$a({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:$a({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:$a({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:$a({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:$a({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:$a({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:$a({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:$a({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:$a({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:$a({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:$a({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:$a({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:$a({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Ua=Object.keys(Ba);function qa(t,e){return Ba[t](e)}function $a(t){return function(e){var n=Object(xe["o"])({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function Wa(t,e){return t.idx-e.idx}function Ha(t,e){function n(t,r){function i(e){t[e]||n(t,t[e]=Ba[e]())}return r.req&&r.req.forEach(i),e&&r.str&&r.str.forEach(i),t}var r,i=t.reduce(n,t.reduce((function(t,e){return t[e.name]=e,t}),{})),o=[];for(r in i)o.push(i[r]);return o.sort(Wa)}function Ga(t,e){var n=e||xe["x"],r=Ha(t,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",o="this.cell = cell; this.init();",a="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",u="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",c="var cell = this.cell;";return r.forEach((function(t){i+=t.init,a+=t.add,u+=t.rem})),t.slice().sort(Wa).forEach((function(t){c+="t["+Object(xe["X"])(t.out)+"]="+t.set+";"})),c+="return t;",o=Function("cell",o),o.prototype.init=Function(i),o.prototype.add=Function("v","t",a),o.prototype.rem=Function("v","t",u),o.prototype.set=Function("t",c),o.prototype.get=n,o.fields=t.map((function(t){return t.out})),o}var Xa=function(t){var e,n,r,i,o,a,u,c,s=t.maxbins||20,l=t.base||10,f=Math.log(l),h=t.divide||[5,2],d=t.extent[0],p=t.extent[1],v=t.span||p-d||Math.abs(d)||1;if(t.step)e=t.step;else if(t.steps){for(o=v/s,a=0,u=t.steps.length;a<u&&t.steps[a]<o;++a);e=t.steps[Math.max(0,a-1)]}else{n=Math.ceil(Math.log(s)/f),r=t.minstep||0,e=Math.max(r,Math.pow(l,Math.round(Math.log(v)/f)-n));while(Math.ceil(v/e)>s)e*=l;for(a=0,u=h.length;a<u;++a)o=e/h[a],o>=r&&v/o<=s&&(e=o)}return o=Math.log(e),i=o>=0?0:1+~~(-o/f),c=Math.pow(l,-i-1),(t.nice||void 0===t.nice)&&(o=Math.floor(d/e+c)*e,d=d<o?o-e:o,p=Math.ceil(p/e)*e),{start:d,stop:p===d?d+e:p,step:e}},Va=w.a.mark(Ya);function Ya(t,e){var n,r,i,o,a,u,c,s,l,f,h,d,p;return w.a.wrap((function(v){while(1)switch(v.prev=v.next){case 0:if(void 0!==e){v.next=30;break}n=!0,r=!1,i=void 0,v.prev=4,o=t[Symbol.iterator]();case 6:if(n=(a=o.next()).done){v.next=14;break}if(u=a.value,!(null!=u&&(u=+u)>=u)){v.next=11;break}return v.next=11,u;case 11:n=!0,v.next=6;break;case 14:v.next=20;break;case 16:v.prev=16,v.t0=v["catch"](4),r=!0,i=v.t0;case 20:v.prev=20,v.prev=21,n||null==o.return||o.return();case 23:if(v.prev=23,!r){v.next=26;break}throw i;case 26:return v.finish(23);case 27:return v.finish(20);case 28:v.next=58;break;case 30:c=-1,s=!0,l=!1,f=void 0,v.prev=34,h=t[Symbol.iterator]();case 36:if(s=(d=h.next()).done){v.next=44;break}if(p=d.value,!(null!=(p=e(p,++c,t))&&(p=+p)>=p)){v.next=41;break}return v.next=41,p;case 41:s=!0,v.next=36;break;case 44:v.next=50;break;case 46:v.prev=46,v.t1=v["catch"](34),l=!0,f=v.t1;case 50:v.prev=50,v.prev=51,s||null==h.return||h.return();case 53:if(v.prev=53,!l){v.next=56;break}throw f;case 56:return v.finish(53);case 57:return v.finish(50);case 58:case"end":return v.stop()}}),Va,null,[[4,16,20,28],[21,,23,27],[34,46,50,58],[51,,53,57]])}var Ja=Math.random;function Za(t){Ja=t}var Ka=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Qa=w.a.mark(eu),tu=function(t){return null===t?NaN:+t};function eu(t,e){var n,r,i,o,a,u,c,s,l,f,h,d,p;return w.a.wrap((function(v){while(1)switch(v.prev=v.next){case 0:if(void 0!==e){v.next=30;break}n=!0,r=!1,i=void 0,v.prev=4,o=t[Symbol.iterator]();case 6:if(n=(a=o.next()).done){v.next=14;break}if(u=a.value,!(null!=u&&(u=+u)>=u)){v.next=11;break}return v.next=11,u;case 11:n=!0,v.next=6;break;case 14:v.next=20;break;case 16:v.prev=16,v.t0=v["catch"](4),r=!0,i=v.t0;case 20:v.prev=20,v.prev=21,n||null==o.return||o.return();case 23:if(v.prev=23,!r){v.next=26;break}throw i;case 26:return v.finish(23);case 27:return v.finish(20);case 28:v.next=58;break;case 30:c=-1,s=!0,l=!1,f=void 0,v.prev=34,h=t[Symbol.iterator]();case 36:if(s=(d=h.next()).done){v.next=44;break}if(p=d.value,!(null!=(p=e(p,++c,t))&&(p=+p)>=p)){v.next=41;break}return v.next=41,p;case 41:s=!0,v.next=36;break;case 44:v.next=50;break;case 46:v.prev=46,v.t1=v["catch"](34),l=!0,f=v.t1;case 50:v.prev=50,v.prev=51,s||null==h.return||h.return();case 53:if(v.prev=53,!l){v.next=56;break}throw f;case 56:return v.finish(53);case 57:return v.finish(50);case 58:case"end":return v.stop()}}),Qa,null,[[4,16,20,28],[21,,23,27],[34,46,50,58],[51,,53,57]])}function nu(t,e,n){return ru(Float64Array.from(eu(t,n)).sort(Ka),e)}function ru(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tu;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}var iu=function(t,e,n,r){if(!t.length)return[void 0,void 0];var i,o,a,u,c=Float64Array.from(Ya(t,r)),s=c.length,l=e;for(a=0,u=Array(l);a<l;++a){for(i=0,o=0;o<s;++o)i+=c[~~(Ja()*s)];u[a]=i/s}return u.sort(Ka),[nu(u,n/2),nu(u,1-n/2)]},ou=function(t,e){var n=Float64Array.from(Ya(t,e));return n.sort(Ka),[nu(n,.25),nu(n,.5),nu(n,.75)]},au=function(t){return function(){return t=(1103515245*t+12345)%2147483647,t/2147483647}},uu=function(t,e){null==e&&(e=t,t=0);var n,r,i,o={};return o.min=function(t){return arguments.length?(n=t||0,i=r-n,o):n},o.max=function(t){return arguments.length?(r=t||0,i=r-n,o):r},o.sample=function(){return n+Math.floor(i*Ja())},o.pdf=function(t){return t===Math.floor(t)&&t>=n&&t<r?1/i:0},o.cdf=function(t){var e=Math.floor(t);return e<n?0:e>=r?1:(e-n+1)/i},o.icdf=function(t){return t>=0&&t<=1?n-1+Math.floor(t*i):NaN},o.min(t).max(e)},cu=function(t,e){var n,r,i=NaN,o={mean:function(t){return arguments.length?(n=t||0,i=NaN,o):n},stdev:function(t){return arguments.length?(r=null==t?1:t,i=NaN,o):r},sample:function(){var t,e,o=0,a=0;if(i===i)return o=i,i=NaN,o;do{o=2*Ja()-1,a=2*Ja()-1,t=o*o+a*a}while(0===t||t>1);return e=Math.sqrt(-2*Math.log(t)/t),i=n+a*e*r,n+o*e*r},pdf:function(t){var e=Math.exp(Math.pow(t-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*e},cdf:function(t){var e,i=(t-n)/r,o=Math.abs(i);if(o>37)e=0;else{var a,u=Math.exp(-o*o/2);o<7.07106781186547?(a=.0352624965998911*o+.700383064443688,a=a*o+6.37396220353165,a=a*o+33.912866078383,a=a*o+112.079291497871,a=a*o+221.213596169931,a=a*o+220.206867912376,e=u*a,a=.0883883476483184*o+1.75566716318264,a=a*o+16.064177579207,a=a*o+86.7807322029461,a=a*o+296.564248779674,a=a*o+637.333633378831,a=a*o+793.826512519948,a=a*o+440.413735824752,e/=a):(a=o+.65,a=o+4/a,a=o+3/a,a=o+2/a,a=o+1/a,e=u/a/2.506628274631)}return i>0?1-e:e},icdf:function(t){if(t<=0||t>=1)return NaN;var e=2*t-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*i)+Math.log(1-Math.pow(e,2))/2,a=Math.log(1-e*e)/i,u=(e>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return n+r*Math.SQRT2*u}};return o.mean(t).stdev(e)};function su(t,e){var n,r=0,i=0,o=0;if(void 0===e){var a=!0,u=!1,c=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;null!=f&&(f=+f)>=f&&(n=f-i,i+=n/++r,o+=n*(f-i))}}catch(b){u=!0,c=b}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}}else{var h=-1,d=!0,p=!1,v=void 0;try{for(var y,g=t[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;null!=(m=e(m,++h,t))&&(m=+m)>=m&&(n=m-i,i+=n/++r,o+=n*(m-i))}}catch(b){p=!0,v=b}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}}if(r>1)return o/(r-1)}var lu=function(t,e){var n=cu(),r={},i=0;return r.data=function(n){return arguments.length?(t=n,i=n?n.length:0,r.bandwidth(e)):t},r.bandwidth=function(n){return arguments.length?(e=n,!e&&t&&(e=fu(t)),r):e},r.sample=function(){return t[~~(Ja()*i)]+e*n.sample()},r.pdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.pdf((r-t[a])/e);return o/e/i},r.cdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.cdf((r-t[a])/e);return o/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(t)};function fu(t){var e=t.length,n=ou(t),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(su(t)),r)*Math.pow(e,-.2)}var hu=function(t,e){var n,r={},i=0;function o(t){var e,n=[],r=0;for(e=0;e<i;++e)r+=n[e]=null==t[e]?1:+t[e];for(e=0;e<i;++e)n[e]/=r;return n}return r.weights=function(t){return arguments.length?(n=o(e=t||[]),r):e},r.distributions=function(n){return arguments.length?(n?(i=n.length,t=n):(i=0,t=[]),r.weights(e)):t},r.sample=function(){for(var e=Ja(),r=t[i-1],o=n[0],a=0;a<i-1;o+=n[++a])if(e<o){r=t[a];break}return r.sample()},r.pdf=function(e){for(var r=0,o=0;o<i;++o)r+=n[o]*t[o].pdf(e);return r},r.cdf=function(e){for(var r=0,o=0;o<i;++o)r+=n[o]*t[o].cdf(e);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(t).weights(e)},du=function(t,e){null==e&&(e=null==t?1:t,t=0);var n,r,i,o={};return o.min=function(t){return arguments.length?(n=t||0,i=r-n,o):n},o.max=function(t){return arguments.length?(r=t||0,i=r-n,o):r},o.sample=function(){return n+i*Ja()},o.pdf=function(t){return t>=n&&t<=r?1/i:0},o.cdf=function(t){return t<n?0:t>r?1:(t-n)/i},o.icdf=function(t){return t>=0&&t<=1?n+t*i:NaN},o.min(t).max(e)},pu=function(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i,a=e-o*t;return[a,o]};function vu(t,e,n,r){t=t.filter((function(t){var r=e(t),i=n(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&t.sort((function(t,n){return e(t)-e(n)}));var i=new Float64Array(t.length),o=new Float64Array(t.length),a=0,u=!0,c=!1,s=void 0;try{for(var l,f=t[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value;i[a]=e(h),o[a]=n(h),++a}}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}return[i,o]}function yu(t,e,n,r){var i,o,a=-1,u=-1,c=!0,s=!1,l=void 0;try{for(var f,h=t[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;i=e(d,++a,t),o=n(d,a,t),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++u)}}catch(p){s=!0,l=p}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}}var gu=function(t,e,n,r,i){var o=0,a=0;return yu(t,e,n,(function(t,e){var n=e-i(t),u=e-r;o+=n*n,a+=u*u})),1-o/a},mu=function(t,e,n){var r=0,i=0,o=0,a=0,u=0;yu(t,e,n,(function(t,e){r+=t,i+=e,o+=t*e,a+=t*t,++u}));var c=pu(r/u,i/u,o/u,a/u),s=function(t){return c[0]+c[1]*t};return{coef:c,predict:s,rSquared:gu(t,e,n,i/u,s)}},bu=function(t,e,n){var r=0,i=0,o=0,a=0,u=0;yu(t,e,n,(function(t,e){t=Math.log(t),r+=t,i+=e,o+=t*e,a+=t*t,++u}));var c=pu(r/u,i/u,o/u,a/u),s=function(t){return c[0]+c[1]*Math.log(t)};return{coef:c,predict:s,rSquared:gu(t,e,n,i/u,s)}},wu=function(t,e,n){var r=0,i=0,o=0,a=0,u=0,c=0;yu(t,e,n,(function(t,e){var n=Math.log(e),s=t*e;r+=e,o+=s,u+=t*s,i+=e*n,a+=s*n,++c}));var s=pu(o/r,i/r,a/r,u/r),l=function(t){return s[0]*Math.exp(s[1]*t)};return s[0]=Math.exp(s[0]),{coef:s,predict:l,rSquared:gu(t,e,n,r/c,l)}},xu=function(t,e,n){var r=0,i=0,o=0,a=0,u=0,c=0;yu(t,e,n,(function(t,e){var n=Math.log(t),s=Math.log(e);r+=n,i+=s,o+=n*s,a+=n*n,u+=e,++c}));var s=pu(r/c,i/c,o/c,a/c),l=function(t){return s[0]*Math.pow(t,s[1])};return s[0]=Math.exp(s[0]),{coef:s,predict:l,rSquared:gu(t,e,n,u/c,l)}},_u=function(t,e,n){var r=0,i=0,o=0,a=0,u=0,c=0,s=0,l=0;yu(t,e,n,(function(t,e){var n=t*t;r+=t,i+=e,o+=n,a+=n*t,u+=n*n,c+=t*e,s+=n*e,++l})),i/=l,c-=r*i,s-=o*i;var f=o-r*r/l,h=a-o*r/l,d=u-o*o/l,p=f*d-h*h,v=(s*f-c*h)/p,y=(c*d-s*h)/p,g=i-y*(r/l)-v*(o/l),m=function(t){return v*t*t+y*t+g};return{coef:[g,y,v],predict:m,rSquared:gu(t,e,n,i,m)}};function Ou(t,e){return ju(t)||Su(t,e)||ku()}function ku(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Su(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function ju(t){if(Array.isArray(t))return t}var Au=function(t,e,n,r){if(1===r)return mu(t,e,n);if(2===r)return _u(t,e,n);var i,o,a,u,c,s=vu(t,e,n),l=Ou(s,2),f=l[0],h=l[1],d=f.length,p=[],v=[],y=r+1,g=0;for(i=0;i<d;++i)g+=h[i];for(i=0;i<y;++i){for(a=0,u=0;a<d;++a)u+=Math.pow(f[a],i)*h[a];for(p.push(u),c=new Float64Array(y),o=0;o<y;++o){for(a=0,u=0;a<d;++a)u+=Math.pow(f[a],i+o);c[o]=u}v.push(c)}v.push(p);var m=Eu(v),b=function(t){for(var e=0,n=0,r=m.length;n<r;++n)e+=m[n]*Math.pow(t,n);return e};return{coef:m,predict:b,rSquared:gu(t,e,n,g/d,b)}};function Eu(t){var e,n,r,i,o,a=t.length-1,u=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*u[r];u[n]=(t[a][n]-o)/t[n][n]}return u}function Cu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ka;while(r>n){if(r-n>600){var o=r-n+1,a=e-n+1,u=Math.log(o),c=.5*Math.exp(2*u/3),s=.5*Math.sqrt(u*c*(o-c)/o)*(a-o/2<0?-1:1),l=Math.max(n,Math.floor(e-a*c/o+s)),f=Math.min(r,Math.floor(e+(o-a)*c/o+s));Cu(t,e,l,f,i)}var h=t[e],d=n,p=r;Mu(t,n,e),i(t[r],h)>0&&Mu(t,n,r);while(d<p){Mu(t,d,p),++d,--p;while(i(t[d],h)<0)++d;while(i(t[p],h)>0)--p}0===i(t[n],h)?Mu(t,n,p):(++p,Mu(t,p,r)),p<=e&&(n=p+1),e<=p&&(r=p-1)}return t}function Mu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}var Du=function(t,e){if(t=Float64Array.from(eu(t,e)),t.length){var n=t.length,r=n>>1;return Cu(t,r-1,0),0===(1&n)&&Cu(t,r,r),nu(t,.5)}};function Fu(t,e){return Pu(t)||Nu(t,e)||Tu()}function Tu(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Nu(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function Pu(t){if(Array.isArray(t))return t}var Ru=2,Iu=1e-12,Lu=function(t,e,n,r){for(var i=vu(t,e,n,!0),o=Fu(i,2),a=o[0],u=o[1],c=a.length,s=Math.max(2,~~(r*c)),l=new Float64Array(c),f=new Float64Array(c),h=new Float64Array(c).fill(1),d=-1;++d<=Ru;){for(var p=[0,s-1],v=0;v<c;++v){for(var y=a[v],g=p[0],m=p[1],b=y-a[g]>a[m]-y?g:m,w=0,x=0,_=0,O=0,k=0,S=1/Math.abs(a[b]-y||1),j=g;j<=m;++j){var A=a[j],E=u[j],C=zu(Math.abs(y-A)*S)*h[j],M=A*C;w+=C,x+=M,_+=E*C,O+=E*M,k+=A*M}var D=pu(x/w,_/w,O/w,k/w),F=Fu(D,2),T=F[0],N=F[1];l[v]=T+N*y,f[v]=Math.abs(u[v]-l[v]),Bu(a,v+1,p)}if(d===Ru)break;var P=Du(f);if(Math.abs(P)<Iu)break;for(var R,I,L=0;L<c;++L)R=f[L]/(6*P),h[L]=R>=1?Iu:(I=1-R*R)*I}return Uu(a,l)};function zu(t){return(t=1-t*t*t)*t*t}function Bu(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))while(e>i&&t[o]-r<=r-t[i])n[0]=++i,n[1]=o,++o}function Uu(t,e){for(var n,r=t.length,i=[],o=0,a=0,u=[];o<r;++o)n=t[o],u[0]===n?u[1]+=(e[o]-u[1])/++a:(a=0,u=[n,e[o]],i.push(u));return i}var qu=.1*Math.PI/180,$u=function(t,e,n,r){n=n||25,r=Math.max(n,r||200);var i=function(e){return[e,t(e)]},o=e[0],a=e[1],u=a-o,c=u/r,s=[i(o)],l=[];if(n===r){for(var f=1;f<r;++f)s.push(i(o+f/n*u));return s.push(i(a)),s}l.push(i(a));for(var h=n;--h>0;)l.push(i(o+h/n*u));var d=s[0],p=l[l.length-1];while(p){var v=i((d[0]+p[0])/2);v[0]-d[0]>=c&&Wu(d,v,p)>qu?l.push(v):(d=p,s.push(p),l.pop()),p=l[l.length-1]}return s};function Wu(t,e,n){var r=Math.atan2(n[1]-t[1],n[0]-t[0]),i=Math.atan2(e[1]-t[1],e[0]-t[0]);return Math.abs(r-i)}function Hu(t){this._key=t?Object(xe["t"])(t):Me,this.reset()}var Gu=Hu.prototype;function Xu(t){Fa.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Gu.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Gu.add=function(t){this._add.push(t)},Gu.rem=function(t){this._rem.push(t)},Gu.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,r=this._add,i=this._rem,o=this._key,a=r.length,u=i.length,c=Array(a-u),s={};for(t=0;t<u;++t)s[o(i[t])]=1;for(t=0,e=0;t<a;++t)s[o(n=r[t])]?s[o(n)]=0:c[e++]=n;return this._rem=[],this._add=c},Gu.distinct=function(t){var e,n=this.values(),r=n.length,i={},o=0;while(--r>=0)e=t(n[r])+"",Object(xe["v"])(i,e)||(i[e]=1,++o);return o},Gu.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=Object(xe["q"])(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},Gu.argmin=function(t){return this.extent(t)[0]||{}},Gu.argmax=function(t){return this.extent(t)[1]||{}},Gu.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):void 0},Gu.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):void 0},Gu.quartile=function(t){return this._get===t&&this._q||(this._q=ou(this.values(),t),this._get=t),this._q},Gu.q1=function(t){return this.quartile(t)[0]},Gu.q2=function(t){return this.quartile(t)[1]},Gu.q3=function(t){return this.quartile(t)[2]},Gu.ci=function(t){return this._get===t&&this._ci||(this._ci=iu(this.values(),1e3,.05,t),this._get=t),this._ci},Gu.ci0=function(t){return this.ci(t)[0]},Gu.ci1=function(t){return this.ci(t)[1]},Xu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ua},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Vu=Object(xe["y"])(Xu,Fa);Vu.transform=function(t,e){var n=this,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.modified();return n.stamp=r.stamp,n.value&&(i||e.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(t):{},e.visit(e.SOURCE,(function(t){return n.add(t)}))):(n.value=n.value||n.init(t),e.visit(e.REM,(function(t){return n.rem(t)})),e.visit(e.ADD,(function(t){return n.add(t)}))),r.modifies(n._outputs),n._drop=!1!==t.drop,t.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},Vu.cross=function(){var t=this,e=t.value,n=t._dnames,r=n.map((function(){return{}})),i=n.length;function o(t){var e,o,a,u;for(e in t)for(a=t[e].tuple,o=0;o<i;++o)r[o][u=a[n[o]]]=u}function a(o,u,c){var s,l,f=n[c],h=r[c++];for(s in h)u[f]=h[s],l=o?o+"|"+s:s,c<i?a(l,u,c):e[l]||t.cell(l,u)}o(t._prev),o(e),a("",{},0)},Vu.init=function(t){var e=this._inputs=[],n=this._outputs=[],r={};function i(t){for(var n,i=Object(xe["i"])(Object(xe["g"])(t)),o=0,a=i.length;o<a;++o)r[n=i[o]]||(r[n]=1,e.push(n))}this._dims=Object(xe["i"])(t.groupby),this._dnames=this._dims.map((function(t){var e=Object(xe["h"])(t);return i(t),n.push(e),e})),this.cellkey=t.key?t.key:La(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,u,c,s,l,f=t.fields||[null],h=t.ops||["count"],d=t.as||[],p=f.length,v={};for(p!==h.length&&Object(xe["n"])("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)o=f[l],a=h[l],null==o&&"count"!==a&&Object(xe["n"])("Null aggregate field specified."),c=Object(xe["h"])(o),s=za(a,c,d[l]),n.push(s),"count"!==a?(u=v[c],u||(i(o),u=v[c]=[],u.field=o,this._measures.push(u)),"count"!==a&&(this._countOnly=!1),u.push(qa(a,s))):this._counts.push(s);return this._measures=this._measures.map((function(t){return Ga(t,t.field)})),{}},Vu.cellkey=La(),Vu.cell=function(t,e){var n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},Vu.newcell=function(t,e){var n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new Hu),n},Vu.newtuple=function(t,e){var n,r,i=this._dnames,o=this._dims,a={};for(n=0,r=o.length;n<r;++n)a[i[n]]=o[n](t);return e?Pe(e.tuple,a):Fe(a)},Vu.add=function(t){var e,n,r,i=this.cellkey(t),o=this.cell(i,t);if(o.num+=1,!this._countOnly)for(o.store&&o.data.add(t),e=o.agg,n=0,r=e.length;n<r;++n)e[n].add(e[n].get(t),t)},Vu.rem=function(t){var e,n,r,i=this.cellkey(t),o=this.cell(i,t);if(o.num-=1,!this._countOnly)for(o.store&&o.data.rem(t),e=o.agg,n=0,r=e.length;n<r;++n)e[n].rem(e[n].get(t),t)},Vu.celltuple=function(t){var e,n,r,i=t.tuple,o=this._counts;for(t.store&&t.data.values(),n=0,r=o.length;n<r;++n)i[o[n]]=t.num;if(!this._countOnly)for(e=t.agg,n=0,r=e.length;n<r;++n)e[n].set(i);return i},Vu.changes=function(t){var e,n,r,i,o=this._adds,a=this._mods,u=this._prev,c=this._drop,s=t.add,l=t.rem,f=t.mod;if(u)for(n in u)e=u[n],c&&!e.num||l.push(e.tuple);for(r=0,i=this._alen;r<i;++r)s.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)e=a[r],(0===e.num&&c?l:f).push(this.celltuple(e)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,t};var Yu=1e-14;function Ju(t){Fa.call(this,null,t)}Ju.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var Zu=Object(xe["y"])(Ju,Fa);Zu.transform=function(t,e){var n,r=this._bins(t),i=r.start,o=r.step,a=t.as||["bin0","bin1"],u=a[0],c=a[1];return t.modified()?(e=e.reflow(!0),n=e.SOURCE):n=e.modified(Object(xe["g"])(t.field))?e.ADD_MOD:e.ADD,e.visit(n,(function(t){var e=r(t);t[u]=e,t[c]=null==e?null:i+o*(1+(e-i)/o)})),e.modifies(a)},Zu._bins=function(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.field,i=Xa(t),o=i.start,a=i.stop,u=i.step;null!=(e=t.anchor)&&(n=e-(o+u*Math.floor((e-o)/u)),o+=n,a+=n);var c=function(t){var e=r(t);return null==e?null:(e=Math.max(o,Math.min(+e,a-u)),o+u*Math.floor(Yu+(e-o)/u))};return c.start=o,c.stop=a,c.step=u,this.value=Object(xe["f"])(c,Object(xe["g"])(r),t.name||"bin_"+Object(xe["h"])(r))};var Ku=function(t,e,n){var r=t,i=e||[],o=n||[],a={},u=0;return{add:function(t){o.push(t)},remove:function(t){a[r(t)]=++u},size:function(){return i.length},data:function(t,e){return u&&(i=i.filter((function(t){return!a[r(t)]})),a={},u=0),e&&t&&i.sort(t),o.length&&(i=t?Object(xe["L"])(t,i,o.sort(t)):i.concat(o),o=[]),i}}};function Qu(t){Fa.call(this,[],t)}Qu.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};var tc=Object(xe["y"])(Qu,Fa);function ec(t){Xe.call(this,null,nc,t)}function nc(t){return this.value&&!t.modified()?this.value:Object(xe["k"])(t.fields,t.orders)}function rc(t){Fa.call(this,null,t)}function ic(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break}return t.match(n)}tc.transform=function(t,e){var n=e.fork(e.ALL),r=Ku(Me,this.value,n.materialize(n.ADD).add),i=t.sort,o=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Re(i),o),e.source&&e.source.root&&(this.value.root=e.source.root),n},Object(xe["y"])(ec,Xe),rc.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var oc=Object(xe["y"])(rc,Fa);function ac(t){Fa.call(this,null,t)}oc.transform=function(t,e){function n(e){return function(n){for(var r,i=ic(u(n),t.case,o)||[],c=0,s=i.length;c<s;++c)a.test(r=i[c])||e(r)}}var r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,u=t.field,c=t.as||["text","count"],s=n((function(t){i[t]=1+(i[t]||0)})),l=n((function(t){i[t]-=1}));return r?e.visit(e.SOURCE,s):(e.visit(e.ADD,s),e.visit(e.REM,l)),this._finish(e,c)},oc._parameterCheck=function(t,e){var n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},oc._finish=function(t,e){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),u=e[0],c=e[1],s=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=Fe({}),r[u]=n,r[c]=i,s.add.push(r)):0===i?(r&&s.rem.push(r),o[n]=null,a[n]=null):r[c]!==i&&(r[c]=i,s.mod.push(r));return s.modifies(e)},ac.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};var uc=Object(xe["y"])(ac,Fa);function cc(t,e,n,r){for(var i,o,a=[],u={},c=t.length,s=0;s<c;++s)for(u[e]=o=t[s],i=0;i<c;++i)u[n]=t[i],r(u)&&(a.push(Fe(u)),u={},u[e]=o);return a}function sc(t){return sc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(t)}uc.transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=this.value,i=t.as||["a","b"],o=i[0],a=i[1],u=!r||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter");return u?(r&&(n.rem=r),r=e.materialize(e.SOURCE).source,n.add=this.value=cc(r,o,a,t.filter||xe["eb"])):n.mod=r,n.source=this.value,n.modifies(i)};var lc={kde:lu,mixture:hu,normal:cu,uniform:du},fc="distributions",hc="function",dc="field";function pc(t,e){var n=t[hc];Object(xe["v"])(lc,n)||Object(xe["n"])("Unknown distribution function: "+n);var r=lc[n]();for(var i in t)i===dc?r.data((t.from||e()).map(t[i])):i===fc?r[i](t[i].map((function(t){return pc(t,e)}))):sc(r[i])===hc&&r[i](t[i]);return r}function vc(t){Fa.call(this,null,t)}var yc=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],gc={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:yc},{name:"weights",type:"number",array:!0}]};vc.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:yc.concat(gc)},{name:"as",type:"string",array:!0,default:["value","density"]}]};var mc=Object(xe["y"])(vc,Fa);function bc(t){return function(){return t.materialize(t.SOURCE).source}}function wc(t){Xe.call(this,null,xc,t),this.modified(!0)}function xc(t){var e=t.expr;return this.value&&!t.modified("expr")?this.value:Object(xe["f"])((function(n){return e(n,t)}),Object(xe["g"])(e),Object(xe["h"])(e))}function _c(t){Fa.call(this,[void 0,void 0],t)}mc.transform=function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=pc(t.distribution,bc(e)),i=t.steps||t.minsteps||25,o=t.steps||t.maxsteps||200,a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&Object(xe["n"])("Invalid density method: "+a),t.extent||r.data||Object(xe["n"])("Missing density extent parameter."),a=r[a];var u=t.as||["value","density"],c=t.extent||Object(xe["p"])(r.data()),s=$u(a,c,i,o).map((function(t){var e={};return e[u[0]]=t[0],e[u[1]]=t[1],Fe(e)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n},Object(xe["y"])(wc,Xe),_c.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};var Oc=Object(xe["y"])(_c,Fa);function kc(t,e){Xe.call(this,t),this.parent=e}Oc.transform=function(t,e){var n,r=this.value,i=t.field,o=r[0],a=r[1];if(n=e.changed()||e.modified(i.fields)||t.modified("field"),(n||null==o)&&(o=1/0,a=-1/0),e.visit(n?e.SOURCE:e.ADD,(function(t){var e=i(t);null!=e&&(e=+e,e<o&&(o=e),e>a&&(a=e))})),!Number.isFinite(o)||!Number.isFinite(a)){var u=Object(xe["h"])(i);u&&(u=' for field "'.concat(u,'"')),e.dataflow.warn("Infinite extent".concat(u,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]};var Sc=Object(xe["y"])(kc,Xe);function jc(t){Fa.call(this,{},t),this._keys=Object(xe["s"])();var e=this._targets=[];e.active=0,e.forEach=function(t){for(var n=0,r=e.active;n<r;++n)t(e[n],n,e)}}Sc.connect=function(t){return this.targets().add(t),t.source=this},Sc.add=function(t){this.value.add.push(t)},Sc.rem=function(t){this.value.rem.push(t)},Sc.mod=function(t){this.value.mod.push(t)},Sc.init=function(t){this.value.init(t,t.NO_SOURCE)},Sc.evaluate=function(){return this.value};var Ac=Object(xe["y"])(jc,Fa);function Ec(t){Xe.call(this,null,Cc,t)}function Cc(t){return this.value&&!t.modified()?this.value:Object(xe["A"])(t.name)?Object(xe["i"])(t.name).map((function(t){return Object(xe["t"])(t)})):Object(xe["t"])(t.name,t.as)}function Mc(t){Fa.call(this,Object(xe["s"])(),t)}Ac.activate=function(t){this._targets[this._targets.active++]=t},Ac.subflow=function(t,e,n,r){var i,o,a=this.value,u=Object(xe["v"])(a,t)&&a[t];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(o=r||(o=this._group[t])&&o.tuple,i=n.dataflow,u=i.add(new kc(n.fork(n.NO_SOURCE),this)).connect(e(i,t,o)),a[t]=u,this.activate(u)),u},Ac.transform=function(t,e){var n=e.dataflow,r=this,i=t.key,o=t.subflow,a=this._keys,u=t.modified("key");function c(t){return r.subflow(t,o,e)}return this._group=t.group||{},this._targets.active=0,e.visit(e.REM,(function(t){var e=Me(t),n=a.get(e);void 0!==n&&(a.delete(e),c(n).rem(t))})),e.visit(e.ADD,(function(t){var e=i(t);a.set(Me(t),e),c(e).add(t)})),u||e.modified(i.fields)?e.visit(e.MOD,(function(t){var e=Me(t),n=a.get(e),r=i(t);n===r?c(r).mod(t):(a.set(e,r),c(n).rem(t),c(r).add(t))})):e.changed(e.MOD)&&e.visit(e.MOD,(function(t){c(a.get(Me(t))).mod(t)})),u&&e.visit(e.REFLOW,(function(t){var e=Me(t),n=a.get(e),r=i(t);n!==r&&(a.set(e,r),c(n).rem(t),c(r).add(t))})),a.empty>n.cleanThreshold&&n.runAfter(a.clean),e},Object(xe["y"])(Ec,Xe),Mc.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};var Dc=Object(xe["y"])(Mc,Fa);function Fc(t,e){return t?t.map((function(t,n){return e[n]||Object(xe["h"])(t)})):null}function Tc(t){Fa.call(this,[],t)}Dc.transform=function(t,e){var n=e.dataflow,r=this.value,i=e.fork(),o=i.add,a=i.rem,u=i.mod,c=t.expr,s=!0;function l(e){var n=Me(e),i=c(e,t),l=r.get(n);i&&l?(r.delete(n),o.push(e)):i||l?s&&i&&!l&&u.push(e):(r.set(n,1),a.push(e))}return e.visit(e.REM,(function(t){var e=Me(t);r.has(e)?r.delete(e):a.push(t)})),e.visit(e.ADD,(function(e){c(e,t)?o.push(e):r.set(Me(e),1)})),e.visit(e.MOD,l),t.modified()&&(s=!1,e.visit(e.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},Tc.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]};var Nc=Object(xe["y"])(Tc,Fa);function Pc(t){Fa.call(this,[],t)}Nc.transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=Fc(r,t.as||[]),o=i.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,a,u,c=r.map((function(e){return e(t)})),s=c.reduce((function(t,e){return Math.max(t,e.length)}),0),l=0;l<s;++l){for(a=Te(t),e=0;e<o;++e)a[i[e]]=null==(u=c[e][l])?null:u;n.add.push(a)}})),this.value=n.source=n.add,n.modifies(i)},Pc.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};var Rc=Object(xe["y"])(Pc,Fa);function Ic(t){Fa.call(this,null,t)}Rc.transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=r.map(xe["h"]),o=t.as||["key","value"],a=o[0],u=o[1],c=r.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,o=0;o<c;++o)e=Te(t),e[a]=i[o],e[u]=r[o](t),n.add.push(e)})),this.value=n.source=n.add,n.modifies(o)},Ic.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};var Lc=Object(xe["y"])(Ic,Fa);function zc(t){Fa.call(this,[],t)}Lc.transform=function(t,e){var n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)?e.ADD_MOD:e.ADD;function a(e){e[r]=n(e,t)}return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,a)};var Bc=Object(xe["y"])(zc,Fa);function Uc(t,e){var n=0,r=0;if(void 0===e){var i=!0,o=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(g){o=!0,a=g}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}else{var l=-1,f=!0,h=!1,d=void 0;try{for(var p,v=t[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value;null!=(y=e(y,++l,t))&&(y=+y)>=y&&(++n,r+=y)}}catch(g){h=!0,d=g}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}if(n)return r/n}function qc(t,e){var n;if(void 0===e){var r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;null!=c&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(y){i=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}else{var s=-1,l=!0,f=!1,h=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;null!=(v=e(v,++s,t))&&(n>v||void 0===n&&v>=v)&&(n=v)}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}return n}function $c(t,e){var n;if(void 0===e){var r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;null!=c&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(y){i=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}else{var s=-1,l=!0,f=!1,h=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;null!=(v=e(v,++s,t))&&(n<v||void 0===n&&v>=v)&&(n=v)}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}return n}Bc.transform=function(t,e){var n,r,i,o=this.value,a=e.fork(e.ALL),u=t.size-o.length,c=t.generator;if(u>0){for(n=[];--u>=0;)n.push(i=Fe(c(t))),o.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=o.slice(0,-u),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,o=o.slice(-u);return a.source=this.value=o,a};var Wc={value:"value",median:Du,mean:Uc,min:qc,max:$c},Hc=[];function Gc(t){Fa.call(this,[],t)}Gc.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};var Xc=Object(xe["y"])(Gc,Fa);function Vc(t){var e,n=t.method||Wc.value;if(null!=Wc[n])return n===Wc.value?(e=void 0!==t.value?t.value:0,function(){return e}):Wc[n];Object(xe["n"])("Unrecognized imputation method: "+n)}function Yc(t){var e=t.field;return function(t){return t?e(t):NaN}}function Jc(t,e,n,r){var i,o,a,u,c,s,l,f,h=function(t){return t(f)},d=[],p=r?r.slice():[],v={},y={};for(p.forEach((function(t,e){v[t]=e+1})),u=0,l=t.length;u<l;++u)f=t[u],s=n(f),c=v[s]||(v[s]=p.push(s)),o=(i=e?e.map(h):Hc)+"",(a=y[o])||(a=y[o]=[],d.push(a),a.values=i),a[c-1]=f;return d.domain=p,d}function Zc(t){Xu.call(this,t)}Xc.transform=function(t,e){var n,r,i,o,a,u,c,s,l,f,h=e.fork(e.ALL),d=Vc(t),p=Yc(t),v=Object(xe["h"])(t.field),y=Object(xe["h"])(t.key),g=(t.groupby||[]).map(xe["h"]),m=Jc(e.source,t.groupby,t.key,t.keyvals),b=[],w=this.value,x=m.domain.length;for(a=0,s=m.length;a<s;++a)for(n=m[a],i=n.values,r=NaN,c=0;c<x;++c)if(null==n[c]){for(o=m.domain[c],f={_impute:!0},u=0,l=i.length;u<l;++u)f[g[u]]=i[u];f[y]=o,f[v]=isNaN(r)?r=d(n,p):r,b.push(Fe(f))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),w.length&&(h.rem=h.materialize(h.REM).rem.concat(w)),this.value=b,h},Zc.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Ua},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var Kc=Object(xe["y"])(Zc,Xu);function Qc(t){Fa.call(this,null,t)}Kc.transform=function(t,e){var n,r=this,i=t.modified();return r.value&&(i||e.modified(r._inputs,!0))?(n=r.value=i?r.init(t):{},e.visit(e.SOURCE,(function(t){r.add(t)}))):(n=r.value=r.value||this.init(t),e.visit(e.REM,(function(t){r.rem(t)})),e.visit(e.ADD,(function(t){r.add(t)}))),r.changes(),e.visit(e.SOURCE,(function(t){Object(xe["o"])(t,n[r.cellkey(t)].tuple)})),e.reflow(i).modifies(this._outputs)},Kc.changes=function(){var t,e,n=this._adds,r=this._mods;for(t=0,e=this._alen;t<e;++t)this.celltuple(n[t]),n[t]=null;for(t=0,e=this._mlen;t<e;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0},Qc.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};var ts=Object(xe["y"])(Qc,Fa);function es(t,e,n){var r,i,o,a,u,c,s=[],l=function(t){return t(a)};if(null==e)s.push(t.map(n));else for(r={},i=0,o=t.length;i<o;++i)a=t[i],u=e.map(l),c=r[u],c||(r[u]=c=[],c.dims=u,s.push(c)),c.push(n(a));return s}function ns(t){Xe.call(this,null,rs,t)}function rs(t){return this.value&&!t.modified()?this.value:Object(xe["I"])(t.fields,t.flat)}function is(t){Fa.call(this,[],t)}ts.transform=function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=e.materialize(e.SOURCE).source,i=es(r,t.groupby,t.field),o=(t.groupby||[]).map(xe["h"]),a=t.bandwidth,u=t.cumulative?"cdf":"pdf",c=t.as||["value","density"],s=[],l=t.extent,f=t.steps||t.minsteps||25,h=t.steps||t.maxsteps||200;"pdf"!==u&&"cdf"!==u&&Object(xe["n"])("Invalid density method: "+u),"shared"===t.resolve&&(l||(l=Object(xe["p"])(r,t.field)),f=h=t.steps||h),i.forEach((function(e){var n=lu(e,a)[u],r=t.counts?e.length:1,i=l||Object(xe["p"])(e);$u(n,i,f,h).forEach((function(t){for(var n={},i=0;i<o.length;++i)n[o[i]]=e.dims[i];n[c[0]]=t[0],n[c[1]]=t[1]*r,s.push(Fe(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n},Object(xe["y"])(ns,Xe);var os=Object(xe["y"])(is,Fa);function as(t,e,n){n.forEach(Fe);var r=e.fork(e.NO_FIELDS&e.NO_SOURCE);return r.rem=t.value,t.value=r.add=r.source=n,r}function us(t){Fa.call(this,{},t)}os.transform=function(t,e){var n=this,r=e.dataflow;return t.values?as(this,e,r.parse(t.values,t.format)):r.request(t.url,t.format).then((function(t){return as(n,e,t.data||[])}))},us.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};var cs=Object(xe["y"])(us,Fa);function ss(t){Xe.call(this,null,ls,t)}function ls(t){if(this.value&&!t.modified())return this.value;var e,n,r,i=1/0,o=-1/0,a=t.extents;for(e=0,n=a.length;e<n;++e)r=a[e],r[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function fs(t){Xe.call(this,null,hs,t)}function hs(t){return this.value&&!t.modified()?this.value:t.values.reduce((function(t,e){return t.concat(e)}),[])}function ds(t){Fa.call(this,null,t)}function ps(t){Xu.call(this,t)}cs.transform=function(t,e){var n,r,i,o=e,a=t.as,u=t.fields,c=t.index,s=t.values,l=null==t.default?null:t.default,f=t.modified(),h=f?e.SOURCE:e.ADD,d=u.length;return s?(r=s.length,d>1&&!a&&Object(xe["n"])('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==d*r&&Object(xe["n"])('The "as" parameter has too few output field names.'),a=a||s.map(xe["h"]),n=function(t){for(var e,n,i=0,o=0;i<d;++i)if(n=c.get(u[i](t)),null==n)for(e=0;e<r;++e,++o)t[a[o]]=l;else for(e=0;e<r;++e,++o)t[a[o]]=s[e](n)}):(a||Object(xe["n"])("Missing output field names."),n=function(t){for(var e,n=0;n<d;++n)e=c.get(u[n](t)),t[a[n]]=null==e?l:e}),f?o=e.reflow(!0):(i=u.some((function(t){return e.modified(t.fields)})),h|=i?e.MOD:0),e.visit(h,n),o.modifies(a)},Object(xe["y"])(ss,Xe),Object(xe["y"])(fs,Xe),Object(xe["y"])(ds,Fa),ds.prototype.transform=function(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)},ps.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Ua,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var vs=Object(xe["y"])(ps,Xu);function ys(t,e){var n=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",o=Object(xe["g"])(n).concat(Object(xe["g"])(r)),a=ms(n,t.limit||0,e);return e.changed()&&t.set("__pivot__",null,null,!0),{key:t.key,groupby:t.groupby,ops:a.map((function(){return i})),fields:a.map((function(t){return gs(t,n,r,o)})),as:a.map((function(t){return t+""})),modified:t.modified.bind(t)}}function gs(t,e,n,r){return Object(xe["f"])((function(r){return e(r)===t?n(r):NaN}),r,t+"")}function ms(t,e,n){var r={},i=[];return n.visit(n.SOURCE,(function(e){var n=t(e);r[n]||(r[n]=1,i.push(n))})),i.sort((function(t,e){return(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0)})),e?i.slice(0,e):i}function bs(t){jc.call(this,t)}vs._transform=vs.transform,vs.transform=function(t,e){return this._transform(ys(t,e),e)};var ws=Object(xe["y"])(bs,jc);function xs(t){Fa.call(this,null,t)}ws.transform=function(t,e){var n=this,r=t.subflow,i=t.field;return(t.modified("field")||i&&e.modified(Object(xe["g"])(i)))&&Object(xe["n"])("PreFacet does not support field modification."),this._targets.active=0,e.visit(e.MOD,(function(t){var o=n.subflow(Me(t),r,e,t);i?i(t).forEach((function(t){o.mod(t)})):o.mod(t)})),e.visit(e.ADD,(function(t){var o=n.subflow(Me(t),r,e,t);i?i(t).forEach((function(t){o.add(Fe(t))})):o.add(t)})),e.visit(e.REM,(function(t){var o=n.subflow(Me(t),r,e,t);i?i(t).forEach((function(t){o.rem(t)})):o.rem(t)})),e},xs.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};var _s=Object(xe["y"])(xs,Fa);function Os(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}function ks(t){Fa.call(this,null,t)}_s.transform=function(t,e){var n,r,i=t.fields,o=Fc(t.fields,t.as||[]),a=i?function(t,e){return Os(t,e,i,o)}:Ne;return this.value?r=this.value:(e=e.addAll(),r=this.value={}),n=e.fork(e.NO_SOURCE),e.visit(e.REM,(function(t){var e=Me(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(function(t){var e=a(t,Fe({}));r[Me(t)]=e,n.add.push(e)})),e.visit(e.MOD,(function(t){n.mod.push(a(t,r[Me(t)]))})),n};var Ss=Object(xe["y"])(ks,Fa);function js(t){Fa.call(this,null,t)}Ss.transform=function(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation};var As=Object(xe["y"])(js,Fa);function Es(t){Fa.call(this,[],t),this.count=0}As.transform=function(t,e){var n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,(function(t){var e=Me(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(function(t){var e=Te(t);r[Me(t)]=e,n.add.push(e)})),e.visit(e.MOD,(function(t){n.mod.push(Ne(t,r[Me(t)]))}))),n},Es.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};var Cs=Object(xe["y"])(Es,Fa);Cs.transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=t.modified("size"),i=t.size,o=this.value,a=this.count,u=0,c=o.reduce((function(t,e){return t[Me(e)]=1,t}),{});function s(t){var e,r;o.length<i?o.push(t):(r=~~((a+1)*Ja()),r<o.length&&r>=u&&(e=o[r],c[Me(e)]&&n.rem.push(e),o[r]=t)),++a}if(e.rem.length&&(e.visit(e.REM,(function(t){var e=Me(t);c[e]&&(c[e]=-1,n.rem.push(t)),--a})),o=o.filter((function(t){return-1!==c[Me(t)]}))),(e.rem.length||r)&&o.length<i&&e.source&&(u=a=o.length,e.visit(e.SOURCE,(function(t){c[Me(t)]||s(t)})),u=-1),r&&o.length>i){for(var l=0,f=o.length-i;l<f;++l)c[Me(o[l])]=-1,n.rem.push(o[l]);o=o.slice(f)}return e.mod.length&&e.visit(e.MOD,(function(t){c[Me(t)]&&n.mod.push(t)})),e.add.length&&e.visit(e.ADD,s),(e.add.length||u<0)&&(n.add=o.filter((function(t){return!c[Me(t)]}))),this.count=a,this.value=n.source=o,n};var Ms=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o};function Ds(t){Fa.call(this,null,t)}Ds.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};var Fs=Object(xe["y"])(Ds,Fa);function Ts(t){Fa.call(this,null,t),this.modified(!0)}Fs.transform=function(t,e){if(!this.value||t.modified()){var n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=Ms(t.start,t.stop,t.step||1).map((function(t){var e={};return e[r]=t,Fe(e)})),n.add=e.add.concat(this.value),n}};var Ns=Object(xe["y"])(Ts,Fa);function Ps(t){Fa.call(this,Object(xe["s"])(),t)}Ns.transform=function(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation};var Rs=Object(xe["y"])(Ps,Fa);function Is(t){Fa.call(this,null,t)}Rs.transform=function(t,e){var n=e.dataflow,r=t.field,i=this.value,o=!0;function a(t){i.set(r(t),t)}return t.modified("field")||e.modified(r.fields)?(i.clear(),e.visit(e.SOURCE,a)):e.changed()?(e.visit(e.REM,(function(t){i.delete(r(t))})),e.visit(e.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),e.fork()};var Ls=Object(xe["y"])(Is,Fa);function zs(t,e,n,r){var i=Bs[t](e,n);return{init:i.init||xe["hb"],update:function(t,e){e[r]=i.next(t)}}}Ls.transform=function(t,e){var n=!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields);n&&(this.value=(t.sort?e.source.slice().sort(Re(t.sort)):e.source).map(t.field))};var Bs={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){var t=Bs.rank(),e=t.next;return{init:t.init,next:function(t){return(e(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){return t=0},next:function(e){var n=e.index,r=e.data,i=e.compare;if(t<n){while(n+1<r.length&&!i(r[n],r[n+1]))++n;t=n}return(1+t)/r.length}}},ntile:function(t,e){e=+e,e>0||Object(xe["n"])("ntile num must be greater than zero.");var n=Bs.cume_dist(),r=n.next;return{init:n.init,next:function(t){return Math.ceil(e*r(t))}}},lag:function(t,e){return e=+e||1,{next:function(n){var r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:function(n){var r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(e){return t(e.data[e.i0])}}},last_value:function(t){return{next:function(e){return t(e.data[e.i1-1])}}},nth_value:function(t,e){return e=+e,e>0||Object(xe["n"])("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}},prev_value:function(t){var e=null;return{next:function(n){var r=t(n.data[n.index]);return null!=r?e=r:e}}},next_value:function(t){var e=null,n=-1;return{next:function(r){var i=r.data;return r.index<=n?e:(n=Us(t,i,r.index))<0?(n=i.length,e=null):e=t(i[n])}}}};function Us(t,e,n){for(var r=e.length;n<r;++n){var i=t(e[n]);if(null!=i)return n}return-1}var qs=Object.keys(Bs);function $s(t){var e=this,n=Object(xe["i"])(t.ops),r=Object(xe["i"])(t.fields),i=Object(xe["i"])(t.params),o=Object(xe["i"])(t.as),a=e.outputs=[],u=e.windows=[],c={},s={},l=!0,f=[],h=[];function d(t){Object(xe["i"])(Object(xe["g"])(t)).forEach((function(t){return c[t]=1}))}d(t.sort),n.forEach((function(t,e){var n=r[e],c=Object(xe["h"])(n),p=za(t,c,o[e]);if(d(n),a.push(p),Object(xe["v"])(Bs,t))u.push(zs(t,r[e],i[e],p));else{if(null==n&&"count"!==t&&Object(xe["n"])("Null aggregate field specified."),"count"===t)return void f.push(p);l=!1;var v=s[c];v||(v=s[c]=[],v.field=n,h.push(v)),v.push(qa(t,p))}})),(f.length||h.length)&&(e.cell=Hs(h,f,l)),e.inputs=Object.keys(c)}var Ws=$s.prototype;function Hs(t,e,n){t=t.map((function(t){return Ga(t,t.field)}));var r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var u=r.data=new Hu;return r.add=function(t){if(r.num+=1,!n){u&&u.add(t);for(var e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){u&&u.rem(t);for(var e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){var i,a;for(u&&u.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,u&&u.reset();for(var t=0;t<i;++t)o[t].init()},r}Ws.init=function(){this.windows.forEach((function(t){return t.init()})),this.cell&&this.cell.init()},Ws.update=function(t,e){var n,r=this,i=r.cell,o=r.windows,a=t.data,u=o&&o.length;if(i){for(n=t.p0;n<t.i0;++n)i.rem(a[n]);for(n=t.p1;n<t.i1;++n)i.add(a[n]);i.set(e)}for(n=0;n<u;++n)o[n].update(t,e)};var Gs=function(t){return 1===t.length&&(t=Xs(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};function Xs(t){return function(e,n){return Ka(t(e),n)}}function Vs(t){Fa.call(this,{},t),this._mlen=0,this._mods=[]}Vs.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:qs.concat(Ua)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Ys=Object(xe["y"])(Vs,Fa);function Js(t,e,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],u=t.data(n),c=u.length,s=0,l=o?Gs(i):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Object(xe["l"])(-1)};for(e.init();s<c;++s)Zs(f,a,s,c),o&&Ks(f,l),e.update(f,u[s])}function Zs(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}function Ks(t,e){var n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}Ys.transform=function(t,e){var n,r,i=this,o=i.state,a=t.modified(),u=Re(t.sort);this.stamp=e.stamp,o&&!a||(o=i.state=new $s(t));var c=La(t.groupby);function s(t){return i.group(c(t))}for(a||e.modified(o.inputs)?(i.value={},e.visit(e.SOURCE,(function(t){s(t).add(t)}))):(e.visit(e.REM,(function(t){s(t).remove(t)})),e.visit(e.ADD,(function(t){s(t).add(t)}))),n=0,r=i._mlen;n<r;++n)Js(i._mods[n],o,u,t);return i._mlen=0,i._mods=[],e.reflow(a).modifies(o.outputs)},Ys.group=function(t){var e=this,n=e.value[t];return n||(n=e.value[t]=Ku(Me),n.stamp=-1),n.stamp<e.stamp&&(n.stamp=e.stamp,e._mods[e._mlen++]=n),n};var Qs="top",tl="left",el="right",nl="bottom",rl="top-left",il="top-right",ol="bottom-left",al="bottom-right",ul="start",cl="middle",sl="end",ll="x",fl="y",hl="group",dl="axis",pl="title",vl="frame",yl="scope",gl="legend",ml="row-header",bl="row-footer",wl="row-title",xl="column-header",_l="column-footer",Ol="column-title",kl="padding",Sl="symbol",jl="fit",Al="fit-x",El="fit-y",Cl="pad",Ml="none",Dl="all",Fl="each",Tl="flush",Nl="column",Pl="row";function Rl(t){this.clear(),t&&this.union(t)}var Il=Rl.prototype;Il.clone=function(){return new Rl(this)},Il.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Il.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Il.equals=function(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},Il.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},Il.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},Il.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},Il.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Il.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},Il.rotate=function(t,e,n){var r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Il.rotatedPoints=function(t,e,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,u=Math.cos(t),c=Math.sin(t),s=e-e*u+n*c,l=n-e*c-n*u;return[u*r-c*i+s,c*r+u*i+l,u*r-c*a+s,c*r+u*a+l,u*o-c*i+s,c*o+u*i+l,u*o-c*a+s,c*o+u*a+l]},Il.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},Il.intersect=function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},Il.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},Il.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},Il.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},Il.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},Il.width=function(){return this.x2-this.x1},Il.height=function(){return this.y2-this.y1};var Ll=0,zl="p_";function Bl(t){return t&&t.gradient}function Ul(t,e,n){var r=t.id,i=t.gradient,o="radial"===i?zl:"";return r||(r=t.id="gradient_"+Ll++,"radial"===i?(t.x1=ql(t.x1,.5),t.y1=ql(t.y1,.5),t.r1=ql(t.r1,0),t.x2=ql(t.x2,.5),t.y2=ql(t.y2,.5),t.r2=ql(t.r2,.5),o=zl):(t.x1=ql(t.x1,0),t.y1=ql(t.y1,0),t.x2=ql(t.x2,1),t.y2=ql(t.y2,0))),e[r]=t,"url("+(n||"")+"#"+o+r+")"}function ql(t,e){return null!=t?t:e}var $l=function(t,e){var n,r=[];return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}};function Wl(t){this.mark=t,this.bounds=this.bounds||new Rl}function Hl(t){Wl.call(this,t),this.items=this.items||[]}function Gl(t,e){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}function Xl(){return"undefined"!==typeof Image?Image:null}function Vl(t){this._pending=0,this._loader=t||Co()}Object(xe["y"])(Hl,Wl);var Yl=Vl.prototype;function Jl(t){t._pending+=1}function Zl(t){t._pending-=1}Yl.pending=function(){return this._pending},Yl.sanitizeURL=function(t){var e=this;return Jl(e),e._loader.sanitize(t,{context:"href"}).then((function(t){return Zl(e),t})).catch((function(){return Zl(e),null}))},Yl.loadImage=function(t){var e=this,n=Xl();return Jl(e),e._loader.sanitize(t,{context:"image"}).then((function(t){var r=t.href;if(!r||!n)throw{url:r};var i=new n;return i.onload=function(){Zl(e),i.loaded=!0},i.onerror=function(){Zl(e),i.loaded=!1},i.src=r,i})).catch((function(t){return Zl(e),{loaded:!1,width:0,height:0,src:t&&t.url||""}}))},Yl.ready=function(){var t=this;return new Promise((function(e){function n(r){t.pending()?setTimeout((function(){n(!0)}),10):e(r)}n(!1)}))};var Kl=Math.PI,Ql=2*Kl,tf=1e-6,ef=Ql-tf;function nf(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rf(){return new nf}nf.prototype=rf.prototype={constructor:nf,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,c=r-e,s=o-t,l=a-e,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>tf)if(Math.abs(l*u-c*s)>tf&&i){var h=n-o,d=r-a,p=u*u+c*c,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((Kl-Math.acos((p+f-v)/(2*y*g)))/2),b=m/g,w=m/y;Math.abs(b-1)>tf&&(this._+="L"+(t+b*s)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>s*d)+","+(this._x1=t+w*u)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),u=n*Math.sin(r),c=t+a,s=e+u,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>tf||Math.abs(this._y1-s)>tf)&&(this._+="L"+c+","+s),n&&(f<0&&(f=f%Ql+Ql),f>ef?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>tf&&(this._+="A"+n+","+n+",0,"+ +(f>=Kl)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var of=rf,af=function(t){return function(){return t}},uf=Math.abs,cf=Math.atan2,sf=Math.cos,lf=Math.max,ff=Math.min,hf=Math.sin,df=Math.sqrt,pf=1e-12,vf=Math.PI,yf=vf/2,gf=2*vf;function mf(t){return t>1?0:t<-1?vf:Math.acos(t)}function bf(t){return t>=1?yf:t<=-1?-yf:Math.asin(t)}function wf(t){return t.innerRadius}function xf(t){return t.outerRadius}function _f(t){return t.startAngle}function Of(t){return t.endAngle}function kf(t){return t&&t.padAngle}function Sf(t,e,n,r,i,o,a,u){var c=n-t,s=r-e,l=a-i,f=u-o,h=f*c-l*s;if(!(h*h<pf))return h=(l*(e-o)-f*(t-i))/h,[t+h*c,e+h*s]}function jf(t,e,n,r,i,o,a){var u=t-n,c=e-r,s=(a?o:-o)/df(u*u+c*c),l=s*c,f=-s*u,h=t+l,d=e+f,p=n+l,v=r+f,y=(h+p)/2,g=(d+v)/2,m=p-h,b=v-d,w=m*m+b*b,x=i-o,_=h*v-p*d,O=(b<0?-1:1)*df(lf(0,x*x*w-_*_)),k=(_*b-m*O)/w,S=(-_*m-b*O)/w,j=(_*b+m*O)/w,A=(-_*m+b*O)/w,E=k-y,C=S-g,M=j-y,D=A-g;return E*E+C*C>M*M+D*D&&(k=j,S=A),{cx:k,cy:S,x01:-l,y01:-f,x11:k*(i/x-1),y11:S*(i/x-1)}}var Af=function(){var t=wf,e=xf,n=af(0),r=null,i=_f,o=Of,a=kf,u=null;function c(){var c,s,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-yf,d=o.apply(this,arguments)-yf,p=uf(d-h),v=d>h;if(u||(u=c=of()),f<l&&(s=f,f=l,l=s),f>pf)if(p>gf-pf)u.moveTo(f*sf(h),f*hf(h)),u.arc(0,0,f,h,d,!v),l>pf&&(u.moveTo(l*sf(d),l*hf(d)),u.arc(0,0,l,d,h,v));else{var y,g,m=h,b=d,w=h,x=d,_=p,O=p,k=a.apply(this,arguments)/2,S=k>pf&&(r?+r.apply(this,arguments):df(l*l+f*f)),j=ff(uf(f-l)/2,+n.apply(this,arguments)),A=j,E=j;if(S>pf){var C=bf(S/l*hf(k)),M=bf(S/f*hf(k));(_-=2*C)>pf?(C*=v?1:-1,w+=C,x-=C):(_=0,w=x=(h+d)/2),(O-=2*M)>pf?(M*=v?1:-1,m+=M,b-=M):(O=0,m=b=(h+d)/2)}var D=f*sf(m),F=f*hf(m),T=l*sf(x),N=l*hf(x);if(j>pf){var P,R=f*sf(b),I=f*hf(b),L=l*sf(w),z=l*hf(w);if(p<vf&&(P=Sf(D,F,L,z,R,I,T,N))){var B=D-P[0],U=F-P[1],q=R-P[0],$=I-P[1],W=1/hf(mf((B*q+U*$)/(df(B*B+U*U)*df(q*q+$*$)))/2),H=df(P[0]*P[0]+P[1]*P[1]);A=ff(j,(l-H)/(W-1)),E=ff(j,(f-H)/(W+1))}}O>pf?E>pf?(y=jf(L,z,D,F,f,E,v),g=jf(R,I,T,N,f,E,v),u.moveTo(y.cx+y.x01,y.cy+y.y01),E<j?u.arc(y.cx,y.cy,E,cf(y.y01,y.x01),cf(g.y01,g.x01),!v):(u.arc(y.cx,y.cy,E,cf(y.y01,y.x01),cf(y.y11,y.x11),!v),u.arc(0,0,f,cf(y.cy+y.y11,y.cx+y.x11),cf(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,E,cf(g.y11,g.x11),cf(g.y01,g.x01),!v))):(u.moveTo(D,F),u.arc(0,0,f,m,b,!v)):u.moveTo(D,F),l>pf&&_>pf?A>pf?(y=jf(T,N,R,I,l,-A,v),g=jf(D,F,L,z,l,-A,v),u.lineTo(y.cx+y.x01,y.cy+y.y01),A<j?u.arc(y.cx,y.cy,A,cf(y.y01,y.x01),cf(g.y01,g.x01),!v):(u.arc(y.cx,y.cy,A,cf(y.y01,y.x01),cf(y.y11,y.x11),!v),u.arc(0,0,l,cf(y.cy+y.y11,y.cx+y.x11),cf(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,A,cf(g.y11,g.x11),cf(g.y01,g.x01),!v))):u.arc(0,0,l,x,w,v):u.lineTo(T,N)}else u.moveTo(0,0);if(u.closePath(),c)return u=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-vf/2;return[sf(r)*n,hf(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:af(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:af(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:af(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:af(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:af(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:af(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:af(+t),c):a},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c};function Ef(t){this._context=t}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var Cf=function(t){return new Ef(t)};function Mf(t){return t[0]}function Df(t){return t[1]}var Ff=function(){var t=Mf,e=Df,n=af(!0),r=null,i=Cf,o=null;function a(a){var u,c,s,l=a.length,f=!1;for(null==r&&(o=i(s=of())),u=0;u<=l;++u)!(u<l&&n(c=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,u,a),+e(c,u,a));if(s)return o=null,s+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:af(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:af(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:af(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},Tf=function(){var t=Mf,e=null,n=af(0),r=Df,i=af(!0),o=null,a=Cf,u=null;function c(c){var s,l,f,h,d,p=c.length,v=!1,y=new Array(p),g=new Array(p);for(null==o&&(u=a(d=of())),s=0;s<=p;++s){if(!(s<p&&i(h=c[s],s,c))===v)if(v=!v)l=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=s-1;f>=l;--f)u.point(y[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(y[s]=+t(h,s,c),g[s]=+n(h,s,c),u.point(e?+e(h,s,c):y[s],r?+r(h,s,c):g[s]))}if(d)return u=null,d+""||null}function s(){return Ff().defined(i).curve(a).context(o)}return c.x=function(n){return arguments.length?(t="function"===typeof n?n:af(+n),e=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:af(+e),c):t},c.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:af(+t),c):e},c.y=function(t){return arguments.length?(n="function"===typeof t?t:af(+t),r=null,c):n},c.y0=function(t){return arguments.length?(n="function"===typeof t?t:af(+t),c):n},c.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:af(+t),c):r},c.lineX0=c.lineY0=function(){return s().x(t).y(n)},c.lineY1=function(){return s().x(t).y(r)},c.lineX1=function(){return s().x(e).y(n)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:af(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),c):o},c};Pf(Cf);function Nf(t){this._curve=t}function Pf(t){function e(e){return new Nf(t(e))}return e._curve=t,e}Nf.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;var Rf={draw:function(t,e){var n=Math.sqrt(e/vf);t.moveTo(n,0),t.arc(0,0,n,0,gf)}},If=(Math.sqrt(1/3),Math.sin(vf/10)/Math.sin(7*vf/10)),Lf=(Math.sin(gf/10),Math.cos(gf/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){var t=af(Rf),e=af(64),n=null;function r(){var r;if(n||(n=r=of()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"===typeof e?e:af(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:af(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}),zf=function(){};function Bf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Uf(t){this._context=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var qf=function(t){return new Uf(t)};function $f(t){this._context=t}$f.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Wf=function(t){return new $f(t)};function Hf(t){this._context=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Gf=function(t){return new Hf(t)};function Xf(t,e){this._basis=new Uf(t),this._beta=e}Xf.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,c=-1;while(++c<=n)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*u))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Vf=function t(e){function n(t){return 1===e?new Uf(t):new Xf(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Yf(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Jf(t,e){this._context=t,this._k=(1-e)/6}Jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yf(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Yf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zf=function t(e){function n(t){return new Jf(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Kf(t,e){this._context=t,this._k=(1-e)/6}Kf.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Qf=function t(e){function n(t){return new Kf(t,e)}return n.tension=function(e){return t(+e)},n}(0);function th(t,e){this._context=t,this._k=(1-e)/6}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var eh=function t(e){function n(t){return new th(t,e)}return n.tension=function(e){return t(+e)},n}(0);function nh(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>pf){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>pf){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function rh(t,e){this._context=t,this._alpha=e}rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:nh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ih=function t(e){function n(t){return e?new rh(t,e):new Jf(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function oh(t,e){this._context=t,this._alpha=e}oh.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ah=function t(e){function n(t){return e?new oh(t,e):new Kf(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function uh(t,e){this._context=t,this._alpha=e}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ch=function t(e){function n(t){return e?new uh(t,e):new th(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function sh(t){this._context=t}sh.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var lh=function(t){return new sh(t)};function fh(t){return t<0?-1:1}function hh(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(fh(o)+fh(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function dh(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ph(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function vh(t){this._context=t}function yh(t){this._context=new gh(t)}function gh(t){this._context=t}function mh(t){return new vh(t)}function bh(t){return new yh(t)}function wh(t){this._context=t}function xh(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ph(this,this._t0,dh(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ph(this,dh(this,n=hh(this,t,e)),n);break;default:ph(this,this._t0,n=hh(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(yh.prototype=Object.create(vh.prototype)).point=function(t,e){vh.prototype.point.call(this,e,t)},gh.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=xh(t),i=xh(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _h=function(t){return new wh(t)};function Oh(t,e){this._context=t,this._t=e}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};var kh=function(t){return new Oh(t,.5)};function Sh(t){return new Oh(t,0)}function jh(t){return new Oh(t,1)}var Ah={basis:{curve:qf},"basis-closed":{curve:Wf},"basis-open":{curve:Gf},bundle:{curve:Vf,tension:"beta",value:.85},cardinal:{curve:Zf,tension:"tension",value:0},"cardinal-open":{curve:eh,tension:"tension",value:0},"cardinal-closed":{curve:Qf,tension:"tension",value:0},"catmull-rom":{curve:ih,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ah,tension:"alpha",value:.5},"catmull-rom-open":{curve:ch,tension:"alpha",value:.5},linear:{curve:Cf},"linear-closed":{curve:lh},monotone:{horizontal:bh,vertical:mh},natural:{curve:_h},step:{curve:kh},"step-after":{curve:jh},"step-before":{curve:Sh}};function Eh(t,e,n){var r=Object(xe["v"])(Ah,t)&&Ah[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Ch={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Mh=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Dh=function(t){var e,n,r,i,o,a,u,c,s,l,f,h=[];for(e=t.slice().replace(Mh[0],"###$1").split(Mh[1]).slice(1),c=0,l=e.length;c<l;++c){for(n=e[c],r=n.slice(1).trim().replace(Mh[2],"$1###$2").split(Mh[3]),a=n.charAt(0),i=[a],s=0,f=r.length;s<f;++s)(o=+r[s])===o&&i.push(o);if(u=Ch[a.toLowerCase()],i.length-1>u)for(s=1,f=i.length;s<f;s+=u)h.push([a].concat(i.slice(s,s+u)));else h.push(i)}return h},Fh=Math.PI/180,Th=Math.PI/2,Nh=2*Math.PI,Ph=Math.sqrt(3)/2,Rh={},Ih={},Lh=[].join;function zh(t,e,n,r,i,o,a,u,c){var s=Lh.call(arguments);if(Rh[s])return Rh[s];var l=a*Fh,f=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var d=h*(u-t)*.5+f*(c-e)*.5,p=h*(c-e)*.5-f*(u-t)*.5,v=d*d/(n*n)+p*p/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=h/n,g=f/n,m=-f/r,b=h/r,w=y*u+g*c,x=m*u+b*c,_=y*t+g*e,O=m*t+b*e,k=(_-w)*(_-w)+(O-x)*(O-x),S=1/k-.25;S<0&&(S=0);var j=Math.sqrt(S);o==i&&(j=-j);var A=.5*(w+_)-j*(O-x),E=.5*(x+O)+j*(_-w),C=Math.atan2(x-E,w-A),M=Math.atan2(O-E,_-A),D=M-C;D<0&&1===o?D+=Nh:D>0&&0===o&&(D-=Nh);for(var F=Math.ceil(Math.abs(D/(Th+.001))),T=[],N=0;N<F;++N){var P=C+N*D/F,R=C+(N+1)*D/F;T[N]=[A,E,P,R,n,r,f,h]}return Rh[s]=T}function Bh(t){var e=Lh.call(t);if(Ih[e])return Ih[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],s=t[7],l=s*a,f=-c*u,h=c*a,d=s*u,p=Math.cos(i),v=Math.sin(i),y=Math.cos(o),g=Math.sin(o),m=.5*(o-i),b=Math.sin(.5*m),w=8/3*b*b/Math.sin(m),x=n+p-w*v,_=r+v+w*p,O=n+y,k=r+g,S=O+w*g,j=k-w*y;return Ih[e]=[l*x+f*_,h*x+d*_,l*S+f*j,h*S+d*j,l*O+f*k,h*O+d*k]}var Uh=["l",0,0,0,0,0,0,0];function qh(t,e){var n=Uh[0]=t[0];if("a"===n||"A"===n)Uh[1]=e*t[1],Uh[2]=e*t[2],Uh[3]=t[3],Uh[4]=t[4],Uh[5]=t[5],Uh[6]=e*t[6],Uh[7]=e*t[7];else for(var r=1,i=t.length;r<i;++r)Uh[r]=e*t[r];return Uh}var $h=function(t,e,n,r,i){var o,a,u,c,s,l=null,f=0,h=0,d=0,p=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),t.beginPath&&t.beginPath();for(var v=0,y=e.length;v<y;++v){switch(o=e[v],1!==i&&(o=qh(o,i)),o[0]){case"l":f+=o[1],h+=o[2],t.lineTo(f+n,h+r);break;case"L":f=o[1],h=o[2],t.lineTo(f+n,h+r);break;case"h":f+=o[1],t.lineTo(f+n,h+r);break;case"H":f=o[1],t.lineTo(f+n,h+r);break;case"v":h+=o[1],t.lineTo(f+n,h+r);break;case"V":h=o[1],t.lineTo(f+n,h+r);break;case"m":f+=o[1],h+=o[2],t.moveTo(f+n,h+r);break;case"M":f=o[1],h=o[2],t.moveTo(f+n,h+r);break;case"c":a=f+o[5],u=h+o[6],d=f+o[3],p=h+o[4],t.bezierCurveTo(f+o[1]+n,h+o[2]+r,d+n,p+r,a+n,u+r),f=a,h=u;break;case"C":f=o[5],h=o[6],d=o[3],p=o[4],t.bezierCurveTo(o[1]+n,o[2]+r,d+n,p+r,f+n,h+r);break;case"s":a=f+o[3],u=h+o[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+n,p+r,f+o[1]+n,h+o[2]+r,a+n,u+r),d=f+o[1],p=h+o[2],f=a,h=u;break;case"S":a=o[3],u=o[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+n,p+r,o[1]+n,o[2]+r,a+n,u+r),f=a,h=u,d=o[1],p=o[2];break;case"q":a=f+o[3],u=h+o[4],d=f+o[1],p=h+o[2],t.quadraticCurveTo(d+n,p+r,a+n,u+r),f=a,h=u;break;case"Q":a=o[3],u=o[4],t.quadraticCurveTo(o[1]+n,o[2]+r,a+n,u+r),f=a,h=u,d=o[1],p=o[2];break;case"t":a=f+o[1],u=h+o[2],null===l[0].match(/[QqTt]/)?(d=f,p=h):"t"===l[0]?(d=2*f-c,p=2*h-s):"q"===l[0]&&(d=2*f-d,p=2*h-p),c=d,s=p,t.quadraticCurveTo(d+n,p+r,a+n,u+r),f=a,h=u,d=f+o[1],p=h+o[2];break;case"T":a=o[1],u=o[2],d=2*f-d,p=2*h-p,t.quadraticCurveTo(d+n,p+r,a+n,u+r),f=a,h=u;break;case"a":Wh(t,f+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+f+n,o[7]+h+r]),f+=o[6],h+=o[7];break;case"A":Wh(t,f+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),f=o[6],h=o[7];break;case"z":case"Z":t.closePath();break}l=o}};function Wh(t,e,n,r){for(var i=zh(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n),o=0;o<i.length;++o){var a=Bh(i[o]);t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Hh=.5773502691896257,Gh={circle:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,Nh)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n,i=r-n*Hh,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n,i=r-n*Hh;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=Ph*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function Xh(t){return Object(xe["v"])(Gh,t)?Gh[t]:Yh(t)}var Vh={};function Yh(t){if(!Object(xe["v"])(Vh,t)){var e=Dh(t);Vh[t]={draw:function(t,n){$h(t,e,0,0,Math.sqrt(n)/2)}}}return Vh[t]}function Jh(t){return t.x}function Zh(t){return t.y}function Kh(t){return t.width}function Qh(t){return t.height}function td(t){return function(){return t}}var ed=function(){var t=Jh,e=Zh,n=Kh,r=Qh,i=td(0),o=null;function a(a,u,c){var s,l=null!=u?u:+t.call(this,a),f=null!=c?c:+e.call(this,a),h=+n.call(this,a),d=+r.call(this,a),p=+i.call(this,a);if(o||(o=s=of()),p<=0)o.rect(l,f,h,d);else{var v=l+h,y=f+d;o.moveTo(l+p,f),o.lineTo(v-p,f),o.quadraticCurveTo(v,f,v,f+p),o.lineTo(v,y-p),o.quadraticCurveTo(v,y,v-p,y),o.lineTo(l+p,y),o.quadraticCurveTo(l,y,l,y-p),o.lineTo(l,f+p),o.quadraticCurveTo(l,f,l+p,f),o.closePath()}if(s)return o=null,s+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:td(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:td(+t),a):e},a.width=function(t){return arguments.length?(n="function"===typeof t?t:td(+t),a):n},a.height=function(t){return arguments.length?(r="function"===typeof t?t:td(+t),a):r},a.cornerRadius=function(t){return arguments.length?(i="function"===typeof t?t:td(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},nd=function(){var t,e,n,r,i,o,a,u,c=null;function s(t,e,n){var r=n/2;if(i){var s=a-e,l=t-o;if(s||l){var f=Math.sqrt(s*s+l*l),h=(s/=f)*u,d=(l/=f)*u,p=Math.atan2(l,s);c.moveTo(o-h,a-d),c.lineTo(t-s*r,e-l*r),c.arc(t,e,r,p-Math.PI,p),c.lineTo(o+h,a+d),c.arc(o,a,u,p,p+Math.PI)}else c.arc(t,e,r,0,Nh);c.closePath()}else i=1;o=t,a=e,u=r}function l(o){var a,u,l,f=o.length,h=!1;for(null==c&&(c=l=of()),a=0;a<=f;++a)!(a<f&&r(u=o[a],a,o))===h&&(h=!h)&&(i=0),h&&s(+t(u,a,o),+e(u,a,o),+n(u,a,o));if(l)return c=null,l+""||null}return l.x=function(e){return arguments.length?(t=e,l):t},l.y=function(t){return arguments.length?(e=t,l):e},l.size=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.context=function(t){return arguments.length?(c=null==t?null:t,l):c},l};function rd(t){return t.x||0}function id(t){return t.y||0}function od(t){return t.width||0}function ad(t){return t.size||1}function ud(t){return t.height||0}function cd(t){return(t.x||0)+(t.width||0)}function sd(t){return(t.y||0)+(t.height||0)}function ld(t){return t.startAngle||0}function fd(t){return t.endAngle||0}function hd(t){return t.padAngle||0}function dd(t){return t.innerRadius||0}function pd(t){return t.outerRadius||0}function vd(t){return t.cornerRadius||0}function yd(t){return!(!1===t.defined)}function gd(t){return null==t.size?64:t.size}function md(t){return Xh(t.shape||"circle")}var bd=Af().startAngle(ld).endAngle(fd).padAngle(hd).innerRadius(dd).outerRadius(pd).cornerRadius(vd),wd=Tf().x(rd).y1(id).y0(sd).defined(yd),xd=Tf().y(id).x1(rd).x0(cd).defined(yd),_d=Ff().x(rd).y(id).defined(yd),Od=ed().x(rd).y(id).width(od).height(ud).cornerRadius(vd),kd=Lf().type(md).size(gd),Sd=nd().x(rd).y(id).defined(yd).size(ad);function jd(t,e){return bd.context(t)(e)}function Ad(t,e){var n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?xd:wd).curve(Eh(r,n.orient,n.tension)).context(t)(e)}function Ed(t,e){var n=e[0],r=n.interpolate||"linear";return _d.curve(Eh(r,n.orient,n.tension)).context(t)(e)}function Cd(t,e,n,r){return Od.context(t)(e,n,r)}function Md(t,e){return(e.mark.shape||e.shape).context(t)(e)}function Dd(t,e){return kd.context(t)(e)}function Fd(t,e){return Sd.context(t)(e)}var Td,Nd=function(t,e){return e.stroke&&0!==e.opacity&&0!==e.strokeOpacity&&t.expand(null!=e.strokeWidth?+e.strokeWidth:1),t},Pd=Nh-1e-8;function Rd(t){return Td=t,Rd}function Id(){}function Ld(t,e){Td.add(t,e)}Rd.beginPath=Id,Rd.closePath=Id,Rd.moveTo=Ld,Rd.lineTo=Ld,Rd.rect=function(t,e,n,r){Ld(t,e),Ld(t+n,e+r)},Rd.quadraticCurveTo=function(t,e,n,r){Ld(t,e),Ld(n,r)},Rd.bezierCurveTo=function(t,e,n,r,i,o){Ld(t,e),Ld(n,r),Ld(i,o)},Rd.arc=function(t,e,n,r,i,o){if(Math.abs(i-r)>Pd)return Ld(t-n,e-n),void Ld(t+n,e+n);var a,u,c,s,l=1/0,f=-1/0,h=1/0,d=-1/0;function p(t){c=n*Math.cos(t),s=n*Math.sin(t),c<l&&(l=c),c>f&&(f=c),s<h&&(h=s),s>d&&(d=s)}if(p(r),p(i),i!==r)if(r%=Nh,r<0&&(r+=Nh),i%=Nh,i<0&&(i+=Nh),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Nh,a=r-r%Th,u=0;u<4&&a>i;++u,a-=Th)p(a);else for(a=r-r%Th+Th,u=0;u<4&&a<i;++u,a+=Th)p(a);Ld(t+l,e+h),Ld(t+f,e+d)};var zd=(zd=Gl(1,1))?zd.getContext("2d"):null,Bd=new Rl;function Ud(t){return function(e,n){if(!zd)return!0;t(zd,e),Bd.clear().union(e.bounds).intersect(n).round();for(var r=Bd.x1,i=Bd.y1,o=Bd.x2,a=Bd.y2,u=i;u<=a;++u)for(var c=r;c<=o;++c)if(zd.isPointInPath(c,u))return!0;return!1}}function qd(t,e){return e.contains(t.x||0,t.y||0)}function $d(t,e){var n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(Bd.set(n,r,n+i,r+o))}function Wd(t,e){var n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,o=null!=t.y2?t.y2:r;return Hd(e,n,r,i,o)}function Hd(t,e,n,r,i){var o,a,u,c,s=t.x1,l=t.y1,f=t.x2,h=t.y2,d=r-e,p=i-n,v=0,y=1;for(c=0;c<4;++c){if(0===c&&(o=-d,a=-(s-e)),1===c&&(o=d,a=f-e),2===c&&(o=-p,a=-(l-n)),3===c&&(o=p,a=h-n),Math.abs(o)<1e-10&&a<0)return!1;if(u=a/o,o<0){if(u>y)return!1;u>v&&(v=u)}else if(o>0){if(u<v)return!1;u<y&&(y=u)}}return!0}var Gd=function(t,e,n){for(var r=n.width(),i=n.height(),o=e.stops,a=o.length,u="radial"===e.gradient?t.createRadialGradient(n.x1+(e.x1||.5)*r,n.y1+(e.y1||.5)*i,Math.max(r,i)*(e.r1||0),n.x1+(e.x2||.5)*r,n.y1+(e.y2||.5)*i,Math.max(r,i)*(e.r2||.5)):t.createLinearGradient(n.x1+(e.x1||0)*r,n.y1+(e.y1||0)*i,n.x1+(e.x2||1)*r,n.y1+(e.y2||0)*i),c=0;c<a;++c)u.addColorStop(o[c].offset,o[c].color);return u},Xd=function(t,e,n){return Bl(n)?Gd(t,n,e.bounds):n},Vd=function(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0&&(t.globalAlpha=n,t.fillStyle=Xd(t,e,e.fill),!0)},Yd=[],Jd=function(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0&&(t.globalAlpha=n,t.strokeStyle=Xd(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||Yd),t.lineDashOffset=e.strokeDashOffset||0),!0))};function Zd(t,e){return t.zindex-e.zindex||t.index-e.index}function Kd(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)e=i[n],e.index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(Zd)}function Qd(t,e){var n,r,i=t.items;if(i&&i.length){var o=Kd(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}}function tp(t,e){var n,r,i=t.items;if(!i||!i.length)return null;var o=Kd(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(i=t.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function ep(t){return function(e,n,r){Qd(n,(function(n){r&&!r.intersects(n.bounds)||rp(t,e,n,n)}))}}function np(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||rp(t,e,n.items[0],n.items)}}function rp(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(n.fill&&Vd(e,n,i)&&e.fill(),n.stroke&&Jd(e,n,i)&&e.stroke()))}function ip(t){return t=t||xe["eb"],function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,tp(n,(function(n){var u=n.bounds;if((!u||u.contains(o,a))&&u)return t(e,n,r,i,o,a)?n:void 0}))}}function op(t,e){return function(n,r,i,o){var a,u,c=Array.isArray(r)?r[0]:r,s=null==e?c.fill:e,l=c.stroke&&n.isPointInStroke;return l&&(a=c.strokeWidth,u=c.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=u?u:"butt"),!t(n,r)&&(s&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o))}}function ap(t){return ip(op(t))}function up(t,e){return"translate("+t+","+e+")"}function cp(t){return"rotate("+t+")"}function sp(t){return up(t.x||0,t.y||0)}function lp(t){return up(t.x||0,t.y||0)+(t.angle?" "+cp(t.angle):"")}var fp=function(t,e,n){function r(t,n){t("transform",lp(n)),t("d",e(null,n))}function i(t,n){var r=n.x||0,i=n.y||0;return e(Rd(t),n),Nd(t,n).translate(r,i),n.angle&&t.rotate(n.angle*Fh,r,i),t}function o(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=Fh),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:r,bound:i,draw:ep(o),pick:ap(o),isect:n||Ud(o)}},hp=fp("arc",jd);function dp(t,e){var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,u=1/0;while(--a>=0)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i),r<u&&(u=r,n=t[a]));return n}function pp(t,e){var n,r,i,o=Math.pow(t[0].strokeWidth||1,2),a=t.length;while(--a>=0)if(!1!==t[a].defined&&(n=t[a].x-e[0],r=t[a].y-e[1],i=n*n+r*r,i<o))return t[a];return null}function vp(t,e){var n,r,i,o=t.length;while(--o>=0)if(!1!==t[o].defined&&(n=t[o].x-e[0],r=t[o].y-e[1],i=n*n+r*r,n=t[o].size||1,i<n*n))return t[o];return null}var yp=function(t,e,n){function r(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))}function i(t,n){var r=n.items;return 0===r.length?t:(e(Rd(t),r),Nd(t,r[0]))}function o(t,n){t.beginPath(),e(t,n)}var a=op(o);function u(t,e,n,r,i,o){var u=e.items,c=e.bounds;return!u||!u.length||c&&!c.contains(i,o)?null:(n*=t.pixelRatio,r*=t.pixelRatio,a(t,u,n,r)?u[0]:null)}return{type:t,tag:"path",nested:!0,attr:r,bound:i,draw:np(o),pick:u,isect:qd,tip:n}},gp=yp("area",Ad,dp),mp=1;function bp(){mp=1}var wp=function(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+mp++),a=i.clipping[o]||(i.clipping[o]={id:o});return Object(xe["D"])(r)?a.path=r(null):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"},xp=.5;function _p(t,e){t("transform",sp(e))}function Op(t,e){var n=e.stroke?xp:0;t("class","background"),t("d",Cd(null,e,n,n))}function kp(t,e,n){var r=e.clip?wp(n,e,e):null;t("clip-path",r)}function Sp(t,e){if(!e.clip&&e.items)for(var n=e.items,r=0,i=n.length;r<i;++r)t.union(n[r].bounds);return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),Nd(t,e),t.translate(e.x||0,e.y||0)}function jp(t,e){var n=e.stroke?xp:0;t.beginPath(),Cd(t,e,n,n)}var Ap=op(jp);function Ep(t,e,n){var r=this;Qd(e,(function(e){var i,o=e.x||0,a=e.y||0,u=e.width||0,c=e.height||0;t.save(),t.translate(o,a),(e.stroke||e.fill)&&(i=null==e.opacity?1:e.opacity,i>0&&(jp(t,e),e.fill&&Vd(t,e,i)&&t.fill(),e.stroke&&Jd(t,e,i)&&t.stroke())),e.clip&&(t.beginPath(),t.rect(0,0,u,c),t.clip()),n&&n.translate(-o,-a),Qd(e,(function(e){r.draw(t,e,n)})),n&&n.translate(o,a),t.restore()}))}function Cp(t,e,n,r,i,o){if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;var a=this,u=n*t.pixelRatio,c=r*t.pixelRatio;return tp(e,(function(s){var l,f,h,d;if(d=s.bounds,!d||d.contains(i,o))return f=s.x||0,h=s.y||0,t.save(),t.translate(f,h),f=i-f,h=o-h,l=tp(s,(function(t){return Mp(t,f,h)?a.pick(t,n,r,f,h):null})),!l&&!1!==e.interactive&&(s.fill||s.stroke)&&Ap(t,s,u,c)&&(l=s),t.restore(),l||null}))}function Mp(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}var Dp={type:"group",tag:"g",nested:!1,attr:_p,bound:Sp,draw:Ep,pick:Cp,isect:$d,background:Op,foreground:kp};function Fp(t,e){var n=t.image;return n&&n.url===t.url||(n={loaded:!1,width:0,height:0},e.loadImage(t.url).then((function(e){t.image=e,t.image.url=t.url}))),n}function Tp(t,e){return"center"===t?e/2:"right"===t?e:0}function Np(t,e){return"middle"===t?e/2:"bottom"===t?e:0}function Pp(t,e,n){var r=Fp(e,n),i=e.x||0,o=e.y||0,a=(null!=e.width?e.width:r.width)||0,u=(null!=e.height?e.height:r.height)||0,c=!1===e.aspect?"none":"xMidYMid";i-=Tp(e.align,a),o-=Np(e.baseline,u),t("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),t("transform",up(i,o)),t("width",a),t("height",u),t("preserveAspectRatio",c)}function Rp(t,e){var n=e.image,r=e.x||0,i=e.y||0,o=(null!=e.width?e.width:n&&n.width)||0,a=(null!=e.height?e.height:n&&n.height)||0;return r-=Tp(e.align,o),i-=Np(e.baseline,a),t.set(r,i,r+o,i+a)}function Ip(t,e,n){var r=this;Qd(e,(function(e){if(!n||n.intersects(e.bounds)){var i,o,a,u,c=Fp(e,r),s=e.x||0,l=e.y||0,f=(null!=e.width?e.width:c.width)||0,h=(null!=e.height?e.height:c.height)||0;s-=Tp(e.align,f),l-=Np(e.baseline,h),!1!==e.aspect&&(o=c.width/c.height,a=e.width/e.height,o===o&&a===a&&o!==a&&(a<o?(u=f/o,l+=(h-u)/2,h=u):(u=h*o,s+=(f-u)/2,f=u))),c.loaded&&(t.globalAlpha=null!=(i=e.opacity)?i:1,t.drawImage(c,s,l,f,h))}}))}var Lp={type:"image",tag:"image",nested:!1,attr:Pp,bound:Rp,draw:Ip,pick:ip(),isect:xe["eb"],get:Fp,xOffset:Tp,yOffset:Np},zp=yp("line",Ed,pp);function Bp(t,e){t("transform",sp(e)),t("d",e.path)}function Up(t,e){var n=e.path;if(null==n)return!0;var r=e.pathCache;r&&r.path===n||((e.pathCache=r=Dh(n)).path=n),$h(t,r,e.x,e.y)}function qp(t,e){return Up(Rd(t),e)?t.set(0,0,0,0):Nd(t,e)}var $p={type:"path",tag:"path",nested:!1,attr:Bp,bound:qp,draw:ep(Up),pick:ap(Up),isect:Ud(Up)};function Wp(t,e){t("d",Cd(null,e))}function Hp(t,e){var n,r;return Nd(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)}function Gp(t,e){t.beginPath(),Cd(t,e)}var Xp={type:"rect",tag:"path",nested:!1,attr:Wp,bound:Hp,draw:ep(Gp),pick:ap(Gp),isect:$d};function Vp(t,e){t("transform",sp(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}function Yp(t,e){var n,r;return Nd(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)}function Jp(t,e,n){var r,i,o,a;return!(!e.stroke||!Jd(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}function Zp(t,e,n){Qd(e,(function(e){if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&Jp(t,e,r)&&t.stroke()}}))}function Kp(t,e,n,r){return!!t.isPointInStroke&&(Jp(t,e,1)&&t.isPointInStroke(n,r))}var Qp,tv={type:"rule",tag:"line",nested:!1,attr:Vp,bound:Yp,draw:Zp,pick:ip(Kp),isect:Wd},ev=fp("shape",Md),nv=fp("symbol",Dd,qd),rv={height:cv,measureWidth:av,estimateWidth:iv,width:iv,canvas:sv};function iv(t){return Qp=cv(t),ov(lv(t))}function ov(t){return~~(.8*t.length*Qp)}function av(t){return cv(t)<=0?0:(zd.font=dv(t),uv(lv(t)))}function uv(t){return zd.measureText(t).width}function cv(t){return null!=t.fontSize?t.fontSize:11}function sv(t){rv.width=t&&zd?av:iv}function lv(t){var e=t.text;return null==e?"":t.limit>0?fv(t):e+""}function fv(t){var e,n=+t.limit,r=t.text+"";if(rv.width===av?(zd.font=dv(t),e=uv):(Qp=cv(t),e=ov),e(r)<n)return r;var i,o=t.ellipsis||"…",a="rtl"===t.dir,u=0,c=r.length;if(n-=e(o),a){while(u<c)i=u+c>>>1,e(r.slice(i))>n?u=i+1:c=i;return o+r.slice(u)}while(u<c)i=1+(u+c>>>1),e(r.slice(0,i))<n?u=i:c=i-1;return r.slice(0,u)+o}function hv(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function dv(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+cv(t)+"px "+hv(t,e)}function pv(t){var e=t.baseline,n=cv(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:0)}sv(!0);var vv={left:"start",center:"middle",right:"end"},yv=new Rl;function gv(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-Th,n+=i*Math.cos(e),r+=i*Math.sin(e)),yv.x1=n,yv.y1=r,yv}function mv(t,e){var n,r=e.dx||0,i=(e.dy||0)+pv(e),o=gv(e),a=o.x1,u=o.y1,c=e.angle||0;t("text-anchor",vv[e.align]||"start"),c?(n=up(a,u)+" "+cp(c),(r||i)&&(n+=" "+up(r,i))):n=up(a+r,u+i),t("transform",n)}function bv(t,e,n){var r,i=rv.height(e),o=e.align,a=gv(e),u=a.x1,c=a.y1,s=e.dx||0,l=(e.dy||0)+pv(e)-Math.round(.8*i);if(r=rv.width(e),"center"===o?s-=r/2:"right"===o&&(s-=r),t.set(s+=u,l+=c,s+r,l+i),e.angle&&!n)t.rotate(e.angle*Fh,u,c);else if(2===n)return t.rotatedPoints(e.angle*Fh,u,c);return t}function wv(t,e,n){Qd(e,(function(e){var r,i,o,a,u;n&&!n.intersects(e.bounds)||(u=lv(e))&&(r=null==e.opacity?1:e.opacity,0===r||e.fontSize<=0||(t.font=dv(e),t.textAlign=e.align||"left",i=gv(e),o=i.x1,a=i.y1,e.angle&&(t.save(),t.translate(o,a),t.rotate(e.angle*Fh),o=a=0),o+=e.dx||0,a+=(e.dy||0)+pv(e),e.fill&&Vd(t,e,r)&&t.fillText(u,o,a),e.stroke&&Jd(t,e,r)&&t.strokeText(u,o,a),e.angle&&t.restore()))}))}function xv(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=gv(e),u=a.x1,c=a.y1,s=bv(yv,e,1),l=-e.angle*Fh,f=Math.cos(l),h=Math.sin(l),d=f*i-h*o+(u-f*u+h*c),p=h*i+f*o+(c-h*u-f*c);return s.contains(d,p)}function _v(t,e){var n=bv(yv,t,2);return Hd(e,n[0],n[1],n[2],n[3])||Hd(e,n[0],n[1],n[4],n[5])||Hd(e,n[4],n[5],n[6],n[7])||Hd(e,n[2],n[3],n[6],n[7])}var Ov={type:"text",tag:"text",nested:!1,attr:mv,bound:bv,draw:wv,pick:ip(xv),isect:_v},kv=yp("trail",Fd,vp),Sv={arc:hp,area:gp,group:Dp,image:Lp,line:zp,path:$p,rect:Xp,rule:tv,shape:ev,symbol:nv,text:Ov,trail:kv},jv=function(t,e,n){var r=Sv[t.mark.marktype],i=e||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new Rl),t,n)},Av={mark:null},Ev=function(t,e,n){var r,i,o,a,u=Sv[t.marktype],c=u.bound,s=t.items,l=s&&s.length;if(u.nested)return l?o=s[0]:(Av.mark=t,o=Av),a=jv(o,c,n),e=e&&e.union(a)||a,e;if(e=e||t.bounds&&t.bounds.clear()||new Rl,l)for(r=0,i=s.length;r<i;++r)e.union(jv(s[r],c,n));return t.bounds=e},Cv=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function Mv(t,e){return JSON.stringify(t,Cv,e)}function Dv(t){var e="string"===typeof t?JSON.parse(t):t;return Fv(e)}function Fv(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)e=i?"mark":"group",o[n][e]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&Fv(o[n]);return i&&Ev(t),t}function Tv(t){arguments.length?this.root=Dv(t):(this.root=Pv({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Hl(this.root)])}var Nv=Tv.prototype;function Pv(t,e){return{bounds:new Rl,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0}}function Rv(t,e,n){return!t&&"undefined"!==typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function Iv(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function Lv(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Rv(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function zv(t,e){var n=t.childNodes,r=n.length;while(r>e)t.removeChild(n[--r]);return t}function Bv(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}Nv.toJSON=function(t){return Mv(this.root,t||0)},Nv.mark=function(t,e,n){e=e||this.root.items[0];var r=Pv(t,e);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Uv=function(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]},qv=function(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=Sv[a.marktype]).tip){o=Uv(e,n),o[0]-=r[0],o[1]-=r[1];while(t=t.mark.group)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t};function $v(t,e){this._active=null,this._handlers={},this._loader=t||Co(),this._tooltip=e||Wv}function Wv(t,e,n,r){t.element().setAttribute("title",r||"")}var Hv=$v.prototype;function Gv(t){this._el=null,this._bgcolor=null,this._loader=new Vl(t)}Hv.initialize=function(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},Hv.element=function(){return this._el},Hv.canvas=function(){return this._el&&this._el.firstChild},Hv.origin=function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},Hv.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},Hv.on=function(){},Hv.off=function(){},Hv._handlerIndex=function(t,e,n){for(var r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},Hv.handlers=function(t){var e,n=this._handlers,r=[];if(t)r.push.apply(r,n[this.eventName(t)]);else for(e in n)r.push.apply(r,n[e]);return r},Hv.eventName=function(t){var e=t.indexOf(".");return e<0?t:t.slice(0,e)},Hv.handleHref=function(t,e,n){this._loader.sanitize(n,{context:"href"}).then((function(e){var n=new MouseEvent(t.type,t),r=Rv(null,"a");for(var i in e)r.setAttribute(i,e[i]);r.dispatchEvent(n)})).catch((function(){}))},Hv.handleTooltip=function(t,e,n){if(e&&null!=e.tooltip){e=qv(e,t,this.canvas(),this._origin);var r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}},Hv.getItemBoundingClientRect=function(t){if(e=this.canvas()){var e,n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,u=i.width(),c=i.height();while(t.mark&&(t=t.mark.group))o+=t.x||0,a+=t.y||0;return{x:o,y:a,width:u,height:c,left:o,top:a,right:o+u,bottom:a+c}}};var Xv=Gv.prototype;Xv.initialize=function(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},Xv.element=function(){return this._el},Xv.canvas=function(){return this._el&&this._el.firstChild},Xv.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},Xv.resize=function(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},Xv.dirty=function(){},Xv.render=function(t){var e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},Xv._render=function(){},Xv.renderAsync=function(t){var e=this.render(t);return this._ready?this._ready.then((function(){return e})):Promise.resolve(e)},Xv._load=function(t,e){var n=this,r=n._loader[t](e);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(t){t&&i(),n._ready=null}))}return r},Xv.sanitizeURL=function(t){return this._load("sanitizeURL",t)},Xv.loadImage=function(t){return this._load("loadImage",t)};var Vv=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Yv="mousemove",Jv="mouseout",Zv="click";function Kv(t,e){$v.call(this,t,e),this._down=null,this._touch=null,this._first=!0}var Qv=Object(xe["y"])(Kv,$v);function ty(t,e,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i?this.fire(t,r):(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r),this.fire(t,r))}}function ey(t){return function(e){this.fire(t,e),this._active=null}}Qv.initialize=function(t,e,n){var r=this._canvas=t&&Iv(t,"canvas");if(r){var i=this;this.events.forEach((function(t){r.addEventListener(t,(function(e){Qv[t]?Qv[t].call(i,e):i.fire(t,e)}))}))}return $v.prototype.initialize.call(this,t,e,n)},Qv.canvas=function(){return this._canvas},Qv.context=function(){return this._canvas.getContext("2d")},Qv.events=Vv,Qv.DOMMouseScroll=function(t){this.fire("mousewheel",t)},Qv.mousemove=ty("mousemove","mouseover","mouseout"),Qv.dragover=ty("dragover","dragenter","dragleave"),Qv.mouseout=ey("mouseout"),Qv.dragleave=ey("dragleave"),Qv.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},Qv.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},Qv.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},Qv.touchmove=function(t){this.fire("touchmove",t,!0)},Qv.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},Qv.fire=function(t,e,n){var r,i,o=n?this._touch:this._active,a=this._handlers[t];if(e.vegaType=t,t===Zv&&o&&o.href?this.handleHref(e,o,o.href):t!==Yv&&t!==Jv||this.handleTooltip(e,o,t!==Jv),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,e,o)},Qv.on=function(t,e){var n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);return i<0&&(r[n]||(r[n]=[])).push({type:t,handler:e}),this},Qv.off=function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},Qv.pickEvent=function(t){var e=Uv(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},Qv.pick=function(t,e,n,r,i){var o=this.context(),a=Sv[t.marktype];return a.pick.call(this,o,t,e,n,r,i)};var ny=function(t,e){var n=e.clip;if(t.save(),t.beginPath(),Object(xe["D"])(n))n(t);else{var r=e.group;t.rect(0,0,r.width||0,r.height||0)}t.clip()};function ry(){return"undefined"!==typeof window&&window.devicePixelRatio||1}var iy=ry(),oy=function(t,e,n,r,i,o){var a,u="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,c=t.getContext("2d"),s=u?iy:i;for(a in t.width=e*s,t.height=n*s,o)c[a]=o[a];return u&&1!==s&&(t.style.width=e+"px",t.style.height=n+"px"),c.pixelRatio=s,c.setTransform(s,0,0,s,s*r[0],s*r[1]),t};function ay(t){Gv.call(this,t),this._redraw=!1,this._dirty=new Rl}var uy=Object(xe["y"])(ay,Gv),cy=Gv.prototype,sy=new Rl;function ly(t,e,n){return e.expand(1).round(),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}function fy(t,e){if(null==e)return t;for(var n=sy.clear().union(t);null!=e;e=e.mark.group)n.translate(e.x||0,e.y||0);return n}function hy(t,e){$v.call(this,t,e);var n=this;n._hrefHandler=py(n,(function(t,e){e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=py(n,(function(t,e){n.handleTooltip(t,e,t.type!==Jv)}))}uy.initialize=function(t,e,n,r,i,o){return this._options=o,this._canvas=Gl(1,1,o&&o.type),t&&(zv(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),cy.initialize.call(this,t,e,n,r,i)},uy.resize=function(t,e,n,r){return cy.resize.call(this,t,e,n,r),oy(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},uy.canvas=function(){return this._canvas},uy.context=function(){return this._canvas?this._canvas.getContext("2d"):null},uy.dirty=function(t){var e=fy(t.bounds,t.mark.group);this._dirty.union(e)},uy._render=function(t){var e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty;return e.save(),this._redraw||o.empty()?(this._redraw=!1,o=null):o=ly(e,o,n),this.clear(-n[0],-n[1],r,i),this.draw(e,t,o),e.restore(),this._dirty.clear(),this},uy.draw=function(t,e,n){var r=Sv[e.marktype];e.clip&&ny(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},uy.clear=function(t,e,n,r){var i=this.context();i.clearRect(t,e,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,e,n,r))};var dy=Object(xe["y"])(hy,$v);function py(t,e){return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,e.call(t._obj,n,i)}}function vy(t,e,n){var r,i,o="<"+t;if(e)for(r in e)i=e[r],null!=i&&(o+=" "+r+'="'+i+'"');return n&&(o+=" "+n),o+">"}function yy(t){return"</"+t+">"}dy.initialize=function(t,e,n){var r=this._svg;return r&&(r.removeEventListener(Zv,this._hrefHandler),r.removeEventListener(Yv,this._tooltipHandler),r.removeEventListener(Jv,this._tooltipHandler)),this._svg=r=t&&Iv(t,"svg"),r&&(r.addEventListener(Zv,this._hrefHandler),r.addEventListener(Yv,this._tooltipHandler),r.addEventListener(Jv,this._tooltipHandler)),$v.prototype.initialize.call(this,t,e,n)},dy.canvas=function(){return this._svg},dy.on=function(t,e){var n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);if(i<0){var o={type:t,handler:e,listener:py(this,e)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},dy.off=function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var gy={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},my={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},by=Object.keys(my),wy=gy.xmlns;function xy(t){Gv.call(this,t),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var _y=Object(xe["y"])(xy,Gv),Oy=Gv.prototype;function ky(t,e,n){var r,i,o;if("radial"===e.gradient){var a=Lv(t,n++,"pattern",wy);a.setAttribute("id",zl+e.id),a.setAttribute("viewBox","0,0,1,1"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("preserveAspectRatio","xMidYMid slice"),a=Lv(a,0,"rect",wy),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("fill","url("+Py()+"#"+e.id+")"),t=Lv(t,n++,"radialGradient",wy),t.setAttribute("id",e.id),t.setAttribute("fx",e.x1),t.setAttribute("fy",e.y1),t.setAttribute("fr",e.r1),t.setAttribute("cx",e.x2),t.setAttribute("cy",e.y2),t.setAttribute("r",e.r2)}else t=Lv(t,n++,"linearGradient",wy),t.setAttribute("id",e.id),t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2);for(r=0,i=e.stops.length;r<i;++r)o=Lv(t,r,"stop",wy),o.setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return zv(t,r),n}function Sy(t,e,n){var r;return t=Lv(t,n,"clipPath",wy),t.setAttribute("id",e.id),e.path?(r=Lv(t,0,"path",wy),r.setAttribute("d",e.path)):(r=Lv(t,0,"rect",wy),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",e.width),r.setAttribute("height",e.height)),n+1}function jy(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function Ay(t,e,n){e=e.lastChild;var r,i=0;Qd(n,(function(n){r=t.draw(e,n,r),++i})),zv(e,1+i)}function Ey(t,e,n,r,i){var o,a=t._svg;if(!a&&(o=e.ownerDocument,a=Rv(o,r,wy),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){var u=Rv(o,"path",wy);u.setAttribute("class","background"),a.appendChild(u),u.__data__=t;var c=Rv(o,"g",wy);a.appendChild(c),c.__data__=t}return(a.ownerSVGElement!==i||Cy(t)&&a.previousSibling!==n)&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}function Cy(t){var e=t.mark||t.group;return e&&e.items.length>1}_y.initialize=function(t,e,n,r){return t&&(this._svg=Lv(t,0,"svg",wy),this._svg.setAttribute("class","marks"),zv(t,1),this._root=Lv(this._svg,0,"g",wy),zv(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),Oy.initialize.call(this,t,e,n,r)},_y.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),Oy.background.apply(this,arguments)},_y.resize=function(t,e,n,r){return Oy.resize.call(this,t,e,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},_y.canvas=function(){return this._svg},_y.svg=function(){if(!this._svg)return null;var t={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var e in gy)t[e]=gy[e];var n=this._bgcolor?vy("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+yy("rect"):"";return vy("svg",t)+n+this._svg.innerHTML+yy("svg")},_y._render=function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t),zv(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},_y.updateDefs=function(){var t,e=this._svg,n=this._defs,r=n.el,i=0;for(t in n.gradient)r||(n.el=r=Lv(e,0,"defs",wy)),i=ky(r,n.gradient[t],i);for(t in n.clipping)r||(n.el=r=Lv(e,0,"defs",wy)),i=Sy(r,n.clipping[t],i);r&&(0===i?(e.removeChild(r),n.el=null):zv(r,i))},_y._resetDefs=function(){var t=this._defs;t.gradient={},t.clipping={}},_y.dirty=function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},_y.isDirty=function(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},_y._dirtyCheck=function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length)return!0;var e,n,r,i,o,a,u,c=++this._dirtyID;for(o=0,a=t.length;o<a;++o)e=t[o],n=e.mark,n.marktype!==r&&(r=n.marktype,i=Sv[r]),n.zdirty&&n.dirty!==c&&(this._dirtyAll=!1,jy(e,c),n.items.forEach((function(t){t.dirty=c}))),n.zdirty||(e.exit?(i.nested&&n.items.length?(u=n.items[0],u._svg&&this._update(i,u._svg,u)):e._svg&&(u=e._svg.parentNode,u&&u.removeChild(e._svg)),e._svg=null):(e=i.nested?n.items[0]:e,e._update!==c&&(e._svg&&e._svg.ownerSVGElement?this._update(i,e._svg,e):(this._dirtyAll=!1,jy(e,c)),e._update=c)));return!this._dirtyAll},_y.draw=function(t,e,n){if(!this.isDirty(e))return e._svg;var r,i=this,o=this._svg,a=Sv[e.marktype],u=!1===e.interactive?"none":null,c="g"===a.tag,s=null,l=0;function f(t){var e=i.isDirty(t),n=Ey(t,r,s,a.tag,o);e&&(i._update(a,n,t),c&&Ay(i,n,t)),s=n,++l}return r=Ey(e,t,n,"g",o),r.setAttribute("class",Bv(e)),c||r.style.setProperty("pointer-events",u),e.clip?r.setAttribute("clip-path",wp(i,e,e.group)):r.removeAttribute("clip-path"),a.nested?e.items.length&&f(e.items[0]):Qd(e,f),zv(r,l),r};var My=null,Dy=null,Fy={group:function(t,e,n){Dy=e.__values__,My=e.childNodes[1],t.foreground(Ny,n,this),My=e.childNodes[0],t.background(Ny,n,this);var r=!1===n.mark.interactive?"none":null;r!==Dy.events&&(My.style.setProperty("pointer-events",r),Dy.events=r)},text:function(t,e,n){var r;r=lv(n),r!==Dy.text&&(e.textContent=r,Dy.text=r),Ty(e,"font-family",hv(n)),Ty(e,"font-size",cv(n)+"px"),Ty(e,"font-style",n.fontStyle),Ty(e,"font-variant",n.fontVariant),Ty(e,"font-weight",n.fontWeight)}};function Ty(t,e,n){n!==Dy[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),Dy[e]=n)}function Ny(t,e,n){e!==Dy[t]&&(null!=e?n?My.setAttributeNS(n,t,e):My.setAttribute(t,e):n?My.removeAttributeNS(n,t):My.removeAttribute(t),Dy[t]=e)}function Py(){var t;return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function Ry(t){Gv.call(this,t),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}_y._update=function(t,e,n){My=e,Dy=e.__values__,t.attr(Ny,n,this);var r=Fy[t.type];r&&r.call(this,t,e,n),this.style(My,n)},_y.style=function(t,e){var n,r,i,o,a;if(null!=e)for(n=0,r=by.length;n<r;++n)i=by[n],a=e[i],"font"===i&&(a=hv(e)),a!==Dy[i]&&(o=my[i],null==a?"fill"===o?t.style.setProperty(o,"none"):t.style.removeProperty(o):(Bl(a)&&(a=Ul(a,this._defs.gradient,Py())),t.style.setProperty(o,a+"")),Dy[i]=a)};var Iy,Ly=Object(xe["y"])(Ry,Gv),zy=Gv.prototype;function By(t,e,n,r){Iy[r||t]=e}function Uy(t,e,n,r){if(null==t)return"";var i,o,a,u,c,s="";for("bgrect"===n&&!1===e.interactive&&(s+="pointer-events: none; "),"text"===n&&(s+="font-family: "+hv(t)+"; ",s+="font-size: "+cv(t)+"px; ",t.fontStyle&&(s+="font-style: "+t.fontStyle+"; "),t.fontVariant&&(s+="font-variant: "+t.fontVariant+"; "),t.fontWeight&&(s+="font-weight: "+t.fontWeight+"; ")),i=0,o=by.length;i<o;++i)a=by[i],u=my[a],c=t[a],null==c?"fill"===u&&(s+="fill: none; "):"transparent"!==c||"fill"!==u&&"stroke"!==u?(Bl(c)&&(c=Ul(c,r.gradient,"")),s+=u+": "+c+"; "):s+=u+": none; ";return s?'style="'+s.trim()+'"':null}function qy(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Ly.resize=function(t,e,n,r){zy.resize.call(this,t,e,n,r);var i=this._origin,o=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in gy)a[u]=gy[u];o.head=vy("svg",a);var c=this._bgcolor;return"transparent"!==c&&"none"!==c||(c=null),o.bg=c?vy("rect",{width:this._width,height:this._height,style:"fill: "+c+";"})+yy("rect"):"",o.root=vy("g",{transform:"translate("+i+")"}),o.foot=yy("g")+yy("svg"),this},Ly.background=function(){var t=zy.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),t},Ly.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},Ly._render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},Ly.buildDefs=function(){var t,e,n,r,i,o=this._defs,a="";for(e in o.gradient){for(n=o.gradient[e],i=n.stops,"radial"===n.gradient?(a+=vy(r="pattern",{id:zl+e,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a+=vy("rect",{width:"1",height:"1",fill:"url(#"+e+")"})+yy("rect"),a+=yy(r),a+=vy(r="radialGradient",{id:e,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):a+=vy(r="linearGradient",{id:e,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t=0;t<i.length;++t)a+=vy("stop",{offset:i[t].offset,"stop-color":i[t].color})+yy("stop");a+=yy(r)}for(e in o.clipping)n=o.clipping[e],a+=vy("clipPath",{id:e}),n.path?a+=vy("path",{d:n.path})+yy("path"):a+=vy("rect",{x:0,y:0,width:n.width,height:n.height})+yy("rect"),a+=yy("clipPath");return a.length>0?vy("defs")+a+yy("defs"):""},Ly.attributes=function(t,e){return Iy={},t(By,e,this),Iy},Ly.href=function(t){var e,n=this,r=t.href;if(r){if(e=n._hrefs&&n._hrefs[r])return e;n.sanitizeURL(r).then((function(t){t["xlink:href"]=t.href,t.href=null,(n._hrefs||(n._hrefs={}))[r]=t}))}return null},Ly.mark=function(t){var e,n=this,r=Sv[t.marktype],i=r.tag,o=this._defs,a="";function u(u){var c=n.href(u);c&&(a+=vy("a",c)),e="g"!==i?Uy(u,t,i,o):null,a+=vy(i,n.attributes(r.attr,u),e),"text"===i?a+=qy(lv(u)):"g"===i&&(a+=vy("path",n.attributes(r.background,u),Uy(u,t,"bgrect",o))+yy("path"),a+=vy("g",n.attributes(r.foreground,u))+n.markGroup(u)+yy("g")),a+=yy(i),c&&(a+=yy("a"))}return"g"!==i&&!1===t.interactive&&(e='style="pointer-events: none;"'),a+=vy("g",{class:Bv(t),"clip-path":t.clip?wp(n,t,t.group):null},e),r.nested?t.items&&t.items.length&&u(t.items[0]):Qd(t,u),a+yy("g")},Ly.markGroup=function(t){var e=this,n="";return Qd(t,(function(t){n+=e.mark(t)})),n};var $y="canvas",Wy="png",Hy="svg",Gy="none",Xy={Canvas:$y,PNG:Wy,SVG:Hy,None:Gy},Vy={};function Yy(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(Vy[t]=e,this):Vy[t]}function Jy(t,e,n){var r=[],i=(new Rl).union(e),o=t.marktype;return o?Zy(t,i,n,r):"group"===o?Qy(t,i,n,r):Object(xe["n"])("Intersect scene must be mark node or group item.")}function Zy(t,e,n,r){if(Ky(t,e,n)){var i=t.items,o=t.marktype,a=i.length,u=0;if("group"===o)for(;u<a;++u)Qy(i[u],e,n,r);else for(var c=Sv[o].isect;u<a;++u){var s=i[u];tg(s,e,c)&&r.push(s)}}return r}function Ky(t,e,n){return t.bounds&&e.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!n||n(t)))}function Qy(t,e,n,r){n&&n(t.mark)&&tg(t,e,Sv.group.isect)&&r.push(t);var i=t.items,o=i&&i.length;if(o){var a=t.x||0,u=t.y||0;e.translate(-a,-u);for(var c=0;c<o;++c)Zy(i[c],e,n,r);e.translate(a,u)}return r}function tg(t,e,n){var r=t.bounds;return e.encloses(r)||e.intersects(r)&&n(t,e)}Vy[$y]=Vy[Wy]={renderer:ay,headless:ay,handler:Kv},Vy[Hy]={renderer:xy,headless:Ry,handler:hy},Vy[Gy]={};var eg=new Rl,ng=function(t){var e=t.clip;if(Object(xe["D"])(e))e(Rd(eg.clear()));else{if(!e)return;eg.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(eg)};function rg(t){return rg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(t)}var ig=1e-9;function og(t,e,n){return t===e||("path"===n?ag(t,e):t instanceof Date&&e instanceof Date?+t===+e:Object(xe["E"])(t)&&Object(xe["E"])(e)?Math.abs(t-e)<=ig:t&&e&&(Object(xe["F"])(t)||Object(xe["F"])(e))?null!=t&&null!=e&&ug(t,e):t==e)}function ag(t,e){return og(Dh(t),Dh(e))}function ug(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!og(t[n],e[n],n))return!1;return rg(t)===rg(e)}function cg(t){Fa.call(this,null,t)}var sg=Object(xe["y"])(cg,Fa);function lg(t,e,n){return e(t.bounds.clear(),t,n)}sg.transform=function(t,e){var n,r=e.dataflow,i=t.mark,o=i.marktype,a=Sv[o],u=a.bound,c=i.bounds;return a.nested?(i.items.length&&r.dirty(i.items[0]),c=lg(i,u),i.items.forEach((function(t){t.bounds.clear().union(c)}))):o===hl||t.modified()?(e.visit(e.MOD,(function(t){r.dirty(t)})),c.clear(),i.items.forEach((function(t){c.union(lg(t,u))})),i.role===gl&&e.reflow()):(n=e.changed(e.REM),e.visit(e.ADD,(function(t){c.union(lg(t,u))})),e.visit(e.MOD,(function(t){n=n||c.alignsWith(t.bounds),r.dirty(t),c.union(lg(t,u))})),n&&(c.clear(),i.items.forEach((function(t){c.union(t.bounds)})))),ng(i),e.modifies("bounds")};var fg=":vega_identifier:";function hg(t){Fa.call(this,0,t)}hg.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};var dg=Object(xe["y"])(hg,Fa);function pg(t){var e=t._signals[fg];return e||(t._signals[fg]=e=t.add(0)),e}function vg(t){Fa.call(this,null,t)}dg.transform=function(t,e){var n=pg(e.dataflow),r=n.value,i=t.as;return e.visit(e.ADD,(function(t){t[i]||(t[i]=++r)})),n.set(this.value=r),e};var yg=Object(xe["y"])(vg,Fa);function gg(t){var e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}function mg(t){Fa.call(this,null,t)}yg.transform=function(t,e){var n=this.value;n||(n=e.dataflow.scenegraph().mark(t.markdef,gg(t),t.index),n.group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);var r=n.marktype===hl?Hl:Wl;return e.visit(e.ADD,(function(t){r.call(t,n)})),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e};var bg=Object(xe["y"])(mg,Fa),wg={parity:function(t){return t.filter((function(t,e){return e%2?t.opacity=0:1}))},greedy:function(t,e){var n;return t.filter((function(t,r){return r&&xg(n.bounds,t.bounds,e)?t.opacity=0:(n=t,1)}))}};function xg(t,e,n){return n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2)}function _g(t,e){for(var n,r=1,i=t.length,o=t[0].bounds;r<i;o=n,++r)if(xg(o,n=t[r].bounds,e))return!0}function Og(t){var e=t.bounds;return e.width()>1&&e.height()>1}function kg(t,e,n){var r=t.range(),i=new Rl;return e===Qs||e===nl?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(t){return i.encloses(t.bounds)}}function Sg(t){return t.forEach((function(t){return t.opacity=1})),t}function jg(t,e){return t.reflow(e.modified()).modifies("opacity")}function Ag(t){Fa.call(this,null,t)}bg.transform=function(t,e){var n,r,i,o=wg[t.method]||wg.parity,a=e.materialize(e.SOURCE).source,u=t.separation||0;if(a&&a.length){if(!t.method)return t.modified("method")&&(Sg(a),e=jg(e,t)),e;if(t.sort&&(a=a.slice().sort(t.sort)),a=a.filter(Og),n=Sg(a),e=jg(e,t),n.length>=3&&_g(n,u)){do{n=o(n,u)}while(n.length>=3&&_g(n,u));n.length<3&&!Object(xe["S"])(a).opacity&&(n.length>1&&(Object(xe["S"])(n).opacity=0),Object(xe["S"])(a).opacity=1)}return t.boundScale&&t.boundTolerance>=0&&(r=kg(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach((function(t){r(t)||(t.opacity=0)}))),i=n[0].mark.bounds.clear(),a.forEach((function(t){t.opacity&&i.union(t.bounds)})),e}};var Eg=Object(xe["y"])(Ag,Fa);Eg.transform=function(t,e){var n=e.dataflow;if(e.visit(e.ALL,(function(t){n.dirty(t)})),e.fields&&e.fields["zindex"]){var r=e.source&&e.source[0];r&&(r.mark.zdirty=!0)}};var Cg=new Rl;function Mg(t,e,n){return t[e]===n?0:(t[e]=n,1)}var Dg=.5;function Fg(t){var e=t.items[0].datum.orient;return e===tl||e===el}function Tg(t){var e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}function Ng(t,e,n,r){var i,o,a=e.items[0],u=a.datum,c=u.orient,s=Tg(u),l=a.range,f=a.offset,h=a.position,d=a.minExtent,p=a.maxExtent,v=u.title&&a.items[s[2]].items[0],y=a.titlePadding,g=a.bounds,m=0,b=0;switch(Cg.clear().union(g),g.clear(),(i=s[0])>-1&&g.union(a.items[i].bounds),(i=s[1])>-1&&g.union(a.items[i].bounds),c){case Qs:m=h||0,b=-f,o=Math.max(d,Math.min(p,-g.y1)),v&&(o=Pg(v,o,y,0,-1,g)),g.add(0,-o).add(l,0);break;case tl:m=-f,b=h||0,o=Math.max(d,Math.min(p,-g.x1)),v&&(o=Pg(v,o,y,1,-1,g)),g.add(-o,0).add(0,l);break;case el:m=n+f,b=h||0,o=Math.max(d,Math.min(p,g.x2)),v&&(o=Pg(v,o,y,1,1,g)),g.add(0,0).add(o,l);break;case nl:m=h||0,b=r+f,o=Math.max(d,Math.min(p,g.y2)),v&&(o=Pg(v,o,y,0,1,g)),g.add(0,0).add(l,o);break;default:m=a.x,b=a.y}return Nd(g.translate(m,b),a),Mg(a,"x",m+Dg)|Mg(a,"y",b+Dg)&&(a.bounds=Cg,t.dirty(a),a.bounds=g,t.dirty(a)),a.mark.bounds.clear().union(g)}function Pg(t,e,n,r,i,o){var a=t.bounds,u=0,c=0;return t.auto?(e+=n,r?u=(t.x||0)-(t.x=i*e):c=(t.y||0)-(t.y=i*e),a.translate(-u,-c),t.mark.bounds.set(a.x1,a.y1,a.x2,a.y2),r?(o.add(0,a.y1).add(0,a.y2),e+=a.width()):(o.add(a.x1,0).add(a.x2,0),e+=a.height())):o.union(a),e}function Rg(t){return zg(t)||Lg(t)||Ig()}function Ig(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Lg(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function zg(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Bg(t){for(var e,n,r,i,o,a,u,c=t.items,s=c.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<s;++l)if(a=c[l],u=a.items,a.marktype===hl)switch(a.role){case dl:case gl:break;case ml:(e=f.rowheaders).push.apply(e,Rg(u));break;case bl:(n=f.rowfooters).push.apply(n,Rg(u));break;case xl:(r=f.colheaders).push.apply(r,Rg(u));break;case _l:(i=f.colfooters).push.apply(i,Rg(u));break;case wl:f.rowtitle=u[0];break;case Ol:f.coltitle=u[0];break;default:(o=f.marks).push.apply(o,Rg(u))}return f}function Ug(t){return(new Rl).set(0,0,t.width||0,t.height||0)}function qg(t){var e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function $g(t,e,n){var r=Object(xe["F"])(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function Wg(t){return t<0?Math.ceil(-t):0}function Hg(t,e,n){var r,i,o,a,u,c,s,l,f,h,d,p=!n.nodirty,v=n.bounds===Tl?Ug:qg,y=Cg.set(0,0,0,0),g=$g(n.align,Nl),m=$g(n.align,Pl),b=$g(n.padding,Nl),w=$g(n.padding,Pl),x=n.columns||e.length,_=x<0?1:Math.ceil(e.length/x),O=e.length,k=Array(O),S=Array(x),j=0,A=Array(O),E=Array(_),C=0,M=Array(O),D=Array(O),F=Array(O);for(i=0;i<x;++i)S[i]=0;for(i=0;i<_;++i)E[i]=0;for(i=0;i<O;++i)c=e[i],u=F[i]=v(c),c.x=c.x||0,M[i]=0,c.y=c.y||0,D[i]=0,o=i%x,a=~~(i/x),j=Math.max(j,s=Math.ceil(u.x2)),C=Math.max(C,l=Math.ceil(u.y2)),S[o]=Math.max(S[o],s),E[a]=Math.max(E[a],l),k[i]=b+Wg(u.x1),A[i]=w+Wg(u.y1),p&&t.dirty(e[i]);for(i=0;i<O;++i)i%x===0&&(k[i]=0),i<x&&(A[i]=0);if(g===Fl)for(o=1;o<x;++o){for(d=0,i=o;i<O;i+=x)d<k[i]&&(d=k[i]);for(i=o;i<O;i+=x)k[i]=d+S[o-1]}else if(g===Dl){for(d=0,i=0;i<O;++i)i%x&&d<k[i]&&(d=k[i]);for(i=0;i<O;++i)i%x&&(k[i]=d+j)}else for(g=!1,o=1;o<x;++o)for(i=o;i<O;i+=x)k[i]+=S[o-1];if(m===Fl)for(a=1;a<_;++a){for(d=0,i=a*x,r=i+x;i<r;++i)d<A[i]&&(d=A[i]);for(i=a*x;i<r;++i)A[i]=d+E[a-1]}else if(m===Dl){for(d=0,i=x;i<O;++i)d<A[i]&&(d=A[i]);for(i=x;i<O;++i)A[i]=d+C}else for(m=!1,a=1;a<_;++a)for(i=a*x,r=i+x;i<r;++i)A[i]+=E[a-1];for(f=0,i=0;i<O;++i)f=k[i]+(i%x?f:0),M[i]+=f-e[i].x;for(o=0;o<x;++o)for(h=0,i=o;i<O;i+=x)h+=A[i],D[i]+=h-e[i].y;if(g&&$g(n.center,Nl)&&_>1)for(i=0;i<O;++i)u=g===Dl?j:S[i%x],f=u-F[i].x2-e[i].x-M[i],f>0&&(M[i]+=f/2);if(m&&$g(n.center,Pl)&&1!==x)for(i=0;i<O;++i)u=m===Dl?C:E[~~(i/x)],h=u-F[i].y2-e[i].y-D[i],h>0&&(D[i]+=h/2);for(i=0;i<O;++i)y.union(F[i].translate(M[i],D[i]));switch(f=$g(n.anchor,ll),h=$g(n.anchor,fl),$g(n.anchor,Nl)){case sl:f-=y.width();break;case cl:f-=y.width()/2}switch($g(n.anchor,Pl)){case sl:h-=y.height();break;case cl:h-=y.height()/2}for(f=Math.round(f),h=Math.round(h),y.clear(),i=0;i<O;++i)e[i].mark.bounds.clear();for(i=0;i<O;++i)c=e[i],c.x+=M[i]+=f,c.y+=D[i]+=h,y.union(c.mark.bounds.union(c.bounds.translate(M[i],D[i]))),p&&t.dirty(c);return y}function Gg(t,e,n){var r,i,o,a,u,c,s,l=Bg(e),f=l.marks,h=n.bounds===Tl?Xg:Vg,d=n.offset,p=n.columns||f.length,v=p<0?1:Math.ceil(f.length/p),y=v*p,g=Hg(t,f,n);l.rowheaders&&(c=$g(n.headerBand,Pl,null),r=Zg(t,l.rowheaders,f,p,v,-$g(d,"rowHeader"),Yg,0,h,"x1",0,p,1,c)),l.colheaders&&(c=$g(n.headerBand,Nl,null),i=Zg(t,l.colheaders,f,p,p,-$g(d,"columnHeader"),Yg,1,h,"y1",0,1,p,c)),l.rowfooters&&(c=$g(n.footerBand,Pl,null),o=Zg(t,l.rowfooters,f,p,v,$g(d,"rowFooter"),Jg,0,h,"x2",p-1,p,1,c)),l.colfooters&&(c=$g(n.footerBand,Nl,null),a=Zg(t,l.colfooters,f,p,p,$g(d,"columnFooter"),Jg,1,h,"y2",y-p,1,p,c)),l.rowtitle&&(u=$g(n.titleAnchor,Pl),s=$g(d,"rowTitle"),s=u===sl?o+s:r-s,c=$g(n.titleBand,Pl,.5),Kg(t,l.rowtitle,s,0,g,c)),l.coltitle&&(u=$g(n.titleAnchor,Nl),s=$g(d,"columnTitle"),s=u===sl?a+s:i-s,c=$g(n.titleBand,Nl,.5),Kg(t,l.coltitle,s,1,g,c))}function Xg(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function Vg(t,e){return t.bounds[e]}function Yg(t,e){return Math.floor(Math.min(t,e))}function Jg(t,e){return Math.ceil(Math.max(t,e))}function Zg(t,e,n,r,i,o,a,u,c,s,l,f,h,d){var p,v,y,g,m,b,w,x,_,O=n.length,k=0,S=0;if(!O)return k;for(p=l;p<O;p+=f)n[p]&&(k=a(k,c(n[p],s)));if(!e.length)return k;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),k+=o,v=0,g=e.length;v<g;++v)t.dirty(e[v]),e[v].mark.bounds.clear();for(p=l,v=0,g=e.length;v<g;++v,p+=f){for(b=e[v],m=b.mark.bounds,y=p;y>=0&&null==(w=n[y]);y-=h);u?(x=null==d?w.x:Math.round(w.bounds.x1+d*w.bounds.width()),_=k):(x=k,_=null==d?w.y:Math.round(w.bounds.y1+d*w.bounds.height())),m.union(b.bounds.translate(x-(b.x||0),_-(b.y||0))),b.x=x,b.y=_,t.dirty(b),S=a(S,m[s])}return S}function Kg(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,u=n;r?a=Math.round(i.x1+o*i.width()):u=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),u-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=u,t.dirty(e)}}function Qg(t,e){var n=t[e]||{};return function(e,r){return null!=n[e]?n[e]:null!=t[e]?t[e]:r}}function tm(t,e){var n=-1/0;return t.forEach((function(t){null!=t.offset&&(n=Math.max(n,t.offset))})),n>-1/0?n:e}function em(t,e,n,r,i,o,a){var u=Qg(n,e),c=tm(t,u("offset",0)),s=u("anchor",ul),l=s===sl?1:s===cl?.5:0,f={align:Fl,bounds:u("bounds",Tl),columns:"vertical"===u("direction")?1:t.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(e){case tl:f.anchor={x:Math.floor(r.x1)-c,column:sl,y:l*(a||r.height()+2*r.y1),row:s};break;case el:f.anchor={x:Math.ceil(r.x2)+c,y:l*(a||r.height()+2*r.y1),row:s};break;case Qs:f.anchor={y:Math.floor(i.y1)-c,row:sl,x:l*(o||i.width()+2*i.x1),column:s};break;case nl:f.anchor={y:Math.ceil(i.y2)+c,x:l*(o||i.width()+2*i.x1),column:s};break;case rl:f.anchor={x:c,y:c};break;case il:f.anchor={x:o-c,y:c,column:sl};break;case ol:f.anchor={x:c,y:a-c,row:sl};break;case al:f.anchor={x:o-c,y:a-c,column:sl,row:sl};break}return f}function nm(t,e){var n,r,i=e.items[0],o=i.datum,a=i.orient,u=i.bounds,c=i.x,s=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),im(t,i,i.items[0].items[0]),u=rm(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),o.type===Sl&&um(i.items[0].items[0].items[0].items),a!==Ml&&(i.x=c=0,i.y=s=0),i.width=n,i.height=r,Nd(u.set(c,s,c+n,s+r),i),i.mark.bounds.clear().union(u),i}function rm(t,e){return t.items.forEach((function(t){return e.union(t.bounds)})),e.x1=t.padding,e.y1=t.padding,e}function im(t,e,n){var r=e.padding,i=r-n.x,o=r-n.y;if(e.datum.title){var a=e.items[1].items[0],u=a.anchor,c=e.titlePadding||0,s=r-a.x,l=r-a.y;switch(a.orient){case tl:i+=Math.ceil(a.bounds.width())+c;break;case el:case nl:break;default:o+=a.fontSize+c}switch((i||o)&&am(t,n,i,o),a.orient){case tl:l+=om(e,n,a,u,0,1);break;case el:s+=om(e,n,a,sl,1,0)+c,l+=om(e,n,a,u,0,1);break;case nl:s+=om(e,n,a,u,1,0),l+=om(e,n,a,sl,0,0,1)+c;break;default:s+=om(e,n,a,u,1,0)}(s||l)&&am(t,a,s,l),(s=Math.round(a.bounds.x1-r))<0&&(am(t,n,-s,0),am(t,a,-s,0))}else(i||o)&&am(t,n,i,o)}function om(t,e,n,r,i,o,a){var u="symbol"!==t.datum.type,c=n.datum.vgrad,s=!u||!o&&c||a?e:e.items[0],l=s.bounds[i?"x2":"y2"]-t.padding,f=c&&o?l:0,h=c&&o?0:l;return Math.round(r===ul?f:r===sl?h:.5*l)}function am(t,e,n,r){e.x+=n,e.y+=r,e.bounds.translate(n,r),e.mark.bounds.translate(n,r),t.dirty(e)}function um(t){var e=t.reduce((function(t,e){return t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t}),{});t.forEach((function(t){t.width=e[t.column],t.height=t.bounds.y2-t.y}))}function cm(t,e,n,r,i){var o,a=e.items[0],u=a.frame,c=a.orient,s=a.anchor,l=a.offset,f=a.bounds,h=c===tl||c===el,d=0,p=h?r:n,v=0,y=0;switch(u!==hl?c===tl?(d=i.y2,p=i.y1):c===el?(d=i.y1,p=i.y2):(d=i.x1,p=i.x2):c===tl&&(d=r,p=0),o=s===ul?d:s===sl?p:(d+p)/2,Cg.clear().union(f),c){case Qs:v=o,y=i.y1-l;break;case tl:v=i.x1-l,y=o;break;case el:v=i.x2+l,y=o;break;case nl:v=o,y=i.y2+l;break;default:v=a.x,y=a.y}return f.translate(v-(a.x||0),y-(a.y||0)),Mg(a,"x",v)|Mg(a,"y",y)&&(a.bounds=Cg,t.dirty(a),a.bounds=f,t.dirty(a)),e.bounds.clear().union(f)}function sm(t){Fa.call(this,null,t)}var lm=Object(xe["y"])(sm,Fa);function fm(t,e,n){var r,i,o,a,u,c,s=e.items,l=Math.max(0,e.width||0),f=Math.max(0,e.height||0),h=(new Rl).set(0,0,l,f),d=h.clone(),p=h.clone(),v=[];for(u=0,c=s.length;u<c;++u)switch(i=s[u],i.role){case dl:a=Fg(i)?d:p,a.union(Ng(t,i,l,f));break;case pl:r=i;break;case gl:v.push(nm(t,i));break;case vl:case yl:case ml:case bl:case wl:case xl:case _l:case Ol:d.union(i.bounds),p.union(i.bounds);break;default:h.union(i.bounds)}if(v.length){var y={};for(var g in v.forEach((function(t){o=t.orient||el,o!==Ml&&(y[o]||(y[o]=[])).push(t)})),y){var m=y[g];Hg(t,m,em(m,g,n.legends,d,p,l,f))}v.forEach((function(e){var r=e.bounds;if(r.equals(e._bounds)||(e.bounds=e._bounds,t.dirty(e),e.bounds=r,t.dirty(e)),n.autosize&&n.autosize.type===jl)switch(e.orient){case tl:case el:h.add(r.x1,0).add(r.x2,0);break;case Qs:case nl:h.add(0,r.y1).add(0,r.y2)}else h.union(r)}))}h.union(d).union(p),r&&h.union(cm(t,r,l,f,h)),e.clip&&h.set(0,0,e.width||0,e.height||0),hm(t,e,h,n)}function hm(t,e,n,r){var i=r.autosize||{},o=i.type,a=t._width,u=t._height,c=t.padding();if(!(t._autosize<1)&&o){var s=Math.max(0,e.width||0),l=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,e.height||0),d=Math.max(0,Math.ceil(-n.y1)),p=Math.max(0,Math.ceil(n.y2-h));i.contains===kl&&(a-=c.left+c.right,u-=c.top+c.bottom),o===Ml?(l=0,d=0,s=a,h=u):o===jl?(s=Math.max(0,a-l-f),h=Math.max(0,u-d-p)):o===Al?(s=Math.max(0,a-l-f),u=h+d+p):o===El?(a=s+l+f,h=Math.max(0,u-d-p)):o===Cl&&(a=s+l+f,u=h+d+p),t._resizeView(a,u,s,h,[l,d],i.resize)}}lm.transform=function(t,e){var n=e.dataflow;return t.mark.items.forEach((function(e){t.layout&&Gg(n,e,t.layout),fm(n,e,t)})),t.modified()&&e.reflow(),e};var dm=function(t,e,n){var r=t-e+2*n;return t?r>0?r:1:0},pm="identity",vm="linear",ym="log",gm="pow",mm="sqrt",bm="symlog",wm="time",xm="utc",_m="sequential",Om="diverging",km="quantile",Sm="quantize",jm="threshold",Am="ordinal",Em="point",Cm="band",Mm="bin-ordinal";function Dm(t){switch(t){case pm:case vm:case ym:case gm:case mm:case bm:case wm:case xm:case _m:case km:case Sm:case jm:case Am:case Em:case Cm:case Mm:return!0}return!1}function Fm(t){return t===km}function Tm(t){return t&&t.startsWith(_m)}function Nm(t){return t&&t.startsWith(Om)}function Pm(t){return Tm(t)||Nm(t)}function Rm(t){return t===ym||t.endsWith("-log")}function Im(t){switch(t){case vm:case ym:case gm:case mm:case bm:case wm:case xm:case _m:return!0}return!1}function Lm(t){return t===Mm||t===Am||t===Cm||t===Em}function zm(t){return t===Mm||t===km||t===Sm||t===jm}var Bm={millisecond:dr,second:wr,minute:_r,hour:kr,day:jr,week:Er,month:Rr,year:Lr},Um={millisecond:dr,second:wr,minute:Br,hour:qr,day:Wr,week:Gr,month:ti,year:ni};function qm(t,e){var n=e===xm?Um:Bm;return Object(xe["v"])(n,t)&&n[t]}var $m=function(t){return function(e){var n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}},Wm=function(t){return function(e){var n,r,i,o,a=t.range(),u=e[0],c=e[1],s=-1;for(c<u&&(r=u,u=c,c=r),i=0,o=a.length;i<o;++i)a[i]>=u&&a[i]<=c&&(s<0&&(s=i),n=i);if(!(s<0))return u=t.invertExtent(a[s]),c=t.invertExtent(a[n]),[void 0===u[0]?u[1]:u[0],void 0===c[1]?c[0]:c[1]]}},Hm=Gs(Ka),Gm=Hm.right,Xm=Hm.left,Vm=Gm;function Ym(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jm(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Zm=Symbol("implicit");function Km(){var t=new Map,e=[],n=[],r=Zm;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Zm)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var r=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value,l=s+"";t.has(l)||t.set(l,e.push(s))}}catch(f){o=!0,a=f}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Km(e,n).unknown(r)},Ym.apply(i,arguments),i}function Qm(){var t,e,n=Km().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,u=0,c=0,s=.5;function l(){var n=r().length,l=o[1]<o[0],f=o[l-0],h=o[1-l],d=dm(n,u,c);t=(h-f)/(d||1),a&&(t=Math.floor(t)),f+=(h-f-t*(n-u))*s,e=t*(1-u),a&&(f=Math.round(f),e=Math.round(e));var p=Ms(n).map((function(e){return f+t*e}));return i(l?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),l()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,l()):a},n.padding=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u=c,l()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},n.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},n.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},n.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var n,a,u,c=+t[0],s=+t[1],l=o[1]<o[0],f=l?i().reverse():i(),h=f.length-1;if(c===c&&s===s&&(s<c&&(u=c,c=s,s=u),!(s<f[0]||c>o[1-l])))return n=Math.max(0,Gm(f,c)-1),a=c===s?n:Gm(f,s)-1,c-f[n]>e+1e-10&&++n,l&&(u=n,n=h-a,a=h-u),n>a?void 0:r().slice(n,a+1)}},n.invert=function(t){var e=n.invertRange([t,t]);return e?e[0]:e},n.copy=function(){return Qm().domain(r()).range(o).round(a).paddingInner(u).paddingOuter(c).align(s)},l()}function tb(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return tb(e())},t}function eb(){return tb(Qm().paddingInner(1))}var nb=Math.sqrt(50),rb=Math.sqrt(10),ib=Math.sqrt(2),ob=function(t,e,n){var r,i,o,a,u=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ab(t,e,n))||!isFinite(a))return[];if(a>0){t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));while(++u<i)o[u]=(t+u)*a}else{t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));while(++u<i)o[u]=(t-u)/a}return r&&o.reverse(),o};function ab(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nb?10:o>=rb?5:o>=ib?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nb?10:o>=rb?5:o>=ib?2:1)}function ub(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nb?i*=10:o>=rb?i*=5:o>=ib&&(i*=2),e<t?-i:i}var cb=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},sb=function(t){return t=cb(Math.abs(t)),t?t[1]:NaN},lb=function(t,e){return function(n,r){var i=n.length,o=[],a=0,u=t[0],c=0;while(i>0&&u>0){if(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),(c+=u+1)>r)break;u=t[a=(a+1)%t.length]}return o.reverse().join(e)}},fb=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},hb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function db(t){if(!(e=hb.exec(t)))throw new Error("invalid format: "+t);var e;return new pb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function pb(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}db.prototype=pb.prototype,pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vb,yb,gb,mb,bb=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}break}return i>0?t.slice(0,i)+t.slice(e+1):t},wb=function(t,e){var n=cb(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(vb=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cb(t,Math.max(0,e+o-1))[0]},xb=function(t,e){var n=cb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},_b={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return xb(100*t,e)},r:xb,s:wb,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ob=function(t){return t},kb=Array.prototype.map,Sb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],jb=function(t){var e=void 0===t.grouping||void 0===t.thousands?Ob:lb(kb.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Ob:fb(kb.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function s(t){t=db(t);var s=t.fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,y=t.precision,g=t.trim,m=t.type;"n"===m?(v=!0,m="g"):_b[m]||(void 0===y&&(y=12),g=!0,m="g"),(d||"0"===s&&"="===l)&&(d=!0,s="0",l="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?r:/[%p]/.test(m)?a:"",x=_b[m],_=/[defgprs%]/.test(m);function O(t){var n,r,a,h=b,O=w;if("c"===m)O=x(t)+O,t="";else{t=+t;var k=t<0;if(t=isNaN(t)?c:x(Math.abs(t),y),g&&(t=bb(t)),k&&0===+t&&(k=!1),h=(k?"("===f?f:u:"-"===f||"("===f?"":f)+h,O=("s"===m?Sb[8+vb/3]:"")+O+(k&&"("===f?")":""),_){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){O=(46===a?i+t.slice(n+1):t.slice(n))+O,t=t.slice(0,n);break}}}v&&!d&&(t=e(t,1/0));var S=h.length+t.length+O.length,j=S<p?new Array(p-S+1).join(s):"";switch(v&&d&&(t=e(j+t,j.length?p-O.length:1/0),j=""),l){case"<":t=h+t+O+j;break;case"=":t=h+j+t+O;break;case"^":t=j.slice(0,S=j.length>>1)+h+t+O+j.slice(S);break;default:t=j+h+t+O;break}return o(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),O.toString=function(){return t+""},O}function l(t,e){var n=s((t=db(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(sb(e)/3))),i=Math.pow(10,-r),o=Sb[8+r/3];return function(t){return n(i*t)+o}}return{format:s,formatPrefix:l}};function Ab(t){return yb=jb(t),gb=yb.format,mb=yb.formatPrefix,yb}Ab({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Eb=function(t){return Math.max(0,-sb(Math.abs(t)))},Cb=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sb(e)/3)))-sb(Math.abs(t)))},Mb=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sb(e)-sb(t))+1},Db=function(t,e,n,r){var i,o=ub(t,e,n);switch(r=db(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Cb(o,a))||(r.precision=i),mb(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Mb(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Eb(o))||(r.precision=i-2*("%"===r.type));break}return gb(r)},Fb=Array.prototype.map;function Tb(t){return Fb.call(t,(function(t){return+t}))}var Nb=Array.prototype.slice;function Pb(){var t=[],e=[];function n(n){return null==n||n!==n?void 0:e[(Vm(t,n)-1)%e.length]}return n.domain=function(e){return arguments.length?(t=Tb(e),n):t.slice()},n.range=function(t){return arguments.length?(e=Nb.call(t),n):e.slice()},n.tickFormat=function(e,n){return Db(t[0],Object(xe["S"])(t),null==e?10:e,n)},n.copy=function(){return Pb().domain(n.domain()).range(n.range())},n}var Rb=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ib(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lb(){}var zb=.7,Bb=1/zb,Ub="\\s*([+-]?\\d+)\\s*",qb="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wb=/^#([0-9a-f]{3})$/,Hb=/^#([0-9a-f]{6})$/,Gb=new RegExp("^rgb\\("+[Ub,Ub,Ub]+"\\)$"),Xb=new RegExp("^rgb\\("+[$b,$b,$b]+"\\)$"),Vb=new RegExp("^rgba\\("+[Ub,Ub,Ub,qb]+"\\)$"),Yb=new RegExp("^rgba\\("+[$b,$b,$b,qb]+"\\)$"),Jb=new RegExp("^hsl\\("+[qb,$b,$b]+"\\)$"),Zb=new RegExp("^hsla\\("+[qb,$b,$b,qb]+"\\)$"),Kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qb(){return this.rgb().formatHex()}function tw(){return hw(this).formatHsl()}function ew(){return this.rgb().formatRgb()}function nw(t){var e;return t=(t+"").trim().toLowerCase(),(e=Wb.exec(t))?(e=parseInt(e[1],16),new uw(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Hb.exec(t))?rw(parseInt(e[1],16)):(e=Gb.exec(t))?new uw(e[1],e[2],e[3],1):(e=Xb.exec(t))?new uw(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Vb.exec(t))?iw(e[1],e[2],e[3],e[4]):(e=Yb.exec(t))?iw(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Jb.exec(t))?fw(e[1],e[2]/100,e[3]/100,1):(e=Zb.exec(t))?fw(e[1],e[2]/100,e[3]/100,e[4]):Kb.hasOwnProperty(t)?rw(Kb[t]):"transparent"===t?new uw(NaN,NaN,NaN,0):null}function rw(t){return new uw(t>>16&255,t>>8&255,255&t,1)}function iw(t,e,n,r){return r<=0&&(t=e=n=NaN),new uw(t,e,n,r)}function ow(t){return t instanceof Lb||(t=nw(t)),t?(t=t.rgb(),new uw(t.r,t.g,t.b,t.opacity)):new uw}function aw(t,e,n,r){return 1===arguments.length?ow(t):new uw(t,e,n,null==r?1:r)}function uw(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function cw(){return"#"+lw(this.r)+lw(this.g)+lw(this.b)}function sw(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function lw(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pw(t,e,n,r)}function hw(t){if(t instanceof pw)return new pw(t.h,t.s,t.l,t.opacity);if(t instanceof Lb||(t=nw(t)),!t)return new pw;if(t instanceof pw)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new pw(a,u,c,t.opacity)}function dw(t,e,n,r){return 1===arguments.length?hw(t):new pw(t,e,n,null==r?1:r)}function pw(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function vw(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Rb(Lb,nw,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qb,formatHex:Qb,formatHsl:tw,formatRgb:ew,toString:ew}),Rb(uw,aw,Ib(Lb,{brighter:function(t){return t=null==t?Bb:Math.pow(Bb,t),new uw(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?zb:Math.pow(zb,t),new uw(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cw,formatHex:cw,formatRgb:sw,toString:sw})),Rb(pw,dw,Ib(Lb,{brighter:function(t){return t=null==t?Bb:Math.pow(Bb,t),new pw(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?zb:Math.pow(zb,t),new pw(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new uw(vw(t>=240?t-240:t+120,i,r),vw(t,i,r),vw(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var yw=Math.PI/180,gw=180/Math.PI,mw=18,bw=.96422,ww=1,xw=.82521,_w=4/29,Ow=6/29,kw=3*Ow*Ow,Sw=Ow*Ow*Ow;function jw(t){if(t instanceof Ew)return new Ew(t.l,t.a,t.b,t.opacity);if(t instanceof Pw)return Rw(t);t instanceof uw||(t=ow(t));var e,n,r=Fw(t.r),i=Fw(t.g),o=Fw(t.b),a=Cw((.2225045*r+.7168786*i+.0606169*o)/ww);return r===i&&i===o?e=n=a:(e=Cw((.4360747*r+.3850649*i+.1430804*o)/bw),n=Cw((.0139322*r+.0971045*i+.7141733*o)/xw)),new Ew(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Aw(t,e,n,r){return 1===arguments.length?jw(t):new Ew(t,e,n,null==r?1:r)}function Ew(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Cw(t){return t>Sw?Math.pow(t,1/3):t/kw+_w}function Mw(t){return t>Ow?t*t*t:kw*(t-_w)}function Dw(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fw(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tw(t){if(t instanceof Pw)return new Pw(t.h,t.c,t.l,t.opacity);if(t instanceof Ew||(t=jw(t)),0===t.a&&0===t.b)return new Pw(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*gw;return new Pw(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nw(t,e,n,r){return 1===arguments.length?Tw(t):new Pw(t,e,n,null==r?1:r)}function Pw(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Rw(t){if(isNaN(t.h))return new Ew(t.l,0,0,t.opacity);var e=t.h*yw;return new Ew(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rb(Ew,Aw,Ib(Lb,{brighter:function(t){return new Ew(this.l+mw*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ew(this.l-mw*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=bw*Mw(e),t=ww*Mw(t),n=xw*Mw(n),new uw(Dw(3.1338561*e-1.6168667*t-.4906146*n),Dw(-.9787684*e+1.9161415*t+.033454*n),Dw(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Rb(Pw,Nw,Ib(Lb,{brighter:function(t){return new Pw(this.h,this.c,this.l+mw*(null==t?1:t),this.opacity)},darker:function(t){return new Pw(this.h,this.c,this.l-mw*(null==t?1:t),this.opacity)},rgb:function(){return Rw(this).rgb()}}));var Iw=-.14861,Lw=1.78277,zw=-.29227,Bw=-.90649,Uw=1.97294,qw=Uw*Bw,$w=Uw*Lw,Ww=Lw*zw-Bw*Iw;function Hw(t){if(t instanceof Xw)return new Xw(t.h,t.s,t.l,t.opacity);t instanceof uw||(t=ow(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ww*r+qw*e-$w*n)/(Ww+qw-$w),o=r-i,a=(Uw*(n-i)-zw*o)/Bw,u=Math.sqrt(a*a+o*o)/(Uw*i*(1-i)),c=u?Math.atan2(a,o)*gw-120:NaN;return new Xw(c<0?c+360:c,u,i,t.opacity)}function Gw(t,e,n,r){return 1===arguments.length?Hw(t):new Xw(t,e,n,null==r?1:r)}function Xw(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Vw(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Rb(Xw,Gw,Ib(Lb,{brighter:function(t){return t=null==t?Bb:Math.pow(Bb,t),new Xw(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?zb:Math.pow(zb,t),new Xw(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yw,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new uw(255*(e+n*(Iw*r+Lw*i)),255*(e+n*(zw*r+Bw*i)),255*(e+n*(Uw*r)),this.opacity)}}));var Yw=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Vw((n-r/e)*e,a,i,o,u)}},Jw=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Vw((n-r/e)*e,i,o,a,u)}},Zw=function(t){return function(){return t}};function Kw(t,e){return function(n){return t+n*e}}function Qw(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tx(t,e){var n=e-t;return n?Kw(t,n>180||n<-180?n-360*Math.round(n/360):n):Zw(isNaN(t)?e:t)}function ex(t){return 1===(t=+t)?nx:function(e,n){return n-e?Qw(e,n,t):Zw(isNaN(e)?n:e)}}function nx(t,e){var n=e-t;return n?Kw(t,n):Zw(isNaN(t)?e:t)}var rx=function t(e){var n=ex(e);function r(t,e){var r=n((t=aw(t)).r,(e=aw(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=nx(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ix(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=aw(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var ox=ix(Yw),ax=ix(Jw),ux=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=_x(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},cx=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},sx=function(t,e){return t=+t,e-=t,function(n){return t+e*n}};function lx(t){return lx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(t)}var fx=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===lx(t)||(t={}),null!==e&&"object"===lx(e)||(e={}),e)n in t?r[n]=_x(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},hx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dx=new RegExp(hx.source,"g");function px(t){return function(){return t}}function vx(t){return function(e){return t(e)+""}}var yx=function(t,e){var n,r,i,o=hx.lastIndex=dx.lastIndex=0,a=-1,u=[],c=[];t+="",e+="";while((n=hx.exec(t))&&(r=dx.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:sx(n,r)})),o=dx.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?vx(c[0].x):px(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})};function gx(t){return gx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(t)}var mx,bx,wx,xx,_x=function(t,e){var n,r=gx(e);return null==e||"boolean"===r?Zw(e):("number"===r?sx:"string"===r?(n=nw(e))?(e=n,rx):yx:e instanceof nw?rx:e instanceof Date?cx:Array.isArray(e)?ux:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?fx:sx)(t,e)},Ox=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},kx=function(t,e){var n=tx(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Sx=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},jx=180/Math.PI,Ax={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ex=function(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*jx,skewX:Math.atan(c)*jx,scaleX:a,scaleY:u}};function Cx(t){return"none"===t?Ax:(mx||(mx=document.createElement("DIV"),bx=document.documentElement,wx=document.defaultView),mx.style.transform=t,t=wx.getComputedStyle(bx.appendChild(mx),null).getPropertyValue("transform"),bx.removeChild(mx),t=t.slice(7,-1).split(","),Ex(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Mx(t){return null==t?Ax:(xx||(xx=document.createElementNS("http://www.w3.org/2000/svg","g")),xx.setAttribute("transform",t),(t=xx.transform.baseVal.consolidate())?(t=t.matrix,Ex(t.a,t.b,t.c,t.d,t.e,t.f)):Ax)}function Dx(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:sx(t,i)},{i:c-2,x:sx(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:sx(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:sx(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function c(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:sx(t,n)},{i:u-2,x:sx(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var Fx=Dx(Cx,"px, ","px)","deg)"),Tx=Dx(Mx,", ",")",")"),Nx=Math.SQRT2,Px=2,Rx=4,Ix=1e-12;function Lx(t){return((t=Math.exp(t))+1/t)/2}function zx(t){return((t=Math.exp(t))-1/t)/2}function Bx(t){return((t=Math.exp(2*t))-1)/(t+1)}var Ux=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],c=e[1],s=e[2],l=u-i,f=c-o,h=l*l+f*f;if(h<Ix)r=Math.log(s/a)/Nx,n=function(t){return[i+t*l,o+t*f,a*Math.exp(Nx*t*r)]};else{var d=Math.sqrt(h),p=(s*s-a*a+Rx*h)/(2*a*Px*d),v=(s*s-a*a-Rx*h)/(2*s*Px*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-y)/Nx,n=function(t){var e=t*r,n=Lx(y),u=a/(Px*d)*(n*Bx(Nx*e+y)-zx(y));return[i+u*l,o+u*f,a*n/Lx(Nx*e+y)]}}return n.duration=1e3*r,n};function qx(t){return function(e,n){var r=t((e=dw(e)).h,(n=dw(n)).h),i=nx(e.s,n.s),o=nx(e.l,n.l),a=nx(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var $x=qx(tx),Wx=qx(nx);function Hx(t,e){var n=nx((t=Aw(t)).l,(e=Aw(e)).l),r=nx(t.a,e.a),i=nx(t.b,e.b),o=nx(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Gx(t){return function(e,n){var r=t((e=Nw(e)).h,(n=Nw(n)).h),i=nx(e.c,n.c),o=nx(e.l,n.l),a=nx(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var Xx=Gx(tx),Vx=Gx(nx);function Yx(t){return function e(n){function r(e,r){var i=t((e=Gw(e)).h,(r=Gw(r)).h),o=nx(e.s,r.s),a=nx(e.l,r.l),u=nx(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Jx=Yx(tx),Zx=Yx(nx);function Kx(t,e){var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);while(n<r)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var Qx=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},t_=function(t){return function(){return t}},e_=function(t){return+t},n_=[0,1];function r_(t){return t}function i_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:t_(isNaN(e)?NaN:.5)}function o_(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function a_(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=i_(i,r),o=n(a,o)):(r=i_(r,i),o=n(o,a)),function(t){return o(r(t))}}function u_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<r)i[a]=i_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Vm(t,e,1,r)-1;return o[n](i[n](e))}}function c_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function s_(){var t,e,n,r,i,o,a=n_,u=n_,c=_x,s=r_;function l(){var t=Math.min(a.length,u.length);return s!==r_&&(s=o_(a[0],a[t-1])),r=t>2?u_:a_,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,c)))(t(s(e)))}return f.invert=function(n){return s(e((o||(o=r(u,a.map(t),sx)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,e_),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=Sx,l()},f.clamp=function(t){return arguments.length?(s=!!t||r_,l()):s!==r_},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function l_(){return s_()(r_,r_)}function f_(t){var e=t.domain;return t.ticks=function(t){var n=e();return ob(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Db(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],c=i[a];return c<u&&(r=u,u=c,c=r,r=o,o=a,a=r),r=ab(u,c,n),r>0?(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,r=ab(u,c,n)):r<0&&(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,r=ab(u,c,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(c*r)/r,e(i)),t},t}function h_(){var t=l_();return t.copy=function(){return c_(t,h_())},Ym.apply(t,arguments),f_(t)}function d_(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,e_),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return d_(t).unknown(e)},t=arguments.length?Array.from(t,e_):[0,1],f_(n)}var p_=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function v_(t){return Math.log(t)}function y_(t){return Math.exp(t)}function g_(t){return-Math.log(-t)}function m_(t){return-Math.exp(-t)}function b_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function w_(t){return 10===t?b_:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function x_(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function __(t){return function(e){return-t(-e)}}function O_(t){var e,n,r=t(v_,y_),i=r.domain,o=10;function a(){return e=x_(o),n=w_(o),i()[0]<0?(e=__(e),n=__(n),t(g_,m_)):t(v_,y_),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],c=a[a.length-1];(r=c<u)&&(h=u,u=c,c=h);var s,l,f,h=e(u),d=e(c),p=null==t?10:+t,v=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(l=1,s=n(h);l<o;++l)if(f=s*l,!(f<u)){if(f>c)break;v.push(f)}}else for(;h<=d;++h)for(l=o-1,s=n(h);l>=1;--l)if(f=s*l,!(f<u)){if(f>c)break;v.push(f)}v.length||(v=ob(u,c,p))}else v=ob(h,d,Math.min(d-h,p)).map(n);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=gb(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(p_(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function k_(){var t=O_(s_()).domain([1,10]);return t.copy=function(){return c_(t,k_()).base(t.base())},Ym.apply(t,arguments),t}function S_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function j_(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function A_(t){return t<0?-t*t:t*t}function E_(t){var e=t(r_,r_),n=1;function r(){return 1===n?t(r_,r_):.5===n?t(j_,A_):t(S_(n),S_(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},f_(e)}function C_(){var t=E_(s_());return t.copy=function(){return c_(t,C_()).exponent(t.exponent())},Ym.apply(t,arguments),t}function M_(){return C_.apply(null,arguments).exponent(.5)}function D_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function F_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function T_(t){var e=1,n=t(D_(e),F_(e));return n.constant=function(n){return arguments.length?t(D_(e=+n),F_(e)):e},f_(n)}function N_(){var t=T_(s_());return t.copy=function(){return c_(t,N_()).constant(t.constant())},Ym.apply(t,arguments)}var P_=1e3,R_=60*P_,I_=60*R_,L_=24*I_,z_=7*L_,B_=30*L_,U_=365*L_;function q_(t){return new Date(t)}function $_(t){return t instanceof Date?+t:+new Date(+t)}function W_(t,e,n,r,i,o,a,u,c){var s=l_(),l=s.invert,f=s.domain,h=c(".%L"),d=c(":%S"),p=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),g=c("%b %d"),m=c("%B"),b=c("%Y"),w=[[a,1,P_],[a,5,5*P_],[a,15,15*P_],[a,30,30*P_],[o,1,R_],[o,5,5*R_],[o,15,15*R_],[o,30,30*R_],[i,1,I_],[i,3,3*I_],[i,6,6*I_],[i,12,12*I_],[r,1,L_],[r,2,2*L_],[n,1,z_],[e,1,B_],[e,3,3*B_],[t,1,U_]];function x(u){return(a(u)<u?h:o(u)<u?d:i(u)<u?p:r(u)<u?v:e(u)<u?n(u)<u?y:g:t(u)<u?m:b)(u)}function _(e,n,r){if(null==e&&(e=10),"number"===typeof e){var i,o=Math.abs(r-n)/e,a=Gs((function(t){return t[2]})).right(w,o);return a===w.length?(i=ub(n/U_,r/U_,e),e=t):a?(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a],i=a[1],e=a[0]):(i=Math.max(ub(n,r,e),1),e=u),e.every(i)}return e}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?f(Array.from(t,$_)):f().map(q_)},s.ticks=function(t){var e,n=f(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=_(t,r,i),e=e?e.range(r,i+1):[],o?e.reverse():e},s.tickFormat=function(t,e){return null==e?x:c(e)},s.nice=function(t){var e=f();return(t=_(t,e[0],e[e.length-1]))?f(p_(e,t)):s},s.copy=function(){return c_(s,W_(t,e,n,r,i,o,a,u,c))},s}var H_,G_=function(){return Ym.apply(W_(Lr,Rr,Er,jr,kr,_r,wr,dr,ci).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},X_=function(){return Ym.apply(W_(ni,ti,Gr,Wr,qr,Br,wr,dr,li).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function V_(t,e){return Z_(t)||J_(t,e)||Y_()}function Y_(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function J_(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function Z_(t){if(Array.isArray(t))return t}function K_(){var t,e,n,r,i,o=0,a=1,u=r_,c=!1;function s(e){return isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}return s.domain=function(i){var u,c;return arguments.length?(u=i,c=V_(u,2),o=c[0],a=c[1],t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),s):[o,a]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(u=t,s):u},s.range=function(){return[u(0),u(1)]},s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),s}}function Q_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tO(){var t=f_(K_()(r_));return t.copy=function(){return Q_(t,tO())},Jm.apply(t,arguments)}function eO(){var t=O_(K_()).domain([1,10]);return t.copy=function(){return Q_(t,eO()).base(t.base())},Jm.apply(t,arguments)}function nO(){var t=T_(K_());return t.copy=function(){return Q_(t,nO()).constant(t.constant())},Jm.apply(t,arguments)}function rO(){var t=E_(K_());return t.copy=function(){return Q_(t,rO()).exponent(t.exponent())},Jm.apply(t,arguments)}function iO(){return rO.apply(null,arguments).exponent(.5)}function oO(t,e){return cO(t)||uO(t,e)||aO()}function aO(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function uO(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function cO(t){if(Array.isArray(t))return t}function sO(){var t,e,n,r,i,o,a,u=0,c=.5,s=1,l=1,f=r_,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){var f,h;return arguments.length?(f=a,h=oO(f,3),u=h[0],c=h[1],s=h[2],t=o(u=+u),e=o(c=+c),n=o(s=+s),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[u,c,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=function(){return[f(0),f(.5),f(1)]},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),e=a(c),n=a(s),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function lO(){var t=f_(sO()(r_));return t.copy=function(){return Q_(t,lO())},Jm.apply(t,arguments)}function fO(){var t=O_(sO()).domain([.1,1,10]);return t.copy=function(){return Q_(t,fO()).base(t.base())},Jm.apply(t,arguments)}function hO(){var t=T_(sO());return t.copy=function(){return Q_(t,hO()).constant(t.constant())},Jm.apply(t,arguments)}function dO(){var t=E_(sO());return t.copy=function(){return Q_(t,dO()).exponent(t.exponent())},Jm.apply(t,arguments)}function pO(){return dO.apply(null,arguments).exponent(.5)}function vO(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);r=new Array(i-1);while(++t<i)r[t-1]=nu(e,t/i);return o}function o(e){return isNaN(e=+e)?t:n[Vm(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];var n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;null==c||isNaN(c=+c)||e.push(c)}}catch(s){r=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return e.sort(Ka),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return vO().domain(e).range(n).unknown(t)},Ym.apply(o,arguments)}function yO(t,e){return bO(t)||mO(t,e)||gO()}function gO(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function mO(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function bO(t){if(Array.isArray(t))return t}function wO(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[Vm(i,e,0,r)]:t}function u(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){var r,i;return arguments.length?(r=t,i=yO(r,2),e=i[0],n=i[1],e=+e,n=+n,u()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return wO().domain([e,n]).range(o).unknown(t)},Ym.apply(f_(a),arguments)}function xO(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[Vm(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return xO().domain(e).range(n).unknown(t)},Ym.apply(i,arguments)}function _O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OO(t,e){return function(){var n=e();return n.invertRange||(n.invertRange=n.invert?$m(n):n.invertExtent?Wm(n):void 0),n.type=t,n}}function kO(t,e){return arguments.length>1?(SO[t]=OO(t,e),this):Object(xe["v"])(SO,t)?SO[t]:void 0}var SO=(H_={},_O(H_,pm,d_),_O(H_,vm,h_),_O(H_,ym,k_),_O(H_,gm,C_),_O(H_,mm,M_),_O(H_,bm,N_),_O(H_,wm,G_),_O(H_,xm,X_),_O(H_,_m,tO),_O(H_,_m+"-"+vm,tO),_O(H_,_m+"-"+ym,eO),_O(H_,_m+"-"+gm,rO),_O(H_,_m+"-"+mm,iO),_O(H_,_m+"-"+bm,nO),_O(H_,Om+"-"+vm,lO),_O(H_,Om+"-"+ym,fO),_O(H_,Om+"-"+gm,dO),_O(H_,Om+"-"+mm,pO),_O(H_,Om+"-"+bm,hO),_O(H_,km,vO),_O(H_,Sm,wO),_O(H_,jm,xO),_O(H_,Mm,Pb),_O(H_,Am,Km),_O(H_,Cm,Qm),_O(H_,Em,eb),H_);for(var jO in SO)kO(jO,SO[jO]);var AO=["clamp","base","constant","exponent"];function EO(t,e){var n=e[0],r=Object(xe["S"])(e)-n;return function(e){return t(n+e*r)}}function CO(t,e,n){return Kx(FO(e||"rgb",n),t)}function MO(t,e){for(var n=new Array(e),r=e+1,i=0;i<e;)n[i]=t(++i/r);return n}function DO(t,e,n){var r,i,o,a=n-e;return a&&isFinite(a)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=kO(i)().domain([e,n]).range([0,1]),AO.forEach((function(e){return t[e]?o[e](t[e]()):0})),o):Object(xe["l"])(.5)}function FO(t,e){var n=o[TO(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function TO(t){return"interpolate"+t.toLowerCase().split("-").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("")}var NO={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},PO={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function RO(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n}function IO(t,e){for(var n in t)zO(n,e(t[n]))}var LO={};function zO(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(LO[t]=e,this):LO[t]}function BO(t,e,n){var r;return Object(xe["E"])(e)&&null!=n&&(e=Math.min(e,~~(Object(xe["V"])(t.domain())/n)||1)),Object(xe["F"])(e)&&(r=e.step,e=e.interval),Object(xe["H"])(e)&&(e=qm(e,t.type)||Object(xe["n"])("Only time and utc scales accept interval strings."),r&&(e=e.every(r))),e}function UO(t,e,n){var r=t.range(),i=Math.floor(r[0]),o=Math.ceil(Object(xe["S"])(r));if(i>o&&(r=o,o=i,i=r),e=e.filter((function(e){return e=t(e),i<=e&&e<=o})),n>0&&e.length>1){var a=[e[0],Object(xe["S"])(e)];while(e.length>n&&e.length>=3)e=e.filter((function(t,e){return!(e%2)}));e.length<3&&(e=a)}return e}function qO(t,e){return t.bins?UO(t,t.bins):t.ticks?t.ticks(e):t.domain()}function $O(t,e,n,r){var i=t.tickFormat?t.tickFormat(e,n):n&&r===wm?ci(n):n?gb(n):String;if(Rm(t.type)){var o=HO(n);i=t.bins?o:WO(i,o)}return i}function WO(t,e){return function(n){return t(n)?e(n):""}}function HO(t){var e=db(t||",");if(null==e.precision){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1;break}return GO(gb(e),gb(".1f")(1)[1])}return gb(e)}function GO(t,e){return function(n){var r,i,o=t(n),a=o.indexOf(e);if(a<0)return o;r=XO(o,a),i=r<o.length?o.slice(r):"";while(--r>a)if("0"!==o[r]){++r;break}return o.slice(0,r)+i}}function XO(t,e){var n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}function VO(t){Fa.call(this,null,t)}IO(PO,RO),IO(NO,(function(t){return CO(RO(t))}));var YO=Object(xe["y"])(VO,Fa);function JO(t){Fa.call(this,null,t)}YO.transform=function(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=this.value,i=t.scale,o=null==t.count?t.values?t.values.length:10:t.count,a=BO(i,o,t.minstep),u=t.format||$O(i,a,t.formatSpecifier,t.formatType),c=t.values?UO(i,t.values,a):qO(i,a);return r&&(n.rem=r),r=c.map((function(t,e){return Fe({index:e/(c.length-1||1),value:t,label:u(t)})})),t.extra&&r.length&&r.push(Fe({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n};var ZO=Object(xe["y"])(JO,Fa);function KO(){return Fe({})}function QO(t){return t.exit}function tk(t){Fa.call(this,null,t)}ZO.transform=function(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||KO,o=t.key||Me,a=this.value;return Object(xe["A"])(r.encode)&&(r.encode=null),a&&(t.modified("key")||e.modified(o))&&Object(xe["n"])("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=Object(xe["s"])().test(QO),a.lookup=function(t){return a.get(o(t))}),e.visit(e.ADD,(function(t){var e=o(t),n=a.get(e);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(a.set(e,n=i(t)),r.add.push(n)),n.datum=t,n.exit=!1})),e.visit(e.MOD,(function(t){var e=o(t),n=a.get(e);n&&(n.datum=t,r.mod.push(n))})),e.visit(e.REM,(function(t){var e=o(t),n=a.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),e.changed(e.ADD_MOD)&&r.modifies("datum"),t.clean&&a.empty>n.cleanThreshold&&n.runAfter(a.clean),r};var ek=Object(xe["y"])(tk,Fa);ek.transform=function(t,e){var n=e.fork(e.ADD_REM),r=t.mod||!1,i=t.encoders,o=e.encode;if(Object(xe["A"])(o)){if(!n.changed()&&!o.every((function(t){return i[t]})))return e.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,u=i.update||xe["r"],c=i.enter||xe["r"],s=i.exit||xe["r"],l=(o&&!a?i[o]:u)||xe["r"];if(e.changed(e.ADD)&&(e.visit(e.ADD,(function(e){c(e,t),u(e,t)})),n.modifies(c.output),n.modifies(u.output),l!==xe["r"]&&l!==u&&(e.visit(e.ADD,(function(e){l(e,t)})),n.modifies(l.output))),e.changed(e.REM)&&s!==xe["r"]&&(e.visit(e.REM,(function(e){s(e,t)})),n.modifies(s.output)),a||l!==xe["r"]){var f=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(f,(function(e){var i=c(e,t)||r;(l(e,t)||i)&&n.mod.push(e)})),n.mod.length&&n.modifies(c.output)):e.visit(f,(function(e){(l(e,t)||r)&&n.mod.push(e)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:e.StopPropagation};var nk,rk,ik="symbol",ok="discrete",ak="gradient";function uk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ck=(nk={},uk(nk,km,"quantiles"),uk(nk,Sm,"thresholds"),uk(nk,jm,"domain"),nk),sk=(rk={},uk(rk,km,"quantiles"),uk(rk,Sm,"domain"),rk);function lk(t,e){return t.bins?dk(t.bins):ck[t.type]?hk(t[ck[t.type]]()):qO(t,e)}function fk(t,e){var n,r=t[sk[t.type]](),i=r.length,o=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)o=Math.min(o,r[n]-r[n-1]);return Db(0,o,30,e)}function hk(t){var e=[-1/0].concat(t);return e.max=1/0,e}function dk(t){var e=t.slice(0,-1);return e.max=Object(xe["S"])(t),e}function pk(t){return ck[t.type]||t.bins}function vk(t,e,n,r,i){var o=sk[t.type]&&i!==wm?fk(t,r):$O(t,e,r,i);return n===ik&&pk(t)?yk(o):n===ok?gk(o):mk(o)}function yk(t){return function(e,n,r){var i=r[n+1]||r.max||1/0,o=bk(e,t),a=bk(i,t);return o&&a?o+"–"+a:a?"< "+a:"≥ "+o}}function gk(t){return function(e,n){return n?t(e):null}}function mk(t){return function(e){return t(e)}}function bk(t,e){return isFinite(t)?e(t):null}function wk(t){var e=t.domain(),n=e.length-1,r=+e[0],i=+Object(xe["S"])(e),o=i-r;if(t.type===jm){var a=n?o/n:.1;r-=a,i+=a,o=i-r}return function(t){return(t-r)/o}}function xk(t){Fa.call(this,[],t)}var _k=Object(xe["y"])(xk,Fa);_k.transform=function(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a=e.fork(e.NO_SOURCE|e.NO_FIELDS),u=this.value,c=t.type||ik,s=t.scale,l=BO(s,null==t.count?5:t.count,t.minstep),f=t.format||vk(s,l,c,t.formatSpecifier,t.formatType),h=t.values||lk(s,l,c);return u&&(a.rem=u),c===ik?(Object(xe["D"])(i=t.size)?(t.values||0!==s(h[0])||(h=h.slice(1)),o=h.reduce((function(e,n){return Math.max(e,i(n,t))}),0)):i=Object(xe["l"])(o=i||8),u=h.map((function(e,n){return Fe({index:n,label:f(e,n,h),value:e,offset:o,size:i(e,t)})}))):c===ak?(n=s.domain(),r=DO(s,n[0],Object(xe["S"])(n)),h.length<3&&!t.values&&n[0]!==Object(xe["S"])(n)&&(h=[n[0],Object(xe["S"])(n)]),u=h.map((function(t,e){return Fe({index:e,label:f(t,e,h),value:t,perc:r(t)})}))):(i=h.length-1,r=wk(s),u=h.map((function(t,e){return Fe({index:e,label:f(t,e,h),value:t,perc:e?r(t):0,perc2:e===i?1:r(h[e+1])})}))),a.source=u,a.add=u,this.value=u,a};var Ok=Object(xe["s"])({line:Mk,"line-radial":Dk,arc:Fk,"arc-radial":Tk,curve:Nk,"curve-radial":Pk,"orthogonal-horizontal":Rk,"orthogonal-vertical":Ik,"orthogonal-radial":Lk,"diagonal-horizontal":zk,"diagonal-vertical":Bk,"diagonal-radial":Uk});function kk(t){return t.source.x}function Sk(t){return t.source.y}function jk(t){return t.target.x}function Ak(t){return t.target.y}function Ek(t){Fa.call(this,{},t)}Ek.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};var Ck=Object(xe["y"])(Ek,Fa);function Mk(t,e,n,r){return"M"+t+","+e+"L"+n+","+r}function Dk(t,e,n,r){return Mk(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))}function Fk(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o)/2,u=180*Math.atan2(o,i)/Math.PI;return"M"+t+","+e+"A"+a+","+a+" "+u+" 0 1 "+n+","+r}function Tk(t,e,n,r){return Fk(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))}function Nk(t,e,n,r){var i=n-t,o=r-e,a=.2*(i+o),u=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+u)+" "+(n+u)+","+(r-a)+" "+n+","+r}function Pk(t,e,n,r){return Nk(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))}function Rk(t,e,n,r){return"M"+t+","+e+"V"+r+"H"+n}function Ik(t,e,n,r){return"M"+t+","+e+"H"+n+"V"+r}function Lk(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n),c=Math.abs(n-t)>Math.PI?n<=t:n>t;return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+(c?1:0)+" "+e*a+","+e*u+"L"+r*a+","+r*u}function zk(t,e,n,r){var i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r}function Bk(t,e,n,r){var i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r}function Uk(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n),c=(e+r)/2;return"M"+e*i+","+e*o+"C"+c*i+","+c*o+" "+c*a+","+c*u+" "+r*a+","+r*u}function qk(t,e){var n=0;if(void 0===e){var r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;(c=+c)&&(n+=c)}}catch(y){i=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}else{var s=-1,l=!0,f=!1,h=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;(v=+e(v,++s,t))&&(n+=v)}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}return n}function $k(t){Fa.call(this,null,t)}Ck.transform=function(t,e){var n=t.sourceX||kk,r=t.sourceY||Sk,i=t.targetX||jk,o=t.targetY||Ak,a=t.as||"path",u=t.orient||"vertical",c=t.shape||"line",s=Ok.get(c+"-"+u)||Ok.get(c);return s||Object(xe["n"])("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,(function(t){t[a]=s(n(t),r(t),i(t),o(t))})),e.reflow(t.modified()).modifies(a)},$k.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};var Wk=Object(xe["y"])($k,Fa);Wk.transform=function(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],u=o[1],c=t.field||xe["M"],s=t.startAngle||0,l=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,h=f.map(c),d=h.length,p=s,v=(l-s)/qk(h),y=Ms(d);for(t.sort&&y.sort((function(t,e){return h[t]-h[e]})),n=0;n<d;++n)i=h[y[n]],r=f[y[n]],r[a]=p,r[u]=p+=i*v;return this.value=h,e.reflow(t.modified()).modifies(o)};var Hk=5;function Gk(t){var e=t.type;return!t.bins&&(e===vm||e===gm||e===mm)}function Xk(t){return Im(t)&&t!==_m}var Vk=Object(xe["bb"])(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Yk(t){Fa.call(this,null,t),this.modified(!0)}var Jk=Object(xe["y"])(Yk,Fa);function Zk(t){var e,n=t.type,r="";return n===_m?_m+"-"+vm:(Kk(t)&&(e=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,r=2===e?_m+"-":3===e?Om+"-":""),(r+n||vm).toLowerCase())}function Kk(t){var e=t.type;return Im(e)&&e!==wm&&e!==xm&&(t.scheme||t.range&&t.range.length&&t.range.every(xe["H"]))}function Qk(t,e,n){var r=tS(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,u=t.type,c=e.zero||void 0===e.zero&&Gk(t);return a?(Xk(u)&&e.padding&&a[0]!==Object(xe["S"])(a)&&(a=eS(u,a,e.range,e.padding,e.exponent,e.constant)),(c||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,c&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid&&(o=e.domainMid,(o<a[0]||o>a[i])&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(i,0,o))),t.domain(nS(u,a,n)),u===Am&&t.unknown(e.domainImplicit?Zm:void 0),e.nice&&t.nice&&t.nice(!0!==e.nice&&BO(t,e.nice)||null),a.length):0}function tS(t,e,n){return e?(t.domain(nS(t.type,e,n)),e.length):-1}function eS(t,e,n,r,i,o){var a=Math.abs(Object(xe["S"])(n)-n[0]),u=a/(a-2*r),c=t===ym?Object(xe["jb"])(e,null,u):t===mm?Object(xe["kb"])(e,null,u,.5):t===gm?Object(xe["kb"])(e,null,u,i||1):t===bm?Object(xe["lb"])(e,null,u,o||1):Object(xe["ib"])(e,null,u);return e=e.slice(),e[0]=c[0],e[e.length-1]=c[1],e}function nS(t,e,n){if(Rm(t)){var r=Math.abs(e.reduce((function(t,e){return t+(e<0?-1:e>0?1:0)}),0));r!==e.length&&n.warn("Log scale domain includes zero: "+Object(xe["X"])(e))}return e}function rS(t,e,n){var r=e.bins;if(r&&!Object(xe["A"])(r)){var i=t.domain(),o=i[0],a=Object(xe["S"])(i),u=null==r.start?o:r.start,c=null==r.stop?a:r.stop,s=r.step;s||Object(xe["n"])("Scale bins parameter missing step property."),u<o&&(u=s*Math.ceil(o/s)),c>a&&(c=s*Math.floor(a/s)),r=Ms(u,c+s/2,s)}return r?t.bins=r:t.bins&&delete t.bins,t.type===Mm&&(r?e.domain||e.domainRaw||(t.domain(r),n=r.length):t.bins=t.domain()),n}function iS(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(null!=e.rangeStep)o=oS(r,e,n);else if(e.scheme&&(o=aS(r,e,n),Object(xe["D"])(o))){if(t.interpolator)return t.interpolator(o);Object(xe["n"])("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Pm(r))return t.interpolator(CO(cS(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(FO(e.interpolate,e.interpolateGamma)):Object(xe["D"])(t.round)?t.round(i):Object(xe["D"])(t.rangeRound)&&t.interpolate(i?Sx:_x),o&&t.range(cS(o,e.reverse))}function oS(t,e,n){t!==Cm&&t!==Em&&Object(xe["n"])("Only band and point scales support rangeStep.");var r=(null!=e.paddingOuter?e.paddingOuter:e.padding)||0,i=t===Em?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0;return[0,e.rangeStep*dm(n,i,r)]}function aS(t,e,n){var r,i,o=e.schemeExtent;return Object(xe["A"])(e.scheme)?i=CO(e.scheme,e.interpolate,e.interpolateGamma):(r=e.scheme.toLowerCase(),i=zO(r),i||Object(xe["n"])("Unrecognized scheme name: ".concat(e.scheme))),n=t===jm?n+1:t===Mm?n-1:t===km||t===Sm?+e.schemeCount||Hk:n,Pm(t)?uS(i,o,e.reverse):Object(xe["D"])(i)?MO(uS(i,o),n):t===Am?i:i.slice(0,n)}function uS(t,e,n){return Object(xe["D"])(t)&&(e||n)?EO(t,cS(e||[0,1],n)):t}function cS(t,e){return e?t.slice().reverse():t}function sS(t){Fa.call(this,null,t)}Jk.transform=function(t,e){var n=e.dataflow,r=this.value,i=Zk(t);for(i in r&&i===r.type||(this.value=r=kO(i)()),t)if(!Vk[i]){if("padding"===i&&Xk(r.type))continue;Object(xe["D"])(r[i])?r[i](t[i]):n.warn("Unsupported scale property: "+i)}return iS(r,t,rS(r,t,Qk(r,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)};var lS=Object(xe["y"])(sS,Fa);lS.transform=function(t,e){var n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(Re(t.sort)),this.modified(n),e};var fS="zero",hS="center",dS="normalize",pS=["y0","y1"];function vS(t){Fa.call(this,null,t)}vS.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:fS,values:[fS,hS,dS]},{name:"as",type:"string",array:!0,length:2,default:pS}]};var yS=Object(xe["y"])(vS,Fa);function gS(t,e,n,r,i){for(var o,a=(e-t.sum)/2,u=t.length,c=0;c<u;++c)o=t[c],o[r]=a,o[i]=a+=Math.abs(n(o))}function mS(t,e,n,r,i){for(var o,a=1/t.sum,u=0,c=t.length,s=0,l=0;s<c;++s)o=t[s],o[r]=u,o[i]=u=a*(l+=Math.abs(n(o)))}function bS(t,e,n,r,i){for(var o,a,u=0,c=0,s=t.length,l=0;l<s;++l)a=t[l],o=+n(a),o<0?(a[r]=c,a[i]=c+=o):(a[r]=u,a[i]=u+=o)}function wS(t,e,n,r){var i,o,a,u,c,s,l,f,h,d=[],p=function(t){return t(c)};if(null==e)d.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)c=t[o],s=e.map(p),l=i[s],l||(i[s]=l=[],d.push(l)),l.push(c);for(s=0,h=0,u=d.length;s<u;++s){for(l=d[s],o=0,f=0,a=l.length;o<a;++o)f+=Math.abs(r(l[o]));l.sum=f,f>h&&(h=f),n&&l.sort(n)}return d.max=h,d}yS.transform=function(t,e){var n,r,i,o,a=t.as||pS,u=a[0],c=a[1],s=Re(t.sort),l=t.field||xe["M"],f=t.offset===hS?gS:t.offset===dS?mS:bS;for(n=wS(e.source,t.groupby,s,l),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,l,u,c);return e.reflow(t.modified()).modifies(a)};var xS=function(t,e){var n,r;if(void 0===e){var i=!0,o=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;null!=s&&(void 0===n?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}}catch(g){o=!0,a=g}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}else{var l=-1,f=!0,h=!1,d=void 0;try{for(var p,v=t[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value;null!=(y=e(y,++l,t))&&(void 0===n?y>=y&&(n=r=y):(n>y&&(n=y),r<y&&(r=y)))}}catch(g){h=!0,d=g}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}return[n,r]},_S=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},OS=function(t){return 1===t.length&&(t=kS(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};function kS(t){return function(e,n){return _S(t(e),n)}}var SS=OS(_S);SS.right,SS.left;var jS=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){while(++a<o)if(null!=(n=t[a])&&n>=n){r=i=n;while(++a<o)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}}else while(++a<o)if(null!=(n=e(t[a],a,t))&&n>=n){r=i=n;while(++a<o)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},AS=Array.prototype,ES=(AS.slice,AS.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}),CS=Math.sqrt(50),MS=Math.sqrt(10),DS=Math.sqrt(2);function FS(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=CS?i*=10:o>=MS?i*=5:o>=DS&&(i*=2),e<t?-i:i}var TS=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},NS=function(t,e){var n,r,i=t.length,o=-1;if(null==e){while(++o<i)if(null!=(n=t[o])&&n>=n){r=n;while(++o<i)null!=(n=t[o])&&n>r&&(r=n)}}else while(++o<i)if(null!=(n=e(t[o],o,t))&&n>=n){r=n;while(++o<i)null!=(n=e(t[o],o,t))&&n>r&&(r=n)}return r};var PS=Array.prototype,RS=PS.slice,IS=function(t,e){return t-e},LS=function(t){var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];while(++e<n)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},zS=function(t){return function(){return t}},BS=function(t,e){var n,r=-1,i=e.length;while(++r<i)if(n=US(t,e[r]))return n;return 0};function US(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var c=t[o],s=c[0],l=c[1],f=t[u],h=f[0],d=f[1];if(qS(c,f,e))return 0;l>r!==d>r&&n<(h-s)*(r-l)/(d-l)+s&&(i=-i)}return i}function qS(t,e,n){var r;return $S(t,e,n)&&WS(t[r=+(t[0]===e[0])],n[r],e[r])}function $S(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function WS(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}var HS=function(){},GS=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],XS=function(){var t=1,e=1,n=TS,r=c;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(IS);else{var r=jS(t),i=r[0],a=r[1];e=FS(i,a,e),e=ES(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(t,e){var n=[],i=[];return a(t,e,(function(o){r(o,t,e),LS(o)>0?n.push([o]):i.push(o)})),i.forEach((function(t){for(var e,r=0,i=n.length;r<i;++r)if(-1!==BS((e=n[r])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:e,coordinates:n}}function a(n,r,i){var o,a,c,s,l,f,h=new Array,d=new Array;o=a=-1,s=n[0]>=r,GS[s<<1].forEach(p);while(++o<t-1)c=s,s=n[o+1]>=r,GS[c|s<<1].forEach(p);GS[s<<0].forEach(p);while(++a<e-1){o=-1,s=n[a*t+t]>=r,l=n[a*t]>=r,GS[s<<1|l<<2].forEach(p);while(++o<t-1)c=s,s=n[a*t+t+o+1]>=r,f=l,l=n[a*t+o+1]>=r,GS[c|s<<1|l<<2|f<<3].forEach(p);GS[s|l<<3].forEach(p)}o=-1,l=n[a*t]>=r,GS[l<<2].forEach(p);while(++o<t-1)f=l,l=n[a*t+o+1]>=r,GS[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+a],c=[t[1][0]+o,t[1][1]+a],s=u(r),l=u(c);(e=d[s])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(c),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(c),d[e.end=l]=e):(e=h[l])?(n=d[s])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(c),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=s]=e):h[s]=d[l]={start:s,end:l,ring:[r,c]}}GS[l<<3].forEach(p)}function u(e){return 2*e[0]+e[1]*(t+1)*4}function c(n,r,i){n.forEach((function(n){var o,a=n[0],u=n[1],c=0|a,s=0|u,l=r[s*t+c];a>0&&a<t&&c===a&&(o=r[s*t+c-1],n[0]=a+(i-o)/(l-o)-.5),u>0&&u<e&&s===u&&(o=r[(s-1)*t+c],n[1]=u+(i-o)/(l-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0)||!(o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?zS(RS.call(t)):zS(t),i):n},i.smooth=function(t){return arguments.length?(r=t?c:HS,i):r===c},i};function VS(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var u=0,c=0;u<r+n;++u)u<r&&(c+=t.data[u+a*r]),u>=n&&(u>=o&&(c-=t.data[u-o+a*r]),e.data[u-n+a*r]=c/Math.min(u+1,r-1+o-u,o))}function YS(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var u=0,c=0;u<i+n;++u)u<i&&(c+=t.data[a+u*r]),u>=n&&(u>=o&&(c-=t.data[a+(u-o)*r]),e.data[a+(u-n)*r]=c/Math.min(u+1,i-1+o-u,o))}function JS(t){return t[0]}function ZS(t){return t[1]}function KS(){return 1}var QS=function(){var t=JS,e=ZS,n=KS,r=960,i=500,o=20,a=2,u=3*o,c=r+2*u>>a,s=i+2*u>>a,l=zS(20);function f(r){var i=new Float32Array(c*s),f=new Float32Array(c*s);r.forEach((function(r,o,l){var f=+t(r,o,l)+u>>a,h=+e(r,o,l)+u>>a,d=+n(r,o,l);f>=0&&f<c&&h>=0&&h<s&&(i[f+h*c]+=d)})),VS({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),YS({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a),VS({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),YS({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a),VS({width:c,height:s,data:i},{width:c,height:s,data:f},o>>a),YS({width:c,height:s,data:f},{width:c,height:s,data:i},o>>a);var d=l(i);if(!Array.isArray(d)){var p=NS(i);d=FS(0,p,d),d=ES(0,Math.floor(p/d)*d,d),d.shift()}return XS().thresholds(d).size([c,s])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function y(){return u=3*o,c=r+2*u>>a,s=i+2*u>>a,f}return f.x=function(e){return arguments.length?(t="function"===typeof e?e:zS(+e),f):t},f.y=function(t){return arguments.length?(e="function"===typeof t?t:zS(+t),f):e},f.weight=function(t){return arguments.length?(n="function"===typeof t?t:zS(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0)&&!(e>=0))throw new Error("invalid size");return r=e,i=n,y()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},f.thresholds=function(t){return arguments.length?(l="function"===typeof t?t:Array.isArray(t)?zS(RS.call(t)):zS(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},f},tj=["size","smooth"],ej=["x","y","weight","size","cellSize","bandwidth"];function nj(t){Fa.call(this,null,t)}nj.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]};var rj=Object(xe["y"])(nj,Fa);function ij(t){return function(e){for(var n=xS(e),r=n[0],i=n[1]-r,o=[],a=1;a<=t;++a)o.push(r+i*a/(t+1));return o}}rj.transform=function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i,o=e.fork(e.NO_SOURCE|e.NO_FIELDS),a=t.count||10;return t.values?(n=XS(),r=tj,i=t.values):(n=QS(),r=ej,i=e.materialize(e.SOURCE).source),n.thresholds(t.thresholds||(t.nice?a:ij(a))),r.forEach((function(e){null!=t[e]&&n[e](t[e])})),this.value&&(o.rem=this.value),i=i&&i.length?n(i).map(Fe):[],this.value=o.source=o.add=i,o};var oj="Feature",aj="FeatureCollection",uj="MultiPoint";function cj(t){Fa.call(this,null,t)}cj.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};var sj=Object(xe["y"])(cj,Fa);sj.transform=function(t,e){var n,r=this._features,i=this._points,o=t.fields,a=o&&o[0],u=o&&o[1],c=t.geojson,s=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(Object(xe["g"])(c))||a&&e.modified(Object(xe["g"])(a))||u&&e.modified(Object(xe["g"])(u)),this.value&&!n||(s=e.SOURCE,this._features=r=[],this._points=i=[]),c&&e.visit(s,(function(t){r.push(c(t))})),a&&u&&(e.visit(s,(function(t){var e=a(t),n=u(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&i.push([e,n])})),r=r.concat({type:oj,geometry:{type:uj,coordinates:i}})),this.value={type:aj,features:r}};var lj=function(){return new fj};function fj(){this.reset()}fj.prototype={constructor:fj,reset:function(){this.s=this.t=0},add:function(t){dj(hj,t,this.t),dj(this,hj.s,this.s),this.s?this.t+=hj.t:this.s=hj.t},valueOf:function(){return this.s}};var hj=new fj;function dj(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var pj=1e-6,vj=1e-12,yj=Math.PI,gj=yj/2,mj=yj/4,bj=2*yj,wj=180/yj,xj=yj/180,_j=Math.abs,Oj=Math.atan,kj=Math.atan2,Sj=Math.cos,jj=Math.ceil,Aj=Math.exp,Ej=(Math.floor,Math.log),Cj=Math.pow,Mj=Math.sin,Dj=Math.sign||function(t){return t>0?1:t<0?-1:0},Fj=Math.sqrt,Tj=Math.tan;function Nj(t){return t>1?0:t<-1?yj:Math.acos(t)}function Pj(t){return t>1?gj:t<-1?-gj:Math.asin(t)}function Rj(){}function Ij(t,e){t&&zj.hasOwnProperty(t.type)&&zj[t.type](t,e)}var Lj={Feature:function(t,e){Ij(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)Ij(n[r].geometry,e)}},zj={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Bj(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Bj(n[r],e,0)},Polygon:function(t,e){Uj(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Uj(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)Ij(n[r],e)}};function Bj(t,e,n){var r,i=-1,o=t.length-n;e.lineStart();while(++i<o)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Uj(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)Bj(t[n],e,1);e.polygonEnd()}var qj,$j,Wj,Hj,Gj,Xj=function(t,e){t&&Lj.hasOwnProperty(t.type)?Lj[t.type](t,e):Ij(t,e)},Vj=lj(),Yj=lj(),Jj={point:Rj,lineStart:Rj,lineEnd:Rj,polygonStart:function(){Vj.reset(),Jj.lineStart=Zj,Jj.lineEnd=Kj},polygonEnd:function(){var t=+Vj;Yj.add(t<0?bj+t:t),this.lineStart=this.lineEnd=this.point=Rj},sphere:function(){Yj.add(bj)}};function Zj(){Jj.point=Qj}function Kj(){tA(qj,$j)}function Qj(t,e){Jj.point=tA,qj=t,$j=e,t*=xj,e*=xj,Wj=t,Hj=Sj(e=e/2+mj),Gj=Mj(e)}function tA(t,e){t*=xj,e*=xj,e=e/2+mj;var n=t-Wj,r=n>=0?1:-1,i=r*n,o=Sj(e),a=Mj(e),u=Gj*a,c=Hj*o+u*Sj(i),s=u*r*Mj(i);Vj.add(kj(s,c)),Wj=t,Hj=o,Gj=a}var eA=function(t){return Yj.reset(),Xj(t,Jj),2*Yj};function nA(t){return[kj(t[1],t[0]),Pj(t[2])]}function rA(t){var e=t[0],n=t[1],r=Sj(n);return[r*Sj(e),r*Mj(e),Mj(n)]}function iA(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function oA(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function aA(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function uA(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cA(t){var e=Fj(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var sA,lA,fA,hA,dA,pA,vA,yA,gA,mA,bA=lj(),wA={point:xA,lineStart:OA,lineEnd:kA,polygonStart:function(){wA.point=SA,wA.lineStart=jA,wA.lineEnd=AA,bA.reset(),Jj.polygonStart()},polygonEnd:function(){Jj.polygonEnd(),wA.point=xA,wA.lineStart=OA,wA.lineEnd=kA,Vj<0?(sA=-(fA=180),lA=-(hA=90)):bA>pj?hA=90:bA<-pj&&(lA=-90),mA[0]=sA,mA[1]=fA},sphere:function(){sA=-(fA=180),lA=-(hA=90)}};function xA(t,e){gA.push(mA=[sA=t,fA=t]),e<lA&&(lA=e),e>hA&&(hA=e)}function _A(t,e){var n=rA([t*xj,e*xj]);if(yA){var r=oA(yA,n),i=[r[1],-r[0],0],o=oA(i,r);cA(o),o=nA(o);var a,u=t-dA,c=u>0?1:-1,s=o[0]*wj*c,l=_j(u)>180;l^(c*dA<s&&s<c*t)?(a=o[1]*wj,a>hA&&(hA=a)):(s=(s+360)%360-180,l^(c*dA<s&&s<c*t)?(a=-o[1]*wj,a<lA&&(lA=a)):(e<lA&&(lA=e),e>hA&&(hA=e))),l?t<dA?EA(sA,t)>EA(sA,fA)&&(fA=t):EA(t,fA)>EA(sA,fA)&&(sA=t):fA>=sA?(t<sA&&(sA=t),t>fA&&(fA=t)):t>dA?EA(sA,t)>EA(sA,fA)&&(fA=t):EA(t,fA)>EA(sA,fA)&&(sA=t)}else gA.push(mA=[sA=t,fA=t]);e<lA&&(lA=e),e>hA&&(hA=e),yA=n,dA=t}function OA(){wA.point=_A}function kA(){mA[0]=sA,mA[1]=fA,wA.point=xA,yA=null}function SA(t,e){if(yA){var n=t-dA;bA.add(_j(n)>180?n+(n>0?360:-360):n)}else pA=t,vA=e;Jj.point(t,e),_A(t,e)}function jA(){Jj.lineStart()}function AA(){SA(pA,vA),Jj.lineEnd(),_j(bA)>pj&&(sA=-(fA=180)),mA[0]=sA,mA[1]=fA,yA=null}function EA(t,e){return(e-=t)<0?e+360:e}function CA(t,e){return t[0]-e[0]}function MA(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var DA,FA,TA,NA,PA,RA,IA,LA,zA,BA,UA,qA,$A,WA,HA,GA,XA=function(t){var e,n,r,i,o,a,u;if(hA=fA=-(sA=lA=1/0),gA=[],Xj(t,wA),n=gA.length){for(gA.sort(CA),e=1,r=gA[0],o=[r];e<n;++e)i=gA[e],MA(r,i[0])||MA(r,i[1])?(EA(r[0],i[1])>EA(r[0],r[1])&&(r[1]=i[1]),EA(i[0],r[1])>EA(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(u=EA(r[1],i[0]))>a&&(a=u,sA=i[0],fA=r[1])}return gA=mA=null,sA===1/0||lA===1/0?[[NaN,NaN],[NaN,NaN]]:[[sA,lA],[fA,hA]]},VA={sphere:Rj,point:YA,lineStart:ZA,lineEnd:tE,polygonStart:function(){VA.lineStart=eE,VA.lineEnd=nE},polygonEnd:function(){VA.lineStart=ZA,VA.lineEnd=tE}};function YA(t,e){t*=xj,e*=xj;var n=Sj(e);JA(n*Sj(t),n*Mj(t),Mj(e))}function JA(t,e,n){++DA,TA+=(t-TA)/DA,NA+=(e-NA)/DA,PA+=(n-PA)/DA}function ZA(){VA.point=KA}function KA(t,e){t*=xj,e*=xj;var n=Sj(e);WA=n*Sj(t),HA=n*Mj(t),GA=Mj(e),VA.point=QA,JA(WA,HA,GA)}function QA(t,e){t*=xj,e*=xj;var n=Sj(e),r=n*Sj(t),i=n*Mj(t),o=Mj(e),a=kj(Fj((a=HA*o-GA*i)*a+(a=GA*r-WA*o)*a+(a=WA*i-HA*r)*a),WA*r+HA*i+GA*o);FA+=a,RA+=a*(WA+(WA=r)),IA+=a*(HA+(HA=i)),LA+=a*(GA+(GA=o)),JA(WA,HA,GA)}function tE(){VA.point=YA}function eE(){VA.point=rE}function nE(){iE(qA,$A),VA.point=YA}function rE(t,e){qA=t,$A=e,t*=xj,e*=xj,VA.point=iE;var n=Sj(e);WA=n*Sj(t),HA=n*Mj(t),GA=Mj(e),JA(WA,HA,GA)}function iE(t,e){t*=xj,e*=xj;var n=Sj(e),r=n*Sj(t),i=n*Mj(t),o=Mj(e),a=HA*o-GA*i,u=GA*r-WA*o,c=WA*i-HA*r,s=Fj(a*a+u*u+c*c),l=Pj(s),f=s&&-l/s;zA+=f*a,BA+=f*u,UA+=f*c,FA+=l,RA+=l*(WA+(WA=r)),IA+=l*(HA+(HA=i)),LA+=l*(GA+(GA=o)),JA(WA,HA,GA)}var oE=function(t){DA=FA=TA=NA=PA=RA=IA=LA=zA=BA=UA=0,Xj(t,VA);var e=zA,n=BA,r=UA,i=e*e+n*n+r*r;return i<vj&&(e=RA,n=IA,r=LA,FA<pj&&(e=TA,n=NA,r=PA),i=e*e+n*n+r*r,i<vj)?[NaN,NaN]:[kj(n,e)*wj,Pj(r/Fj(i))*wj]},aE=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n};function uE(t,e){return[_j(t)>yj?t+Math.round(-t/bj)*bj:t,e]}function cE(t,e,n){return(t%=bj)?e||n?aE(lE(t),fE(e,n)):lE(t):e||n?fE(e,n):uE}function sE(t){return function(e,n){return e+=t,[e>yj?e-bj:e<-yj?e+bj:e,n]}}function lE(t){var e=sE(t);return e.invert=sE(-t),e}function fE(t,e){var n=Sj(t),r=Mj(t),i=Sj(e),o=Mj(e);function a(t,e){var a=Sj(e),u=Sj(t)*a,c=Mj(t)*a,s=Mj(e),l=s*n+u*r;return[kj(c*i-l*o,u*n-s*r),Pj(l*i+c*o)]}return a.invert=function(t,e){var a=Sj(e),u=Sj(t)*a,c=Mj(t)*a,s=Mj(e),l=s*i-c*o;return[kj(c*i+s*o,u*n+l*r),Pj(l*n-u*r)]},a}uE.invert=uE;var hE=function(t){function e(e){return e=t(e[0]*xj,e[1]*xj),e[0]*=wj,e[1]*=wj,e}return t=cE(t[0]*xj,t[1]*xj,t.length>2?t[2]*xj:0),e.invert=function(e){return e=t.invert(e[0]*xj,e[1]*xj),e[0]*=wj,e[1]*=wj,e},e};function dE(t,e,n,r,i,o){if(n){var a=Sj(e),u=Mj(e),c=r*n;null==i?(i=e+r*bj,o=e-c/2):(i=pE(a,i),o=pE(a,o),(r>0?i<o:i>o)&&(i+=r*bj));for(var s,l=i;r>0?l>o:l<o;l-=c)s=nA([a,-u*Sj(l),-u*Mj(l)]),t.point(s[0],s[1])}}function pE(t,e){e=rA(e),e[0]-=t,cA(e);var n=Nj(-e[1]);return((-e[2]<0?-n:n)+bj-pj)%bj}var vE=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Rj,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},yE=function(t,e){return _j(t[0]-e[0])<pj&&_j(t[1]-e[1])<pj};function gE(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var mE=function(t,e,n,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(yE(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(n=new gE(r,t,null,!0)),c.push(n.o=new gE(r,null,n,!1)),u.push(n=new gE(a,t,null,!1)),c.push(n.o=new gE(a,null,n,!0))}})),u.length){for(c.sort(e),bE(u),bE(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;var s,l,f=u[0];while(1){var h=f,d=!0;while(h.v)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);i.lineEnd()}}};function bE(t){if(e=t.length){var e,n,r=0,i=t[0];while(++r<e)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var wE=lj();function xE(t){return _j(t[0])<=yj?t[0]:Dj(t[0])*((_j(t[0])+yj)%bj-yj)}var _E=function(t,e){var n=xE(e),r=e[1],i=Mj(r),o=[Mj(n),-Sj(n),0],a=0,u=0;wE.reset(),1===i?r=gj+pj:-1===i&&(r=-gj-pj);for(var c=0,s=t.length;c<s;++c)if(f=(l=t[c]).length)for(var l,f,h=l[f-1],d=xE(h),p=h[1]/2+mj,v=Mj(p),y=Sj(p),g=0;g<f;++g,d=b,v=x,y=_,h=m){var m=l[g],b=xE(m),w=m[1]/2+mj,x=Mj(w),_=Sj(w),O=b-d,k=O>=0?1:-1,S=k*O,j=S>yj,A=v*x;if(wE.add(kj(A*k*Mj(S),y*_+A*Sj(S))),a+=j?O+k*bj:O,j^d>=n^b>=n){var E=oA(rA(h),rA(m));cA(E);var C=oA(o,E);cA(C);var M=(j^O>=0?-1:1)*Pj(C[2]);(r>M||r===M&&(E[0]||E[1]))&&(u+=j^O>=0?1:-1)}}return(a<-pj||a<pj&&wE<-pj)^1&u},OE=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},kE=function(t){return 1===t.length&&(t=SE(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};function SE(t){return function(e,n){return OE(t(e),n)}}var jE=kE(OE);jE.right,jE.left;var AE=Array.prototype,EE=(AE.slice,AE.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var CE=function(t){var e,n,r,i=t.length,o=-1,a=0;while(++o<i)a+=t[o].length;n=new Array(a);while(--i>=0){r=t[i],e=r.length;while(--e>=0)n[--a]=r[e]}return n};var ME=function(t,e,n,r){return function(i){var o,a,u,c=e(i),s=vE(),l=e(s),f=!1,h={point:d,lineStart:v,lineEnd:y,polygonStart:function(){h.point=g,h.lineStart=m,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=y,a=CE(a);var t=_E(o,r);a.length?(f||(i.polygonStart(),f=!0),mE(a,FE,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function v(){h.point=p,c.lineStart()}function y(){h.point=d,c.lineEnd()}function g(t,e){u.push([t,e]),l.point(t,e)}function m(){l.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),l.lineEnd();var t,e,n,r,c=l.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if(n=h[0],(e=n.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(DE))}return h}};function DE(t){return t.length>1}function FE(t,e){return((t=t.x)[0]<0?t[1]-gj-pj:gj-t[1])-((e=e.x)[0]<0?e[1]-gj-pj:gj-e[1])}var TE=ME((function(){return!0}),NE,RE,[-yj,-gj]);function NE(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?yj:-yj,c=_j(o-n);_j(c-yj)<pj?(t.point(n,r=(r+a)/2>0?gj:-gj),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&c>=yj&&(_j(n-i)<pj&&(n-=i*pj),_j(o-u)<pj&&(o-=u*pj),r=PE(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function PE(t,e,n,r){var i,o,a=Mj(t-n);return _j(a)>pj?Oj((Mj(e)*(o=Sj(r))*Mj(n)-Mj(r)*(i=Sj(e))*Mj(t))/(i*o*a)):(e+r)/2}function RE(t,e,n,r){var i;if(null==t)i=n*gj,r.point(-yj,i),r.point(0,i),r.point(yj,i),r.point(yj,0),r.point(yj,-i),r.point(0,-i),r.point(-yj,-i),r.point(-yj,0),r.point(-yj,i);else if(_j(t[0]-e[0])>pj){var o=t[0]<e[0]?yj:-yj;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}var IE=function(t){var e=Sj(t),n=6*xj,r=e>0,i=_j(e)>pj;function o(e,r,i,o){dE(o,t,n,i,e,r)}function a(t,n){return Sj(t)*Sj(n)>e}function u(t){var e,n,o,u,l;return{lineStart:function(){u=o=!1,l=1},point:function(f,h){var d,p=[f,h],v=a(f,h),y=r?v?0:s(f,h):v?s(f+(f<0?yj:-yj),h):0;if(!e&&(u=o=v)&&t.lineStart(),v!==o&&(d=c(e,p),(!d||yE(e,d)||yE(p,d))&&(p[0]+=pj,p[1]+=pj,v=a(p[0],p[1]))),v!==o)l=0,v?(t.lineStart(),d=c(p,e),t.point(d[0],d[1])):(d=c(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&r^v){var g;y&n||!(g=c(p,e,!0))||(l=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||e&&yE(e,p)||t.point(p[0],p[1]),e=p,o=v,n=y},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return l|(u&&o)<<1}}}function c(t,n,r){var i=rA(t),o=rA(n),a=[1,0,0],u=oA(i,o),c=iA(u,u),s=u[0],l=c-s*s;if(!l)return!r&&t;var f=e*c/l,h=-e*s/l,d=oA(a,u),p=uA(a,f),v=uA(u,h);aA(p,v);var y=d,g=iA(p,y),m=iA(y,y),b=g*g-m*(iA(p,p)-1);if(!(b<0)){var w=Fj(b),x=uA(y,(-g-w)/m);if(aA(x,p),x=nA(x),!r)return x;var _,O=t[0],k=n[0],S=t[1],j=n[1];k<O&&(_=O,O=k,k=_);var A=k-O,E=_j(A-yj)<pj,C=E||A<pj;if(!E&&j<S&&(_=S,S=j,j=_),C?E?S+j>0^x[1]<(_j(x[0]-O)<pj?S:j):S<=x[1]&&x[1]<=j:A>yj^(O<=x[0]&&x[0]<=k)){var M=uA(y,(-g+w)/m);return aA(M,p),[x,nA(M)]}}}function s(e,n){var i=r?t:yj-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return ME(a,u,o,r?[0,-t]:[-yj,t-yj])},LE=function(t,e,n,r,i,o){var a,u=t[0],c=t[1],s=e[0],l=e[1],f=0,h=1,d=s-u,p=l-c;if(a=n-u,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-c,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-c,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=u+f*d,t[1]=c+f*p),h<1&&(e[0]=u+h*d,e[1]=c+h*p),!0}}}}},zE=1e9,BE=-zE;function UE(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,s){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||c(i,o)<0^u>0)do{s.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+u+4)%4)!==f);else s.point(o[0],o[1])}function a(r,i){return _j(r[0]-t)<pj?i>0?0:3:_j(r[0]-n)<pj?i>0?2:1:_j(r[1]-e)<pj?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,s,l,f,h,d,p,v,y,g,m,b=a,w=vE(),x={point:_,lineStart:j,lineEnd:A,polygonStart:k,polygonEnd:S};function _(t,e){i(t,e)&&b.point(t,e)}function O(){for(var e=0,n=0,i=s.length;n<i;++n)for(var o,a,u=s[n],c=1,l=u.length,f=u[0],h=f[0],d=f[1];c<l;++c)o=h,a=d,f=u[c],h=f[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}function k(){b=w,c=[],s=[],m=!0}function S(){var t=O(),e=m&&t,n=(c=CE(c)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&mE(c,u,t,o,a),a.polygonEnd()),b=a,c=s=l=null}function j(){x.point=E,s&&s.push(l=[]),g=!0,y=!1,p=v=NaN}function A(){c&&(E(f,h),d&&y&&w.rejoin(),c.push(w.result())),x.point=_,y&&b.lineEnd()}function E(o,a){var u=i(o,a);if(s&&l.push([o,a]),g)f=o,h=a,d=u,g=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&y)b.point(o,a);else{var c=[p=Math.max(BE,Math.min(zE,p)),v=Math.max(BE,Math.min(zE,v))],w=[o=Math.max(BE,Math.min(zE,o)),a=Math.max(BE,Math.min(zE,a))];LE(c,w,t,e,n,r)?(y||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),u||b.lineEnd(),m=!1):u&&(b.lineStart(),b.point(o,a),m=!1)}p=o,v=a,y=u}return x}}lj();function qE(t,e,n){var r=EE(t,e-pj,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function $E(t,e,n){var r=EE(t,e-pj,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function WE(){var t,e,n,r,i,o,a,u,c,s,l,f,h=10,d=h,p=90,v=360,y=2.5;function g(){return{type:"MultiLineString",coordinates:m()}}function m(){return EE(jj(r/p)*p,n,p).map(l).concat(EE(jj(u/v)*v,a,v).map(f)).concat(EE(jj(e/h)*h,t,h).filter((function(t){return _j(t%p)>pj})).map(c)).concat(EE(jj(o/d)*d,i,d).filter((function(t){return _j(t%v)>pj})).map(s))}return g.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),g.precision(y)):[[r,u],[n,a]]},g.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),g.precision(y)):[[e,o],[t,i]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],g):[p,v]},g.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],g):[h,d]},g.precision=function(h){return arguments.length?(y=+h,c=qE(o,i,90),s=$E(e,t,y),l=qE(u,a,90),f=$E(r,n,y),g):y},g.extentMajor([[-180,-90+pj],[180,90-pj]]).extentMinor([[-180,-80-pj],[180,80+pj]])}var HE,GE,XE,VE,YE=function(t){return t},JE=lj(),ZE=lj(),KE={point:Rj,lineStart:Rj,lineEnd:Rj,polygonStart:function(){KE.lineStart=QE,KE.lineEnd=nC},polygonEnd:function(){KE.lineStart=KE.lineEnd=KE.point=Rj,JE.add(_j(ZE)),ZE.reset()},result:function(){var t=JE/2;return JE.reset(),t}};function QE(){KE.point=tC}function tC(t,e){KE.point=eC,HE=XE=t,GE=VE=e}function eC(t,e){ZE.add(VE*t-XE*e),XE=t,VE=e}function nC(){eC(HE,GE)}var rC=KE,iC=1/0,oC=iC,aC=-iC,uC=aC,cC={point:sC,lineStart:Rj,lineEnd:Rj,polygonStart:Rj,polygonEnd:Rj,result:function(){var t=[[iC,oC],[aC,uC]];return aC=uC=-(oC=iC=1/0),t}};function sC(t,e){t<iC&&(iC=t),t>aC&&(aC=t),e<oC&&(oC=e),e>uC&&(uC=e)}var lC,fC,hC,dC,pC=cC,vC=0,yC=0,gC=0,mC=0,bC=0,wC=0,xC=0,_C=0,OC=0,kC={point:SC,lineStart:jC,lineEnd:CC,polygonStart:function(){kC.lineStart=MC,kC.lineEnd=DC},polygonEnd:function(){kC.point=SC,kC.lineStart=jC,kC.lineEnd=CC},result:function(){var t=OC?[xC/OC,_C/OC]:wC?[mC/wC,bC/wC]:gC?[vC/gC,yC/gC]:[NaN,NaN];return vC=yC=gC=mC=bC=wC=xC=_C=OC=0,t}};function SC(t,e){vC+=t,yC+=e,++gC}function jC(){kC.point=AC}function AC(t,e){kC.point=EC,SC(hC=t,dC=e)}function EC(t,e){var n=t-hC,r=e-dC,i=Fj(n*n+r*r);mC+=i*(hC+t)/2,bC+=i*(dC+e)/2,wC+=i,SC(hC=t,dC=e)}function CC(){kC.point=SC}function MC(){kC.point=FC}function DC(){TC(lC,fC)}function FC(t,e){kC.point=TC,SC(lC=hC=t,fC=dC=e)}function TC(t,e){var n=t-hC,r=e-dC,i=Fj(n*n+r*r);mC+=i*(hC+t)/2,bC+=i*(dC+e)/2,wC+=i,i=dC*t-hC*e,xC+=i*(hC+t),_C+=i*(dC+e),OC+=3*i,SC(hC=t,dC=e)}var NC=kC;function PC(t){this._context=t}PC.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,bj);break}},result:Rj};var RC,IC,LC,zC,BC,UC=lj(),qC={point:Rj,lineStart:function(){qC.point=$C},lineEnd:function(){RC&&WC(IC,LC),qC.point=Rj},polygonStart:function(){RC=!0},polygonEnd:function(){RC=null},result:function(){var t=+UC;return UC.reset(),t}};function $C(t,e){qC.point=WC,IC=zC=t,LC=BC=e}function WC(t,e){zC-=t,BC-=e,UC.add(Fj(zC*zC+BC*BC)),zC=t,BC=e}var HC=qC;function GC(){this._string=[]}function XC(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}GC.prototype={_radius:4.5,_circle:XC(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=XC(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var VC=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Xj(t,n(r))),r.result()}return o.area=function(t){return Xj(t,n(rC)),rC.result()},o.measure=function(t){return Xj(t,n(HC)),HC.result()},o.bounds=function(t){return Xj(t,n(pC)),pC.result()},o.centroid=function(t){return Xj(t,n(NC)),NC.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,YE):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new GC):new PC(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)};function YC(t){return function(e){var n=new JC;for(var r in t)n[r]=t[r];return n.stream=e,n}}function JC(){}function ZC(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Xj(n,t.stream(pC)),e(pC.result()),null!=r&&t.clipExtent(r),t}function KC(t,e,n){return ZC(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])}),n)}function QC(t,e,n){return KC(t,[[0,0],e],n)}function tM(t,e,n){return ZC(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function eM(t,e,n){return ZC(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}JC.prototype={constructor:JC,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nM=16,rM=Sj(30*xj),iM=function(t,e){return+e?aM(t,e):oM(t)};function oM(t){return YC({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function aM(t,e){function n(r,i,o,a,u,c,s,l,f,h,d,p,v,y){var g=s-r,m=l-i,b=g*g+m*m;if(b>4*e&&v--){var w=a+h,x=u+d,_=c+p,O=Fj(w*w+x*x+_*_),k=Pj(_/=O),S=_j(_j(_)-1)<pj||_j(o-f)<pj?(o+f)/2:kj(x,w),j=t(S,k),A=j[0],E=j[1],C=A-r,M=E-i,D=m*C-g*M;(D*D/b>e||_j((g*C+m*M)/b-.5)>.3||a*h+u*d+c*p<rM)&&(n(r,i,o,a,u,c,A,E,S,w/=O,x/=O,_,v,y),y.point(A,E),n(A,E,S,w,x,_,s,l,f,h,d,p,v,y))}}return function(e){var r,i,o,a,u,c,s,l,f,h,d,p,v={point:y,lineStart:g,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=w},polygonEnd:function(){e.polygonEnd(),v.lineStart=g}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){l=NaN,v.point=m,e.lineStart()}function m(r,i){var o=rA([r,i]),a=t(r,i);n(l,f,s,h,d,p,l=a[0],f=a[1],s=r,h=o[0],d=o[1],p=o[2],nM,e),e.point(l,f)}function b(){v.point=y,e.lineEnd()}function w(){g(),v.point=x,v.lineEnd=_}function x(t,e){m(r=t,e),i=l,o=f,a=h,u=d,c=p,v.point=m}function _(){n(l,f,s,h,d,p,i,o,r,a,u,c,nM,e),v.lineEnd=b,b()}return v}}var uM=YC({point:function(t,e){this.stream.point(t*xj,e*xj)}});function cM(t){return YC({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function sM(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r}function lM(t,e,n,r){var i=Sj(r),o=Mj(r),a=i*t,u=o*t,c=i/t,s=o/t,l=(o*n-i*e)/t,f=(o*e+i*n)/t;function h(t,r){return[a*t-u*r+e,n-u*t-a*r]}return h.invert=function(t,e){return[c*t-s*e+l,f-s*t-c*e]},h}function fM(t){return hM((function(){return t}))()}function hM(t){var e,n,r,i,o,a,u,c,s,l,f=150,h=480,d=250,p=0,v=0,y=0,g=0,m=0,b=0,w=null,x=TE,_=null,O=YE,k=.5;function S(t){return c(t[0]*xj,t[1]*xj)}function j(t){return t=c.invert(t[0],t[1]),t&&[t[0]*wj,t[1]*wj]}function A(){var t=lM(f,0,0,b).apply(null,e(p,v)),r=(b?lM:sM)(f,h-t[0],d-t[1],b);return n=cE(y,g,m),u=aE(e,r),c=aE(n,u),a=iM(u,k),E()}function E(){return s=l=null,S}return S.stream=function(t){return s&&l===t?s:s=uM(cM(n)(x(a(O(l=t)))))},S.preclip=function(t){return arguments.length?(x=t,w=void 0,E()):x},S.postclip=function(t){return arguments.length?(O=t,_=r=i=o=null,E()):O},S.clipAngle=function(t){return arguments.length?(x=+t?IE(w=t*xj):(w=null,TE),E()):w*wj},S.clipExtent=function(t){return arguments.length?(O=null==t?(_=r=i=o=null,YE):UE(_=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),E()):null==_?null:[[_,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,A()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],A()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*xj,v=t[1]%360*xj,A()):[p*wj,v*wj]},S.rotate=function(t){return arguments.length?(y=t[0]%360*xj,g=t[1]%360*xj,m=t.length>2?t[2]%360*xj:0,A()):[y*wj,g*wj,m*wj]},S.angle=function(t){return arguments.length?(b=t%360*xj,A()):b*wj},S.precision=function(t){return arguments.length?(a=iM(u,k=t*t),E()):Fj(k)},S.fitExtent=function(t,e){return KC(S,t,e)},S.fitSize=function(t,e){return QC(S,t,e)},S.fitWidth=function(t,e){return tM(S,t,e)},S.fitHeight=function(t,e){return eM(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&j,A()}}function dM(t){var e=0,n=yj/3,r=hM(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*xj,n=t[1]*xj):[e*wj,n*wj]},i}function pM(t){var e=Sj(t);function n(t,n){return[t*e,Mj(n)/e]}return n.invert=function(t,n){return[t/e,Pj(n*e)]},n}function vM(t,e){var n=Mj(t),r=(n+Mj(e))/2;if(_j(r)<pj)return pM(t);var i=1+n*(2*r-n),o=Fj(i)/r;function a(t,e){var n=Fj(i-2*r*Mj(e))/r;return[n*Mj(t*=r),o-n*Sj(t)]}return a.invert=function(t,e){var n=o-e;return[kj(t,_j(n))/r*Dj(n),Pj((i-(t*t+n*n)*r*r)/(2*r))]},a}var yM=function(){return dM(vM).scale(155.424).center([0,33.6442])},gM=function(){return yM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function mM(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}var bM=function(){var t,e,n,r,i,o,a=gM(),u=yM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=yM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},l.stream=function(n){return t&&e===n?t:t=mM([a.stream(e=n),u.stream(n),c.stream(n)])},l.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(s),r=u.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+pj,l+.12*e+pj],[o-.214*e-pj,l+.234*e-pj]]).stream(s),i=c.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+pj,l+.166*e+pj],[o-.115*e-pj,l+.234*e-pj]]).stream(s),f()},l.fitExtent=function(t,e){return KC(l,t,e)},l.fitSize=function(t,e){return QC(l,t,e)},l.fitWidth=function(t,e){return tM(l,t,e)},l.fitHeight=function(t,e){return eM(l,t,e)},l.scale(1070)};function wM(t){return function(e,n){var r=Sj(e),i=Sj(n),o=t(r*i);return[o*i*Mj(e),o*Mj(n)]}}function xM(t){return function(e,n){var r=Fj(e*e+n*n),i=t(r),o=Mj(i),a=Sj(i);return[kj(e*o,r*a),Pj(r&&n*o/r)]}}var _M=wM((function(t){return Fj(2/(1+t))}));_M.invert=xM((function(t){return 2*Pj(t/2)}));var OM=function(){return fM(_M).scale(124.75).clipAngle(179.999)},kM=wM((function(t){return(t=Nj(t))&&t/Mj(t)}));kM.invert=xM((function(t){return t}));var SM=function(){return fM(kM).scale(79.4188).clipAngle(179.999)};function jM(t,e){return[t,Ej(Tj((gj+e)/2))]}jM.invert=function(t,e){return[t,2*Oj(Aj(e))-gj]};var AM=function(){return EM(jM).scale(961/bj)};function EM(t){var e,n,r,i=fM(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,s=null;function l(){var o=yj*a(),u=i(hE(i.rotate()).invert([0,0]));return c(null==s?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===jM?[[Math.max(u[0]-o,s),e],[Math.min(u[0]+o,n),r]]:[[s,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=e=n=r=null:(s=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==s?null:[[s,e],[n,r]]},l()}function CM(t){return Tj((gj+t)/2)}function MM(t,e){var n=Sj(t),r=t===e?Mj(t):Ej(n/Sj(e))/Ej(CM(e)/CM(t)),i=n*Cj(CM(t),r)/r;if(!r)return jM;function o(t,e){i>0?e<-gj+pj&&(e=-gj+pj):e>gj-pj&&(e=gj-pj);var n=i/Cj(CM(e),r);return[n*Mj(r*t),i-n*Sj(r*t)]}return o.invert=function(t,e){var n=i-e,o=Dj(r)*Fj(t*t+n*n);return[kj(t,_j(n))/r*Dj(n),2*Oj(Cj(i/o,1/r))-gj]},o}var DM=function(){return dM(MM).scale(109.5).parallels([30,30])};function FM(t,e){return[t,e]}FM.invert=FM;var TM=function(){return fM(FM).scale(152.63)};function NM(t,e){var n=Sj(t),r=t===e?Mj(t):(n-Sj(e))/(e-t),i=n/r+t;if(_j(r)<pj)return FM;function o(t,e){var n=i-e,o=r*t;return[n*Mj(o),i-n*Sj(o)]}return o.invert=function(t,e){var n=i-e;return[kj(t,_j(n))/r*Dj(n),i-Dj(r)*Fj(t*t+n*n)]},o}var PM=function(){return dM(NM).scale(131.154).center([0,13.9389])},RM=1.340264,IM=-.081106,LM=893e-6,zM=.003796,BM=Fj(3)/2,UM=12;function qM(t,e){var n=Pj(BM*Mj(e)),r=n*n,i=r*r*r;return[t*Sj(n)/(BM*(RM+3*IM*r+i*(7*LM+9*zM*r))),n*(RM+IM*r+i*(LM+zM*r))]}qM.invert=function(t,e){for(var n,r,i,o=e,a=o*o,u=a*a*a,c=0;c<UM;++c)if(r=o*(RM+IM*a+u*(LM+zM*a))-e,i=RM+3*IM*a+u*(7*LM+9*zM*a),o-=n=r/i,a=o*o,u=a*a*a,_j(n)<vj)break;return[BM*t*(RM+3*IM*a+u*(7*LM+9*zM*a))/Sj(o),Pj(Mj(o)/BM)]};var $M=function(){return fM(qM).scale(177.158)};function WM(t,e){var n=Sj(e),r=Sj(t)*n;return[n*Mj(t)/r,Mj(e)/r]}WM.invert=xM(Oj);var HM=function(){return fM(WM).scale(144.049).clipAngle(60)};function GM(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?YE:YC({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var XM=function(){var t,e,n,r,i,o,a=1,u=0,c=0,s=1,l=1,f=YE,h=null,d=YE;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=e=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=e=n=null,YE):UE(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),p()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(f=GM((a=+t)*s,a*l,u,c),p()):a},translate:function(t){return arguments.length?(f=GM(a*s,a*l,u=+t[0],c=+t[1]),p()):[u,c]},reflectX:function(t){return arguments.length?(f=GM(a*(s=t?-1:1),a*l,u,c),p()):s<0},reflectY:function(t){return arguments.length?(f=GM(a*s,a*(l=t?-1:1),u,c),p()):l<0},fitExtent:function(t,e){return KC(o,t,e)},fitSize:function(t,e){return QC(o,t,e)},fitWidth:function(t,e){return tM(o,t,e)},fitHeight:function(t,e){return eM(o,t,e)}}};function VM(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}VM.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(_j(n)>pj&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var YM=function(){return fM(VM).scale(175.295)};function JM(t,e){return[Sj(e)*Mj(t),Mj(e)]}JM.invert=xM(Pj);var ZM=function(){return fM(JM).scale(249.5).clipAngle(90+pj)};function KM(t,e){var n=Sj(e),r=1+Sj(t)*n;return[n*Mj(t)/r,Mj(e)/r]}KM.invert=xM((function(t){return 2*Oj(t)}));var QM=function(){return fM(KM).scale(250).clipAngle(142)};function tD(t,e){return[Ej(Tj((gj+e)/2)),-t]}tD.invert=function(t,e){return[-e,2*Oj(Aj(t))-gj]};var eD=function(){var t=EM(tD),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},nD=VC(),rD=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function iD(t,e){return function n(){var r=e();return r.type=t,r.path=VC().projection(r),r.copy=r.copy||function(){var t=n();return rD.forEach((function(e){r[e]&&t[e](r[e]())})),t.path.pointRadius(r.path.pointRadius()),t},r}}function oD(t,e){if(!t||"string"!==typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(uD[t]=iD(t,e),this):uD[t]||null}function aD(t){return t&&t.path||nD}var uD={albers:gM,albersusa:bM,azimuthalequalarea:OM,azimuthalequidistant:SM,conicconformal:DM,conicequalarea:yM,conicequidistant:PM,equalEarth:$M,equirectangular:TM,gnomonic:HM,identity:XM,mercator:AM,naturalEarth1:YM,orthographic:ZM,stereographic:QM,transversemercator:eD};for(var cD in uD)oD(cD,uD[cD]);function sD(t){Fa.call(this,null,t)}sD.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};var lD=Object(xe["y"])(sD,Fa);function fD(t,e){var n=t.pointRadius();return t.context(null),null!=e&&t.pointRadius(e),n}function hD(t){Fa.call(this,null,t)}lD.transform=function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||xe["x"],o=t.as||"path",a=n.SOURCE;function u(t){t[o]=r(i(t))}!r||t.modified()?(this.value=r=aD(t.projection),n.materialize().reflow()):a=i===xe["x"]||e.modified(i.fields)?n.ADD_MOD:n.ADD;var c=fD(r,t.pointRadius);return n.visit(a,u),r.pointRadius(c),n.modifies(o)},hD.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};var dD=Object(xe["y"])(hD,Fa);function pD(t){Fa.call(this,null,t)}dD.transform=function(t,e){var n,r=t.projection,i=t.fields[0],o=t.fields[1],a=t.as||["x","y"],u=a[0],c=a[1];function s(t){var e=r([i(t),o(t)]);e?(t[u]=e[0],t[c]=e[1]):(t[u]=void 0,t[c]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,s):(n=e.modified(i.fields)||e.modified(o.fields),e.visit(n?e.ADD_MOD:e.ADD,s)),e.modifies(a)},pD.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};var vD=Object(xe["y"])(pD,Fa);function yD(t,e,n){var r=null==n?function(n){return t(e(n))}:function(r){var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=function(e){return t.context(e),r},r}function gD(t){Fa.call(this,[],t),this.generator=WE()}vD.transform=function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.as||"shape",o=n.ADD;return r&&!t.modified()||(this.value=r=yD(aD(t.projection),t.field||Object(xe["t"])("datum"),t.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(t){t[i]=r})),n.modifies(i)},gD.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};var mD=Object(xe["y"])(gD,Fa);function bD(t){Fa.call(this,null,t),this.modified(!0)}mD.transform=function(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(var o in t)Object(xe["D"])(i[o])&&i[o](t[o]);return n=i(),r.length?e.mod.push(Pe(r[0],n)):e.add.push(Fe(n)),r[0]=n,e};var wD=Object(xe["y"])(bD,Fa);function xD(t,e){var n=kD(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}function _D(t){var e=oD((t||"mercator").toLowerCase());return e||Object(xe["n"])("Unrecognized projection type: "+t),e()}function OD(t,e,n){Object(xe["D"])(t[e])&&t[e](n)}function kD(t){return t=Object(xe["i"])(t),1===t.length?t[0]:{type:aj,features:t.reduce((function(t,e){return t.concat(SD(e))}),[])}}function SD(t){return t.type===aj?t.features:Object(xe["i"])(t).filter((function(t){return null!=t})).map((function(t){return t.type===oj?t:{type:oj,geometry:t}}))}wD.transform=function(t,e){var n=this.value;return!n||t.modified("type")?(this.value=n=_D(t.type),rD.forEach((function(e){null!=t[e]&&OD(n,e,t[e])}))):rD.forEach((function(e){t.modified(e)&&OD(n,e,t[e])})),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&xD(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)};var jD=function(t,e){var n;function r(){var r,i,o=n.length,a=0,u=0;for(r=0;r<o;++r)i=n[r],a+=i.x,u+=i.y;for(a=a/o-t,u=u/o-e,r=0;r<o;++r)i=n[r],i.x-=a,i.y-=u}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},AD=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ED(this.cover(e,n),e,n,t)};function ED(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,c,s,l,f,h,d=t._root,p={data:r},v=t._x0,y=t._y0,g=t._x1,m=t._y1;if(!d)return t._root=p,t;while(d.length)if((s=e>=(o=(v+g)/2))?v=o:g=o,(l=n>=(a=(y+m)/2))?y=a:m=a,i=d,!(d=d[f=l<<1|s]))return i[f]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===u&&n===c)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(s=e>=(o=(v+g)/2))?v=o:g=o,(l=n>=(a=(y+m)/2))?y=a:m=a}while((f=l<<1|s)===(h=(c>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function CD(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,s=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<c&&(c=r),r>l&&(l=r),i<s&&(s=i),i>f&&(f=i));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),n=0;n<o;++n)ED(this,a[n],u[n],t[n]);return this}var MD=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,u,c=i-n,s=this._root;while(n>t||t>=i||r>e||e>=o)switch(u=(e<r)<<1|t<n,a=new Array(4),a[u]=s,s=a,c*=2,u){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},DD=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},FD=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},TD=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},ND=function(t,e,n){var r,i,o,a,u,c,s,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new TD(v,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);while(c=p.pop())if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<l||(u=c.y1)<f))if(v.length){var y=(i+a)/2,g=(o+u)/2;p.push(new TD(v[3],y,g,a,u),new TD(v[2],i,g,y,u),new TD(v[1],y,o,a,g),new TD(v[0],i,o,y,g)),(s=(e>=g)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),w=m*m+b*b;if(w<n){var x=Math.sqrt(n=w);l=t-x,f=e-x,h=t+x,d=e+x,r=v.data}}return r},PD=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,c,s,l,f,h,d=this._root,p=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!d)return this;if(d.length)while(1){if((s=o>=(u=(p+y)/2))?p=u:y=u,(l=a>=(c=(v+g)/2))?v=c:g=c,e=d,!(d=d[f=l<<1|s]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)};function RD(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var ID=function(){return this._root},LD=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},zD=function(t){var e,n,r,i,o,a,u=[],c=this._root;c&&u.push(new TD(c,this._x0,this._y0,this._x1,this._y1));while(e=u.pop())if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var s=(r+o)/2,l=(i+a)/2;(n=c[3])&&u.push(new TD(n,s,l,o,a)),(n=c[2])&&u.push(new TD(n,r,l,s,a)),(n=c[1])&&u.push(new TD(n,s,i,o,l)),(n=c[0])&&u.push(new TD(n,r,i,s,l))}return this},BD=function(t){var e,n=[],r=[];this._root&&n.push(new TD(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,c=e.x1,s=e.y1,l=(a+c)/2,f=(u+s)/2;(o=i[0])&&n.push(new TD(o,a,u,l,f)),(o=i[1])&&n.push(new TD(o,l,u,c,f)),(o=i[2])&&n.push(new TD(o,a,f,l,s)),(o=i[3])&&n.push(new TD(o,l,f,c,s))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function UD(t){return t[0]}var qD=function(t){return arguments.length?(this._x=t,this):this._x};function $D(t){return t[1]}var WD=function(t){return arguments.length?(this._y=t,this):this._y};function HD(t,e,n){var r=new GD(null==e?UD:e,null==n?$D:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function GD(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function XD(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var VD=HD.prototype=GD.prototype;VD.copy=function(){var t,e,n=new GD(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=XD(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=XD(e));return n},VD.add=AD,VD.addAll=CD,VD.cover=MD,VD.data=DD,VD.extent=FD,VD.find=ND,VD.remove=PD,VD.removeAll=RD,VD.root=ID,VD.size=LD,VD.visit=zD,VD.visitAfter=BD,VD.x=qD,VD.y=WD;var YD=function(t){return function(){return t}},JD=function(){return 1e-6*(Math.random()-.5)};function ZD(t){return t.x+t.vx}function KD(t){return t.y+t.vy}var QD=function(t){var e,n,r=1,i=1;function o(){for(var t,o,u,c,s,l,f,h=e.length,d=0;d<i;++d)for(o=HD(e,ZD,KD).visitAfter(a),t=0;t<h;++t)u=e[t],l=n[u.index],f=l*l,c=u.x+u.vx,s=u.y+u.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,h=t.r,d=l+h;if(!a)return e>c+d||i<c-d||n>s+d||o<s-d;if(a.index>u.index){var p=c-a.x-a.vx,v=s-a.y-a.vy,y=p*p+v*v;y<d*d&&(0===p&&(p=JD(),y+=p*p),0===v&&(v=JD(),y+=v*v),y=(d-(y=Math.sqrt(y)))/y*r,u.vx+=(p*=y)*(d=(h*=h)/(f+h)),u.vy+=(v*=y)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=YD(null==t?1:+t)),o.initialize=function(t){e=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"===typeof e?e:YD(+e),u(),o):t},o};function tF(t){return tF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tF(t)}function eF(t){return t.index}function nF(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var rF=function(t){var e,n,r,i,o,a=eF,u=l,c=YD(30),s=1;function l(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(r){for(var i=0,a=t.length;i<s;++i)for(var u,c,l,f,h,d,p,v=0;v<a;++v)u=t[v],c=u.source,l=u.target,f=l.x+l.vx-c.x-c.vx||JD(),h=l.y+l.vy-c.y-c.vy||JD(),d=Math.sqrt(f*f+h*h),d=(d-n[v])/d*r*e[v],f*=d,h*=d,l.vx-=f*(p=o[v]),l.vy-=h*p,c.vx+=f*(p=1-p),c.vy+=h*p}function h(){if(r){var u,c,s=r.length,l=t.length,f=new Map(r.map((function(t,e){return[a(t,e,r),t]})));for(u=0,i=new Array(s);u<l;++u)c=t[u],c.index=u,"object"!==tF(c.source)&&(c.source=nF(f,c.source)),"object"!==tF(c.target)&&(c.target=nF(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,o=new Array(l);u<l;++u)c=t[u],o[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(l),d(),n=new Array(l),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(a=t,f):a},f.iterations=function(t){return arguments.length?(s=+t,f):s},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:YD(+t),d(),f):u},f.distance=function(t){return arguments.length?(c="function"===typeof t?t:YD(+t),p(),f):c},f},iF={value:function(){}};function oF(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new aF(r)}function aF(t){this._=t}function uF(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function cF(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function sF(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=iF,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}aF.prototype=oF.prototype={constructor:aF,on:function(t,e){var n,r=this._,i=uF(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=sF(r[n],t.name,e);else if(null==e)for(n in r)r[n]=sF(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=cF(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new aF(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var lF=oF;function fF(t){return fF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fF(t)}var hF,dF,pF=0,vF=0,yF=0,gF=1e3,mF=0,bF=0,wF=0,xF="object"===("undefined"===typeof performance?"undefined":fF(performance))&&performance.now?performance:Date,_F="object"===("undefined"===typeof window?"undefined":fF(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function OF(){return bF||(_F(kF),bF=xF.now()+wF)}function kF(){bF=0}function SF(){this._call=this._time=this._next=null}function jF(t,e,n){var r=new SF;return r.restart(t,e,n),r}function AF(){OF(),++pF;var t,e=hF;while(e)(t=bF-e._time)>=0&&e._call.call(null,t),e=e._next;--pF}function EF(){bF=(mF=xF.now())+wF,pF=vF=0;try{AF()}finally{pF=0,MF(),bF=0}}function CF(){var t=xF.now(),e=t-mF;e>gF&&(wF-=e,mF=t)}function MF(){var t,e,n=hF,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hF=e);dF=t,DF(r)}function DF(t){if(!pF){vF&&(vF=clearTimeout(vF));var e=t-bF;e>24?(t<1/0&&(vF=setTimeout(EF,t-xF.now()-wF)),yF&&(yF=clearInterval(yF))):(yF||(mF=xF.now(),yF=setInterval(CF,gF)),pF=1,_F(EF))}}SF.prototype=jF.prototype={constructor:SF,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?OF():+n)+(null==e?0:+e),this._next||dF===this||(dF?dF._next=this:hF=this,dF=this),this._call=t,this._time=n,DF()},stop:function(){this._call&&(this._call=null,this._time=1/0,DF())}};var FF=function(t,e,n){var r=new SF,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?OF():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)};function TF(t){return t.x}function NF(t){return t.y}var PF=10,RF=Math.PI*(3-Math.sqrt(5)),IF=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,c=jF(l),s=lF("tick","end");function l(){f(),s.call("tick",e),n<r&&(c.stop(),s.call("end",e))}function f(r){var c,s,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,u.forEach((function(t){t(n)})),c=0;c<l;++c)s=t[c],null==s.fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=PF*Math.sqrt(n),o=n*RF;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return c.restart(l),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),u.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,d(n)),e):u.get(t)},find:function(e,n,r){var i,o,a,u,c,s=0,l=t.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)u=t[s],i=e-u.x,o=n-u.y,a=i*i+o*o,a<r&&(c=u,r=a);return c},on:function(t,n){return arguments.length>1?(s.on(t,n),e):s.on(t)}}},LF=function(){var t,e,n,r,i=YD(-30),o=1,a=1/0,u=.81;function c(r){var i,o=t.length,a=HD(t,TF,NF).visitAfter(l);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function s(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function l(t){var e,n,i,o,a,u=0,c=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,c+=n,i+=n*e.x,o+=n*e.y);t.x=i/c,t.y=o/c}else{e=t,e.x=e.data.x,e.y=e.data.y;do{u+=r[e.data.index]}while(e=e.next)}t.value=u}function f(t,i,c,s){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,h=s-i,d=l*l+f*f;if(h*h/u<d)return d<a&&(0===l&&(l=JD(),d+=l*l),0===f&&(f=JD(),d+=f*f),d<o&&(d=Math.sqrt(o*d)),e.vx+=l*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===l&&(l=JD(),d+=l*l),0===f&&(f=JD(),d+=f*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(h=r[t.data.index]*n/d,e.vx+=l*h,e.vy+=f*h)}while(t=t.next)}}return c.initialize=function(e){t=e,s()},c.strength=function(t){return arguments.length?(i="function"===typeof t?t:YD(+t),s(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c},zF=function(t){var e,n,r,i=YD(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=YD(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:YD(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:YD(+e),a(),o):t},o},BF=function(t){var e,n,r,i=YD(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=YD(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:YD(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:YD(+e),a(),o):t},o},UF={center:jD,collide:QD,nbody:LF,link:rF,x:zF,y:BF},qF="forces",$F=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],WF=["static","iterations"],HF=["x","y","vx","vy"];function GF(t){Fa.call(this,null,t)}GF.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:HF}]};var XF=Object(xe["y"])(GF,Fa);function VF(t,e){return function(){t.touch(e).run()}}function YF(t,e){var n=IF(t),r=!1,i=n.stop,o=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,o()},n.stop=function(){return r=!0,i()},JF(n,e,!0).on("end",(function(){r=!0}))}function JF(t,e,n,r){var i,o,a,u,c=Object(xe["i"])(e.forces);for(i=0,o=$F.length;i<o;++i)a=$F[i],a!==qF&&e.modified(a)&&t[a](e[a]);for(i=0,o=c.length;i<o;++i)u=qF+i,a=n||e.modified(qF,i)?KF(c[i]):r&&ZF(c[i],r)?t.force(u):null,a&&t.force(u,a);for(o=t.numForces||0;i<o;++i)t.force(qF+i,null);return t.numForces=c.length,t}function ZF(t,e){var n,r;for(n in t)if(Object(xe["D"])(r=t[n])&&e.modified(Object(xe["g"])(r)))return 1;return 0}function KF(t){var e,n;for(n in Object(xe["v"])(UF,t.force)||Object(xe["n"])("Unrecognized force: "+t.force),e=UF[t.force](),t)Object(xe["D"])(e[n])&&QF(e[n],t[n],t);return e}function QF(t,e,n){t(Object(xe["D"])(e)?function(t){return e(t,n)}:e)}XF.transform=function(t,e){var n=this.value,r=e.changed(e.ADD_REM),i=t.modified($F),o=t.iterations||300;if(n?(r&&(e.modifies("index"),n.nodes(e.source)),(i||e.changed(e.MOD))&&JF(n,t,0,e)):(this.value=n=YF(e.source,t),n.on("tick",VF(e.dataflow,this)),t.static||(r=!0,n.tick()),e.modifies("index")),i||r||t.modified(WF)||e.changed()&&t.restart)if(n.alpha(Math.max(n.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),t.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return e.StopPropagation;return this.finish(t,e)},XF.finish=function(t,e){for(var n,r=e.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if(n=i[o],n.name===qF&&"link"===n.op._argval.force)for(var u,c=n.op._argops,s=0,l=c.length;s<l;++s)if("links"===c[s].name&&(u=c[s].op.source)){r.pulse(u,r.changeset().reflow());break}return e.reflow(t.modified()).modifies(HF)};var tT=function(t,e,n){var r={};return t.each((function(t){var i=t.data;n(i)&&(r[e(i)]=t)})),t.lookup=r,t};function eT(t,e){return t.parent===e.parent?1:2}function nT(t){return t.reduce(rT,0)/t.length}function rT(t,e){return t+e.x}function iT(t){return 1+t.reduce(oT,0)}function oT(t,e){return Math.max(t,e.y)}function aT(t){var e;while(e=t.children)t=e[0];return t}function uT(t){var e;while(e=t.children)t=e[e.length-1];return t}var cT=function(){var t=eT,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=nT(n),e.y=iT(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var u=aT(i),c=uT(i),s=u.x-t(u,c)/2,l=c.x+t(c,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-s)/(l-s)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function sT(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}var lT=function(){return this.eachAfter(sT)},fT=function(t){var e,n,r,i,o=this,a=[o];do{e=a.reverse(),a=[];while(o=e.pop())if(t(o),n=o.children,n)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},hT=function(t){var e,n,r=this,i=[r];while(r=i.pop())if(t(r),e=r.children,e)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},dT=function(t){var e,n,r,i=this,o=[i],a=[];while(i=o.pop())if(a.push(i),e=i.children,e)for(n=0,r=e.length;n<r;++n)o.push(e[n]);while(i=a.pop())t(i);return this},pT=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))},vT=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},yT=function(t){var e=this,n=gT(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r};function gT(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}var mT=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},bT=function(){var t=[];return this.each((function(e){t.push(e)})),t},wT=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},xT=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e};function _T(t,e){var n,r,i,o,a,u=new AT(t),c=+t.value&&(u.value=t.value),s=[u];null==e&&(e=kT);while(n=s.pop())if(c&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)s.push(r=n.children[o]=new AT(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(jT)}function OT(){return _T(this).eachBefore(ST)}function kT(t){return t.children}function ST(t){t.data=t.data.data}function jT(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function AT(t){this.data=t,this.depth=this.height=0,this.parent=null}AT.prototype=_T.prototype={constructor:AT,count:lT,each:fT,eachAfter:dT,eachBefore:hT,sum:pT,sort:vT,path:yT,ancestors:mT,descendants:bT,leaves:wT,links:xT,copy:OT};var ET=Array.prototype.slice;function CT(t){var e,n,r=t.length;while(r)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}var MT=function(t){var e,n,r=0,i=(t=CT(ET.call(t))).length,o=[];while(r<i)e=t[r],n&&TT(n,e)?++r:(n=PT(o=DT(o,e)),r=0);return n};function DT(t,e){var n,r;if(NT(e,t))return[e];for(n=0;n<t.length;++n)if(FT(e,t[n])&&NT(IT(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(FT(IT(t[n],t[r]),e)&&FT(IT(t[n],e),t[r])&&FT(IT(t[r],e),t[n])&&NT(LT(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function FT(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function TT(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function NT(t,e){for(var n=0;n<e.length;++n)if(!TT(t,e[n]))return!1;return!0}function PT(t){switch(t.length){case 1:return RT(t[0]);case 2:return IT(t[0],t[1]);case 3:return LT(t[0],t[1],t[2])}}function RT(t){return{x:t.x,y:t.y,r:t.r}}function IT(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,c=o-n,s=a-r,l=u-i,f=Math.sqrt(c*c+s*s);return{x:(n+o+c/f*l)/2,y:(r+a+s/f*l)/2,r:(f+i+u)/2}}function LT(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,c=e.r,s=n.x,l=n.y,f=n.r,h=r-a,d=r-s,p=i-u,v=i-l,y=c-o,g=f-o,m=r*r+i*i-o*o,b=m-a*a-u*u+c*c,w=m-s*s-l*l+f*f,x=d*p-h*v,_=(p*w-v*b)/(2*x)-r,O=(v*y-p*g)/x,k=(d*b-h*w)/(2*x)-i,S=(h*g-d*y)/x,j=O*O+S*S-1,A=2*(o+_*O+k*S),E=_*_+k*k-o*o,C=-(j?(A+Math.sqrt(A*A-4*j*E))/(2*j):E/A);return{x:r+_+O*C,y:i+k+S*C,r:C}}function zT(t,e,n){var r,i,o,a,u=t.x-e.x,c=t.y-e.y,s=u*u+c*c;s?(i=e.r+n.r,i*=i,a=t.r+n.r,a*=a,i>a?(r=(s+a-i)/(2*s),o=Math.sqrt(Math.max(0,a/s-r*r)),n.x=t.x-r*u-o*c,n.y=t.y-r*c+o*u):(r=(s+i-a)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),n.x=e.x+r*u-o*c,n.y=e.y+r*c+o*u)):(n.x=e.x+n.r,n.y=e.y)}function BT(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function UT(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function qT(t){this._=t,this.next=null,this.previous=null}function $T(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,c,s,l,f;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;zT(n,e,r=t[2]),e=new qT(e),n=new qT(n),r=new qT(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){zT(e._,n._,r=t[u]),r=new qT(r),c=n.next,s=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(BT(c._,r._)){n=c,e.next=n,n.previous=e,--u;continue t}l+=c._.r,c=c.next}else{if(BT(s._,r._)){e=s,e.next=n,n.previous=e,--u;continue t}f+=s._.r,s=s.previous}}while(c!==s.next);r.previous=e,r.next=n,e.next=n.previous=n=r,o=UT(e);while((r=r.next)!==n)(a=UT(r))<o&&(e=r,o=a);n=e.next}e=[n._],r=n;while((r=r.next)!==n)e.push(r._);for(r=MT(e),u=0;u<i;++u)e=t[u],e.x-=r.x,e.y-=r.y;return r.r}function WT(t){return null==t?null:HT(t)}function HT(t){if("function"!==typeof t)throw new Error;return t}function GT(){return 0}var XT=function(t){return function(){return t}};function VT(t){return Math.sqrt(t.value)}var YT=function(){var t=null,e=1,n=1,r=GT;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(JT(t)).eachAfter(ZT(r,.5)).eachBefore(KT(1)):i.eachBefore(JT(VT)).eachAfter(ZT(GT,1)).eachAfter(ZT(r,i.r/Math.min(e,n))).eachBefore(KT(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=WT(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:XT(+t),i):r},i};function JT(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ZT(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=$T(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function KT(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var QT=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},tN=function(t,e,n,r,i){var o,a=t.children,u=-1,c=a.length,s=t.value&&(r-e)/t.value;while(++u<c)o=a[u],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*s},eN=function(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(o(e,a)),r&&i.eachBefore(QT),i}function o(t,e){return function(r){r.children&&tN(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},nN="$",rN={depth:-1},iN={};function oN(t){return t.id}function aN(t){return t.parentId}var uN=function(){var t=oN,e=aN;function n(n){var r,i,o,a,u,c,s,l=n.length,f=new Array(l),h={};for(i=0;i<l;++i)r=n[i],u=f[i]=new AT(r),null!=(c=t(r,i,n))&&(c+="")&&(s=nN+(u.id=c),h[s]=s in h?iN:u);for(i=0;i<l;++i)if(u=f[i],c=e(n[i],i,n),null!=c&&(c+="")){if(a=h[nN+c],!a)throw new Error("missing: "+c);if(a===iN)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=rN,o.eachBefore((function(t){t.depth=t.parent.depth+1,--l})).eachBefore(jT),o.parent=null,l>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=HT(e),n):t},n.parentId=function(t){return arguments.length?(e=HT(t),n):e},n};function cN(t,e){return t.parent===e.parent?1:2}function sN(t){var e=t.children;return e?e[0]:t.t}function lN(t){var e=t.children;return e?e[e.length-1]:t.t}function fN(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function hN(t){var e,n=0,r=0,i=t.children,o=i.length;while(--o>=0)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function dN(t,e,n){return t.a.parent===e.parent?t.a:n}function pN(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function vN(t){var e,n,r,i,o,a=new pN(t,0),u=[a];while(e=u.pop())if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new pN(r[i],i)),n.parent=e;return(a.parent=new pN(null,0)).children=[a],a}pN.prototype=Object.create(AT.prototype);var yN=function(){var t=cN,e=1,n=1,r=null;function i(i){var u=vN(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(c);else{var s=i,l=i,f=i;i.eachBefore((function(t){t.x<s.x&&(s=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)}));var h=s===l?1:t(s,l)/2,d=h-s.x,p=e/(l.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){hN(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=u(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(e,n,r){if(n){var i,o=e,a=e,u=n,c=o.parent.children[0],s=o.m,l=a.m,f=u.m,h=c.m;while(u=lN(u),o=sN(o),u&&o)c=sN(c),a=lN(a),a.a=e,i=u.z+f-o.z-s+t(u._,o._),i>0&&(fN(dN(u,e,r),e,i),s+=i,l+=i),f+=u.m,s+=o.m,h+=c.m,l+=a.m;u&&!lN(a)&&(a.t=u,a.m+=f-l),o&&!sN(c)&&(c.t=o,c.m+=s-h,r=e)}return r}function c(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},gN=function(t,e,n,r,i){var o,a=t.children,u=-1,c=a.length,s=t.value&&(i-n)/t.value;while(++u<c)o=a[u],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*s},mN=(1+Math.sqrt(5))/2;function bN(t,e,n,r,i,o){var a,u,c,s,l,f,h,d,p,v,y,g=[],m=e.children,b=0,w=0,x=m.length,_=e.value;while(b<x){c=i-n,s=o-r;do{l=m[w++].value}while(!l&&w<x);for(f=h=l,v=Math.max(s/c,c/s)/(_*t),y=l*l*v,p=Math.max(h/y,y/f);w<x;++w){if(l+=u=m[w].value,u<f&&(f=u),u>h&&(h=u),y=l*l*v,d=Math.max(h/y,y/f),d>p){l-=u;break}p=d}g.push(a={value:l,dice:c<s,children:m.slice(b,w)}),a.dice?tN(a,n,r,i,_?r+=s*l/_:o):gN(a,n,r,_?n+=c*l/_:i,o),_-=l,b=w}return g}var wN=function t(e){function n(t,n,r,i,o){bN(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mN),xN=function(){var t=wN,e=!1,n=1,r=1,i=[0],o=GT,a=GT,u=GT,c=GT,s=GT;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(QT),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=s(e)-n,l+=a(e)-n,f-=u(e)-n,h-=c(e)-n,f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=HT(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:XT(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:XT(+t),l):a},l.paddingRight=function(t){return arguments.length?(u="function"===typeof t?t:XT(+t),l):u},l.paddingBottom=function(t){return arguments.length?(c="function"===typeof t?t:XT(+t),l):c},l.paddingLeft=function(t){return arguments.length?(s="function"===typeof t?t:XT(+t),l):s},l},_N=function(t,e,n,r,i){var o,a,u=t.children,c=u.length,s=new Array(c+1);for(s[0]=a=o=0;o<c;++o)s[o+1]=a+=u[o].value;function l(t,e,n,r,i,o,a){if(t>=e-1){var c=u[t];return c.x0=r,c.y0=i,c.x1=o,void(c.y1=a)}var f=s[t],h=n/2+f,d=t+1,p=e-1;while(d<p){var v=d+p>>>1;s[v]<h?d=v+1:p=v}h-s[d-1]<s[d]-h&&t+1<d&&--d;var y=s[d]-f,g=n-y;if(o-r>a-i){var m=(r*g+o*y)/n;l(t,d,y,r,i,m,a),l(d,e,g,m,i,o,a)}else{var b=(i*g+a*y)/n;l(t,d,y,r,i,o,b),l(d,e,g,r,b,o,a)}}l(0,c,t.value,e,n,r,i)},ON=function(t,e,n,r,i){(1&t.depth?gN:tN)(t,e,n,r,i)},kN=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e){var a,u,c,s,l,f=-1,h=a.length,d=t.value;while(++f<h){for(u=a[f],c=u.children,s=u.value=0,l=c.length;s<l;++s)u.value+=c[s].value;u.dice?tN(u,n,r,i,r+=(o-r)*u.value/d):gN(u,n,r,n+=(i-n)*u.value/d,o),d-=u.value}}else t._squarify=a=bN(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mN);function SN(t){Fa.call(this,null,t)}SN.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var jN=Object(xe["y"])(SN,Fa);function AN(t){return t.values}function EN(){var t,e=[];function n(t,r){if(r>=e.length)return t;var i,o,a,u=-1,c=t.length,s=e[r++],l={},f={};while(++u<c)i=s(o=t[u])+"",(a=l[i])?a.push(o):l[i]=[o];for(i in l)f[i]=n(l[i],r);return f}function r(t,n){if(++n>e.length)return t;var i,o=[];for(i in t)o.push({key:i,values:r(t[i],n)});return o}return t={entries:function(t){return r(n(t,0),0)},key:function(n){return e.push(n),t}}}function CN(t){Fa.call(this,null,t)}jN.transform=function(t,e){e.source||Object(xe["n"])("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),i=e.clone(),o=this.value;return(!o||r||e.changed())&&(o&&o.each((function(t){t.children&&Ce(t.data)&&i.rem.push(t.data)})),this.value=o=_T({values:Object(xe["i"])(t.keys).reduce((function(t,e){return t.key(e),t}),EN()).entries(i.source)},AN),n&&o.each((function(t){t.children&&(t=Fe(t.data),i.add.push(t),i.source.push(t))})),tT(o,Me,Me)),i.source.root=o,i};var MN=Object(xe["y"])(CN,Fa);function DN(t,e,n){for(var r,i=0,o=e.length;i<o;++i)r=e[i],r in n&&t[r](n[r])}function FN(t,e,n){for(var r=t.data,i=0,o=e.length-1;i<o;++i)r[n[i]]=t[e[i]];r[n[o]]=t.children?t.children.length:0}function TN(t,e){return t.parent===e.parent?1:2}MN.transform=function(t,e){e.source&&e.source.root||Object(xe["n"])(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field?i.sum(t.field):i.count(),t.sort&&i.sort(Re(t.sort,(function(t){return t.data}))),DN(n,this.params,t),n.separation&&n.separation(!1!==t.separation?TN:xe["M"]);try{this.value=n(i)}catch(a){Object(xe["n"])(a)}return i.each((function(t){FN(t,r,o)})),e.reflow(t.modified()).modifies(o).modifies("leaf")};var NN=["x","y","r","depth","children"];function PN(t){CN.call(this,t)}PN.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:NN.length,default:NN}]};var RN=Object(xe["y"])(PN,CN);RN.layout=YT,RN.params=["radius","size","padding"],RN.fields=NN;var IN=["x0","y0","x1","y1","depth","children"];function LN(t){CN.call(this,t)}LN.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:IN.length,default:IN}]};var zN=Object(xe["y"])(LN,CN);function BN(t){Fa.call(this,null,t)}zN.layout=eN,zN.params=["size","round","padding"],zN.fields=IN,BN.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};var UN=Object(xe["y"])(BN,Fa);UN.transform=function(t,e){e.source||Object(xe["n"])("Stratify transform requires an upstream data source.");var n=this.value,r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!this.value||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?tT(uN().id(t.key).parentId(t.parentKey)(i.source),t.key,xe["eb"]):tT(uN()([{}]),t.key,t.key)),i.source.root=this.value=n,i};var qN={tidy:yN,cluster:cT},$N=["x","y","depth","children"];function WN(t){CN.call(this,t)}WN.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:$N.length,default:$N}]};var HN=Object(xe["y"])(WN,CN);function GN(t){Fa.call(this,[],t)}HN.layout=function(t){var e=t||"tidy";if(Object(xe["v"])(qN,e))return qN[e]();Object(xe["n"])("Unrecognized Tree layout method: "+e)},HN.params=["size","nodeSize"],HN.fields=$N,GN.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};var XN=Object(xe["y"])(GN,Fa);XN.transform=function(t,e){var n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),o={};return r||Object(xe["n"])("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,(function(t){o[Me(t)]=1})),r.each((function(t){var e=t.data,n=t.parent&&t.parent.data;n&&o[Me(e)]&&o[Me(n)]&&i.add.push(Fe({source:n,target:e}))})),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,(function(t){o[Me(t)]=1})),n.forEach((function(t){(o[Me(t.source)]||o[Me(t.target)])&&i.mod.push(t)}))),i};var VN={binary:_N,dice:tN,slice:gN,slicedice:ON,squarify:wN,resquarify:kN},YN=["x0","y0","x1","y1","depth","children"];function JN(t){CN.call(this,t)}JN.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:YN.length,default:YN}]};var ZN=Object(xe["y"])(JN,CN);ZN.layout=function(){var t=xN();return t.ratio=function(e){var n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=function(e){Object(xe["v"])(VN,e)?t.tile(VN[e]):Object(xe["n"])("Unrecognized Treemap layout method: "+e)},t},ZN.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],ZN.fields=YN;var KN=function(t,e){var n,r,i,o,a,u,c=[],s=function(t){return t(o)};if(null==e)c.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],a=e.map(s),u=n[a],u||(n[a]=u=[],u.dims=a,c.push(u)),u.push(o);return c};function QN(t){Fa.call(this,null,t)}QN.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};var tP=Object(xe["y"])(QN,Fa);tP.transform=function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=e.materialize(e.SOURCE).source,i=KN(r,t.groupby),o=(t.groupby||[]).map(xe["h"]),a=o.length,u=t.as||[Object(xe["h"])(t.x),Object(xe["h"])(t.y)],c=[];i.forEach((function(e){Lu(e,t.x,t.y,t.bandwidth||.3).forEach((function(t){for(var n={},r=0;r<a;++r)n[o[r]]=e.dims[r];n[u[0]]=t[0],n[u[1]]=t[1],c.push(Fe(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n};var eP={linear:mu,log:bu,exp:wu,pow:xu,quad:_u,poly:Au};function nP(t,e){return"poly"===t?e:"quad"===t?2:1}function rP(t){Fa.call(this,null,t)}rP.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(eP)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};var iP=Object(xe["y"])(rP,Fa);function oP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uP(t,e,n){return e&&aP(t.prototype,e),n&&aP(t,n),t}iP.transform=function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=e.materialize(e.SOURCE).source,i=KN(r,t.groupby),o=(t.groupby||[]).map(xe["h"]),a=t.method||"linear",u=t.order||3,c=nP(a,u),s=t.as||[Object(xe["h"])(t.x),Object(xe["h"])(t.y)],l=eP[a],f=[],h=t.extent;Object(xe["v"])(eP,a)||Object(xe["n"])("Invalid regression method: "+a),null!=h&&"log"===a&&h[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach((function(n){var r=n.length;if(r<=c)e.dataflow.warn("Skipping regression with more parameters than data points.");else{var i=l(n,t.x,t.y,u);if(t.params)f.push(Fe({keys:n.dims,coef:i.coef,rSquared:i.rSquared}));else{var d=h||Object(xe["p"])(n,t.x),p=function(t){for(var e={},r=0;r<o.length;++r)e[o[r]]=n.dims[r];e[s[0]]=t[0],e[s[1]]=t[1],f.push(Fe(e))};"linear"===a?d.forEach((function(t){return p([t,i.predict(t)])})):$u(i.predict,d,25,200).forEach(p)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n};var cP=Math.pow(2,-52),sP=new Uint32Array(512),lP=function(){function t(e){oP(this,t);var n=e.length>>1;if(n>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return uP(t,null,[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wP,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xP,i=e.length,o=new Float64Array(2*i),a=0;a<i;a++){var u=e[a];o[2*a]=n(u),o[2*a+1]=r(u)}return new t(o)}}]),uP(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=t.length>>1,a=1/0,u=1/0,c=-1/0,s=-1/0,l=0;l<o;l++){var f=t[2*l],h=t[2*l+1];f<a&&(a=f),h<u&&(u=h),f>c&&(c=f),h>s&&(s=h),this._ids[l]=l}for(var d,p,v,y=(a+c)/2,g=(u+s)/2,m=1/0,b=0;b<o;b++){var w=hP(y,g,t[2*b],t[2*b+1]);w<m&&(d=b,m=w)}var x=t[2*d],_=t[2*d+1];m=1/0;for(var O=0;O<o;O++)if(O!==d){var k=hP(x,_,t[2*O],t[2*O+1]);k<m&&k>0&&(p=O,m=k)}for(var S=t[2*p],j=t[2*p+1],A=1/0,E=0;E<o;E++)if(E!==d&&E!==p){var C=yP(x,_,S,j,t[2*E],t[2*E+1]);C<A&&(v=E,A=C)}var M=t[2*v],D=t[2*v+1];if(A===1/0){for(var F=0;F<o;F++)this._dists[F]=t[2*F]-t[0]||t[2*F+1]-t[1];mP(this._ids,this._dists,0,o-1);for(var T=new Uint32Array(o),N=0,P=0,R=-1/0;P<o;P++){var I=this._ids[P];this._dists[I]>R&&(T[N++]=I,R=this._dists[I])}return this.hull=T.subarray(0,N),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(pP(x,_,S,j,M,D)){var L=p,z=S,B=j;p=v,S=M,j=D,v=L,M=z,D=B}var U=gP(x,_,S,j,M,D);this._cx=U.x,this._cy=U.y;for(var q=0;q<o;q++)this._dists[q]=hP(t[2*q],t[2*q+1],U.x,U.y);mP(this._ids,this._dists,0,o-1),this._hullStart=d;var $=3;n[d]=e[v]=p,n[p]=e[d]=v,n[v]=e[p]=d,r[d]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(x,_)]=d,i[this._hashKey(S,j)]=p,i[this._hashKey(M,D)]=v,this.trianglesLen=0,this._addTriangle(d,p,v,-1,-1,-1);for(var W,H,G=0;G<this._ids.length;G++){var X=this._ids[G],V=t[2*X],Y=t[2*X+1];if(!(G>0&&Math.abs(V-W)<=cP&&Math.abs(Y-H)<=cP)&&(W=V,H=Y,X!==d&&X!==p&&X!==v)){for(var J=0,Z=0,K=this._hashKey(V,Y);Z<this._hashSize;Z++)if(J=i[(K+Z)%this._hashSize],-1!==J&&J!==n[J])break;J=e[J];var Q=J,tt=void 0;while(tt=n[Q],!pP(V,Y,t[2*Q],t[2*Q+1],t[2*tt],t[2*tt+1]))if(Q=tt,Q===J){Q=-1;break}if(-1!==Q){var et=this._addTriangle(Q,X,n[Q],-1,-1,r[Q]);r[X]=this._legalize(et+2),r[Q]=et,$++;var nt=n[Q];while(tt=n[nt],pP(V,Y,t[2*nt],t[2*nt+1],t[2*tt],t[2*tt+1]))et=this._addTriangle(nt,X,tt,r[X],-1,r[nt]),r[X]=this._legalize(et+2),n[nt]=nt,$--,nt=tt;if(Q===J)while(tt=e[Q],pP(V,Y,t[2*tt],t[2*tt+1],t[2*Q],t[2*Q+1]))et=this._addTriangle(tt,X,Q,-1,r[Q],r[tt]),this._legalize(et+2),r[tt]=et,n[Q]=Q,$--,Q=tt;this._hullStart=e[X]=Q,n[Q]=e[nt]=X,n[X]=nt,i[this._hashKey(V,Y)]=X,i[this._hashKey(t[2*Q],t[2*Q+1])]=Q}}}this.hull=new Uint32Array($);for(var rt=0,it=this._hullStart;rt<$;rt++)this.hull[rt]=it,it=n[it];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor(fP(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(t){var e=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;while(1){var a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1!==a){var c=a-a%3,s=u+(t+1)%3,l=c+(a+2)%3,f=e[o],h=e[t],d=e[s],p=e[l],v=vP(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1]);if(v){e[t]=p,e[a]=f;var y=n[l];if(-1===y){var g=this._hullStart;do{if(this._hullTri[g]===l){this._hullTri[g]=t;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(t,y),this._link(a,n[o]),this._link(o,l);var m=c+(a+1)%3;i<sP.length&&(sP[i++]=m)}else{if(0===i)break;t=sP[--i]}}else{if(0===i)break;t=sP[--i]}}return o}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}]),t}();function fP(t,e){var n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function hP(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function dP(t,e,n,r,i,o){var a=(r-e)*(i-t),u=(n-t)*(o-e);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function pP(t,e,n,r,i,o){var a=dP(i,o,t,e,n,r)||dP(t,e,n,r,i,o)||dP(n,r,i,o,t,e);return a<0}function vP(t,e,n,r,i,o,a,u){var c=t-a,s=e-u,l=n-a,f=r-u,h=i-a,d=o-u,p=c*c+s*s,v=l*l+f*f,y=h*h+d*d;return c*(f*y-v*d)-s*(l*y-v*h)+p*(l*d-f*h)<0}function yP(t,e,n,r,i,o){var a=n-t,u=r-e,c=i-t,s=o-e,l=a*a+u*u,f=c*c+s*s,h=.5/(a*s-u*c),d=(s*l-u*f)*h,p=(a*f-c*l)*h;return d*d+p*p}function gP(t,e,n,r,i,o){var a=n-t,u=r-e,c=i-t,s=o-e,l=a*a+u*u,f=c*c+s*s,h=.5/(a*s-u*c),d=t+(s*l-u*f)*h,p=e+(a*f-c*l)*h;return{x:d,y:p}}function mP(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){var o=t[i],a=e[o],u=i-1;while(u>=n&&e[t[u]]>a)t[u+1]=t[u--];t[u+1]=o}else{var c=n+r>>1,s=n+1,l=r;bP(t,c,s),e[t[n]]>e[t[r]]&&bP(t,n,r),e[t[s]]>e[t[r]]&&bP(t,s,r),e[t[n]]>e[t[s]]&&bP(t,n,s);var f=t[s],h=e[f];while(1){do{s++}while(e[t[s]]<h);do{l--}while(e[t[l]]>h);if(l<s)break;bP(t,s,l)}t[n+1]=t[l],t[l]=f,r-s+1>=l-n?(mP(t,e,s,r),mP(t,e,n,l-1)):(mP(t,e,n,l-1),mP(t,e,s,r))}}function bP(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function wP(t){return t[0]}function xP(t){return t[1]}function _P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kP(t,e,n){return e&&OP(t.prototype,e),n&&OP(t,n),t}var SP=1e-6,jP=function(){function t(){_P(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return kP(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){t=+t,e=+e,n=+n;var r=t+n,i=e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>SP||Math.abs(this._y1-i)>SP)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}();function AP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CP(t,e,n){return e&&EP(t.prototype,e),n&&EP(t,n),t}var MP=function(){function t(){AP(this,t),this._=[]}return CP(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}();function DP(t,e){return NP(t)||TP(t,e)||FP()}function FP(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function TP(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function NP(t){if(Array.isArray(t))return t}function PP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IP(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),t}var LP=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=DP(n,4),i=r[0],o=r[1],a=r[2],u=r[3];if(PP(this,t),!((a=+a)>=(i=+i))||!((u=+u)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=a,this.xmin=i,this.ymax=u,this.ymin=o,this._init()}return IP(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),c=0,s=0,l=o.length;c<l;c+=3,s+=2){var f=2*o[c],h=2*o[c+1],d=2*o[c+2],p=r[f],v=r[f+1],y=r[h],g=r[h+1],m=r[d],b=r[d+1],w=y-p,x=g-v,_=m-p,O=b-v,k=w*w+x*x,S=_*_+O*O,j=2*(w*O-x*_);if(j)if(Math.abs(j)<1e-8)t=(p+m)/2,e=(v+b)/2;else{var A=1/j;t=p+(O*k-x*S)*A,e=v+(w*S-_*k)*A}else t=(p+m)/2-1e8*O,e=(v+b)/2+1e8*_;u[s]=t,u[s+1]=e}var E,C,M,D=i[i.length-1],F=4*D,T=r[2*D],N=r[2*D+1];a.fill(0);for(var P=0;P<i.length;++P)D=i[P],E=F,C=T,M=N,F=4*D,T=r[2*D],N=r[2*D+1],a[E+2]=a[F]=M-N,a[E+3]=a[F+1]=T-C}},{key:"render",value:function(t){var e=null==t?t=new jP:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,u=this.vectors;if(o.length<=1)return null;for(var c=0,s=r.length;c<s;++c){var l=r[c];if(!(l<c)){var f=2*Math.floor(c/3),h=2*Math.floor(l/3),d=a[f],p=a[f+1],v=a[h],y=a[h+1];this._renderSegment(d,p,v,y,t)}}for(var g,m=o[o.length-1],b=0;b<o.length;++b){g=m,m=o[b];var w=2*Math.floor(i[m]/3),x=a[w],_=a[w+1],O=4*g,k=this._project(x,_,u[O+2],u[O+3]);k&&this._renderSegment(x,_,k[0],k[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new jP:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new jP:void 0,r=this._clip(t);if(null!==r){e.moveTo(r[0],r[1]);var i=r.length;while(r[0]===r[i-2]&&r[1]===r[i-1]&&i>1)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:w.a.mark((function t(){var e,n,r,i;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,r=e.length/2;case 2:if(!(n<r)){t.next=10;break}if(i=this.cellPolygon(n),!i){t.next=7;break}return t.next=7,i;case 7:++n,t.next=2;break;case 10:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new MP;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var o,a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(t,e,n){return e=+e,e===e&&(n=+n,n===n)&&this.delaunay._step(t,e,n)===t}},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[t];if(-1===a)return null;var u=[],c=a;do{var s=Math.floor(c/3);if(u.push(e[2*s],e[2*s+1]),c=c%3===2?c-2:c+1,o[c]!==t)break;c=i[c]}while(c!==a&&-1!==c);return u}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,o,a,u=e.length,c=null,s=e[u-2],l=e[u-1],f=this._regioncode(s,l),h=0;h<u;h+=2)if(n=s,r=l,s=e[h],l=e[h+1],i=f,f=this._regioncode(s,l),0===i&&0===f)o=a,a=0,c?c.push(s,l):c=[s,l];else{var d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(0===i){if(null===(d=this._clipSegment(n,r,s,l,i,f)))continue;var m=d,b=DP(m,4);p=b[0],v=b[1],y=b[2],g=b[3]}else{if(null===(d=this._clipSegment(s,l,n,r,f,i)))continue;var w=d,x=DP(w,4);y=x[0],g=x[1],p=x[2],v=x[3],o=a,a=this._edgecode(p,v),o&&a&&this._edge(t,o,a,c,c.length),c?c.push(p,v):c=[p,v]}o=a,a=this._edgecode(y,g),o&&a&&this._edge(t,o,a,c,c.length),c?c.push(y,g):c=[y,g]}if(c)o=a,a=this._edgecode(c[0],c[1]),o&&a&&this._edge(t,o,a,c,c.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}},{key:"_clipSegment",value:function(t,e,n,r,i,o){while(1){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;var a=void 0,u=void 0,c=i||o;8&c?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&c?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&c?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,o){var a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(var c,s=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);s<l;s+=2)c=f,f=this._edgecode(u[s],u[s+1]),c&&f&&(s=this._edge(t,c,f,u,s),l=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(t,e,n,r,i){while(e!==n){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin;break}r[i]===o&&r[i+1]===a||!this.contains(t,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var c=(u+2)%r.length,s=(u+4)%r.length;(r[u]===r[c]&&r[c]===r[s]||r[u+1]===r[c+1]&&r[c+1]===r[s+1])&&(r.splice(c,2),u-=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),zP=w.a.mark(JP);function BP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qP(t,e,n){return e&&UP(t.prototype,e),n&&UP(t,n),t}var $P=2*Math.PI;function WP(t){return t[0]}function HP(t){return t[1]}function GP(t,e){for(var n,r,i=t.length,o=e[2*t[i-1]],a=e[2*t[i-1]+1],u=0,c=0;c<i;c++)n=o,r=a,o=e[2*t[c]],a=e[2*t[c]+1],u+=r*o-n*a;return u/2}function XP(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var VP=function(){function t(e){BP(this,t),this._delaunator=new lP(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return qP(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&GP(t.hull,e)<1e-10){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[e[2*n],e[2*n+1],e[2*r],e[2*r+1]],o=1e-8*Math.sqrt(Math.pow(i[3]-i[1],2)+Math.pow(i[2]-i[0],2)),a=0,u=e.length/2;a<u;++a){var c=XP(e[2*a],e[2*a+1],o);e[2*a]=c[0],e[2*a+1]=c[1]}this._delaunator=new lP(e)}else delete this.collinear;for(var s=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),d=this._hullIndex.fill(-1),p=0,v=s.length;p<v;++p){var y=f[p%3===2?p-2:p+1];-1!==s[p]&&-1!==h[y]||(h[y]=p)}for(var g=0,m=l.length;g<m;++g)d[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],h[l[0]]=1,2===l.length&&(h[l[1]]=0))}},{key:"voronoi",value:function(t){return new LP(this,t)}},{key:"neighbors",value:w.a.mark((function t(e){var n,r,i,o,a,u,c,s,l,f;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!this.collinear){t.next=10;break}if(u=this.collinear.indexOf(e),!(u>0)){t.next=6;break}return t.next=6,this.collinear[u-1];case 6:if(!(u<this.collinear.length-1)){t.next=9;break}return t.next=9,this.collinear[u+1];case 9:return t.abrupt("return");case 10:if(c=n[e],-1!==c){t.next=13;break}return t.abrupt("return");case 13:s=c,l=-1;case 14:return t.next=16,l=a[s];case 16:if(s=s%3===2?s-2:s+1,a[s]===e){t.next=19;break}return t.abrupt("return");case 19:if(s=o[s],-1!==s){t.next=26;break}if(f=r[(i[e]+1)%r.length],f===l){t.next=25;break}return t.next=25,f;case 25:return t.abrupt("return");case 26:if(s!==c){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t=+t,t!==t||(e=+e,e!==e))return-1;var r,i=n;while((r=this._step(n,t,e))>=0&&r!==n&&r!==i)n=r;return r}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,u=this.triangles,c=this.points;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);var s=t,l=Math.pow(e-c[2*t],2)+Math.pow(n-c[2*t+1],2),f=r[t],h=f;do{var d=u[h],p=Math.pow(e-c[2*d],2)+Math.pow(n-c[2*d+1],2);if(p<l&&(l=p,s=d),h=h%3===2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==d&&Math.pow(e-c[2*h],2)+Math.pow(n-c[2*h+1],2)<l)return h;break}}while(h!==f);return s}},{key:"render",value:function(t){for(var e=null==t?t=new jP:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var u=r[o];if(!(u<o)){var c=2*i[o],s=2*i[u];t.moveTo(n[c],n[c+1]),t.lineTo(n[s],n[s+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==t?t=new jP:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],u=r[i+1];t.moveTo(a+e,u),t.arc(a,u,e,0,$P)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new jP:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var u=2*n[a];t.lineTo(r[u],r[u+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new MP;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new jP:void 0,r=this.points,i=this.triangles,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:w.a.mark((function t(){var e,n,r;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.triangles,n=0,r=e.length/3;case 2:if(!(n<r)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new MP;return this.renderTriangle(t,e),e.value()}}]),t}();function YP(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var u=t[a];o[2*a]=e.call(r,u,a,t),o[2*a+1]=n.call(r,u,a,t)}return o}function JP(t,e,n,r){var i,o,a,u,c,s,l;return w.a.wrap((function(f){while(1)switch(f.prev=f.next){case 0:i=0,o=!0,a=!1,u=void 0,f.prev=4,c=t[Symbol.iterator]();case 6:if(o=(s=c.next()).done){f.next=16;break}return l=s.value,f.next=10,e.call(r,l,i,t);case 10:return f.next=12,n.call(r,l,i,t);case 12:++i;case 13:o=!0,f.next=6;break;case 16:f.next=22;break;case 18:f.prev=18,f.t0=f["catch"](4),a=!0,u=f.t0;case 22:f.prev=22,f.prev=23,o||null==c.return||c.return();case 25:if(f.prev=25,!a){f.next=28;break}throw u;case 28:return f.finish(25);case 29:return f.finish(22);case 30:case"end":return f.stop()}}),zP,null,[[4,18,22,30],[23,,25,29]])}function ZP(t){Fa.call(this,null,t)}VP.from=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HP,r=arguments.length>3?arguments[3]:void 0;return new VP("length"in t?YP(t,e,n,r):Float64Array.from(JP(t,e,n,r)))},ZP.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var KP=Object(xe["y"])(ZP,Fa),QP=[-1e5,-1e5,1e5,1e5];function tR(t){for(var e=t[0][0],n=t[0][1],r=t.length-1;t[r][0]===e&&t[r][1]===n;--r);return"M"+t.slice(0,r+1).join("L")+"Z"}KP.transform=function(t,e){var n=t.as||"path",r=e.source;if(!r||!r.length)return e;var i=t.size;i=i?[0,0,i[0],i[1]]:(i=t.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:QP;for(var o=this.value=VP.from(r,t.x,t.y).voronoi(i),a=0,u=r.length;a<u;++a){var c=o.cellPolygon(a);r[a][n]=c?tR(c):null}return e.reflow(t.modified()).modifies(n)};var eR=Math.PI/180,nR=64,rR=2048,iR=function(){var t,e,n,r,i,o,a,u=[256,256],c=sR,s=[],l=Math.random,f={};function h(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(nR<<5)/e,t.height=rR/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function d(t,e,n){var r,i,o,a=e.x,s=e.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),h=c(u),d=l()<.5?1:-1,p=-d;while(r=h(p+=d)){if(i=~~r[0],o=~~r[1],Math.min(Math.abs(i),Math.abs(o))>=f)break;if(e.x=a+i,e.y=s+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>u[0]||e.y+e.y1>u[1])&&(!n||!aR(e,t,u[0]))&&(!n||cR(e,n))){for(var v,y=e.sprite,g=e.width>>5,m=u[0]>>5,b=e.x-(g<<4),w=127&b,x=32-w,_=e.y1-e.y0,O=(e.y+e.y0)*m+(b>>5),k=0;k<_;k++){v=0;for(var S=0;S<=g;S++)t[O+S]|=v<<x|(S<g?(v=y[k*g+S])>>>w:0);O+=m}return e.sprite=null,!0}}return!1}return f.layout=function(){var c=h(Gl()),f=fR((u[0]>>5)*u[1]),p=null,v=s.length,y=-1,g=[],m=s.map((function(u){return{text:t(u),font:e(u),style:r(u),weight:i(u),rotate:o(u),size:~~n(u),padding:a(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(t,e){return e.size-t.size}));while(++y<v){var b=m[y];b.x=u[0]*(l()+.5)>>1,b.y=u[1]*(l()+.5)>>1,oR(c,b,m,y),b.hasText&&d(f,b,p)&&(g.push(b),p?uR(p,b):p=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=u[0]>>1,b.y-=u[1]>>1)}return g},f.words=function(t){return arguments.length?(s=t,f):s},f.size=function(t){return arguments.length?(u=[+t[0],+t[1]],f):u},f.font=function(t){return arguments.length?(e=hR(t),f):e},f.fontStyle=function(t){return arguments.length?(r=hR(t),f):r},f.fontWeight=function(t){return arguments.length?(i=hR(t),f):i},f.rotate=function(t){return arguments.length?(o=hR(t),f):o},f.text=function(e){return arguments.length?(t=hR(e),f):t},f.spiral=function(t){return arguments.length?(c=dR[t]||t,f):c},f.fontSize=function(t){return arguments.length?(n=hR(t),f):n},f.padding=function(t){return arguments.length?(a=hR(t),f):a},f.random=function(t){return arguments.length?(l=t,f):l},f};function oR(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(nR<<5)/o,rR/o);var a,u,c,s,l,f=0,h=0,d=0,p=n.length;--r;while(++r<p){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,c=e.size<<1,e.rotate){var v=Math.sin(e.rotate*eR),y=Math.cos(e.rotate*eR),g=a*y,m=a*v,b=c*y,w=c*v;a=Math.max(Math.abs(g+w),Math.abs(g-w))+31>>5<<5,c=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else a=a+31>>5<<5;if(c>d&&(d=c),f+a>=nR<<5&&(f=0,h+=d,d=0),h+c>=rR)break;i.translate((f+(a>>1))/o,(h+(c>>1))/o),e.rotate&&i.rotate(e.rotate*eR),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=c,e.xoff=f,e.yoff=h,e.x1=a>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}var x=i.getImageData(0,0,(nR<<5)/o,rR/o).data,_=[];while(--r>=0)if(e=n[r],e.hasText){for(a=e.width,u=a>>5,c=e.y1-e.y0,s=0;s<c*u;s++)_[s]=0;if(f=e.xoff,null==f)return;h=e.yoff;var O=0,k=-1;for(l=0;l<c;l++){for(s=0;s<a;s++){var S=u*l+(s>>5),j=x[(h+l)*(nR<<5)+(f+s)<<2]?1<<31-s%32:0;_[S]|=j,O|=j}O?k=l:(e.y0++,c--,l--,h++)}e.y1=e.y0+k,e.sprite=_.slice(0,(e.y1-e.y0)*u)}}}function aR(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),u=127&a,c=32-u,s=t.y1-t.y0,l=(t.y+t.y0)*n+(a>>5),f=0;f<s;f++){r=0;for(var h=0;h<=o;h++)if((r<<c|(h<o?(r=i[f*o+h])>>>u:0))&e[l+h])return!0;l+=n}return!1}function uR(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function cR(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function sR(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function lR(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(t){var o=t<0?-1:1;switch(Math.sqrt(1+4*o*t)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function fR(t){var e=[],n=-1;while(++n<t)e[n]=0;return e}function hR(t){return"function"===typeof t?t:function(){return t}}var dR={archimedean:sR,rectangular:lR},pR=["x","y","font","fontSize","fontStyle","fontWeight","angle"],vR=["text","font","rotate","fontSize","fontStyle","fontWeight"];function yR(t){Fa.call(this,iR(),t)}yR.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:pR}]};var gR=Object(xe["y"])(yR,Fa);function mR(t,e){for(var n,r=1/0,i=-1/0,o=0,a=e.length;o<a;++o)n=t(e[o]),n<r&&(r=n),n>i&&(i=n);return[r,i]}function bR(t){return new Uint8Array(t)}function wR(t){return new Uint16Array(t)}function xR(t){return new Uint32Array(t)}function _R(){var t=8,e=[],n=xR(0),r=kR(0,t),i=kR(0,t);return{data:function(){return e},seen:function(){return n=OR(n,e.length)},add:function(t){for(var n,r=0,i=e.length,o=t.length;r<o;++r)n=t[r],n._index=i++,e.push(n)},remove:function(t,n){var o,a,u,c=e.length,s=Array(c-t),l=e;for(a=0;!n[a]&&a<c;++a)s[a]=e[a],l[a]=a;for(u=a;a<c;++a)o=e[a],n[a]?l[a]=-1:(l[a]=u,r[u]=r[a],i[u]=i[a],s[u]=o,o._index=u++),r[a]=0;return e=s,l},size:function(){return e.length},curr:function(){return r},prev:function(){return i},reset:function(t){i[t]=r[t]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(t,e){r[t]|=e},clear:function(t,e){r[t]&=~e},resize:function(e,n){var o=r.length;(e>o||n>t)&&(t=Math.max(n,t),r=kR(e,t,r),i=kR(e,t))}}}function OR(t,e,n){return t.length>=e?t:(n=n||new t.constructor(e),n.set(t),n)}function kR(t,e,n){var r=(e<257?bR:e<65537?wR:xR)(t);return n&&r.set(n),r}gR.transform=function(t,e){function n(n){var r=t[n];return Object(xe["D"])(r)&&e.modified(r.fields)}!t.size||t.size[0]&&t.size[1]||Object(xe["n"])("Wordcloud size dimensions must be non-zero.");var r=t.modified();if(r||e.changed(e.ADD_REM)||vR.some(n)){var i,o=e.materialize(e.SOURCE).source,a=this.value,u=t.as||pR,c=t.fontSize||14;if(Object(xe["D"])(c)?i=t.fontSizeRange:c=Object(xe["l"])(c),i){var s=c,l=kO("sqrt")().domain(mR(s,o)).range(i);c=function(t){return l(s(t))}}o.forEach((function(t){t[u[0]]=NaN,t[u[1]]=NaN,t[u[3]]=0}));for(var f,h,d=a.words(o).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(c).random(Ja).layout(),p=a.size(),v=p[0]>>1,y=p[1]>>1,g=0,m=d.length;g<m;++g)f=d[g],h=f.datum,h[u[0]]=f.x+v,h[u[1]]=f.y+y,h[u[2]]=f.font,h[u[3]]=f.size,h[u[4]]=f.style,h[u[5]]=f.weight,h[u[6]]=f.rotate;return e.reflow(r).modifies(u)}};var SR=function(t,e,n){var r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,e){var n,i=this,o=i.bisect(i.range,t.value),a=t.index,u=o[0],c=o[1],s=a.length;for(n=0;n<u;++n)e[a[n]]|=r;for(n=c;n<s;++n)e[a[n]]|=r;return i}}},jR=function(t,e){return Array.from(e,(function(e){return t[e]}))};function AR(){var t=xR(0),e=[],n=0;function r(r,i,o){if(!i.length)return[];var a,u,c,s=n,l=i.length,f=Array(l),h=xR(l);for(c=0;c<l;++c)f[c]=r(i[c]),h[c]=c;if(f=ER(f,h),s)a=e,u=t,e=Array(s+l),t=xR(s+l),CR(o,a,u,s,f,h,l,e,t);else{if(o>0)for(c=0;c<l;++c)h[c]+=o;e=f,t=h}return n=s+l,{index:h,value:f}}function i(r,i){var o,a,u,c=n;for(a=0;!i[t[a]]&&a<c;++a);for(u=a;a<c;++a)i[o=t[a]]||(t[u]=o,e[u]=e[a],++u);n=c-r}function o(e){for(var r=0,i=n;r<i;++r)t[r]=e[t[r]]}function a(t,r){var i;return r?i=r.length:(r=e,i=n),[Xm(r,t[0],0,i),Gm(r,t[1],0,i)]}return{insert:r,remove:i,bisect:a,reindex:o,index:function(){return t},size:function(){return n}}}function ER(t,e){return t.sort.call(e,(function(e,n){var r=t[e],i=t[n];return r<i?-1:r>i?1:0})),jR(t,e)}function CR(t,e,n,r,i,o,a,u,c){var s,l=0,f=0;for(s=0;l<r&&f<a;++s)e[l]<i[f]?(u[s]=e[l],c[s]=n[l++]):(u[s]=i[f],c[s]=o[f++]+t);for(;l<r;++l,++s)u[s]=e[l],c[s]=n[l];for(;f<a;++f,++s)u[s]=i[f],c[s]=o[f]+t}function MR(t){Fa.call(this,_R(),t),this._indices=null,this._dims=null}MR.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var DR=Object(xe["y"])(MR,Fa);function FR(t){Fa.call(this,null,t)}DR.transform=function(t,e){if(this._dims){var n=t.modified("fields")||t.fields.some((function(t){return e.modified(t.fields)}));return n?this.reinit(t,e):this.eval(t,e)}return this.init(t,e)},DR.init=function(t,e){for(var n,r,i=t.fields,o=t.query,a=this._indices={},u=this._dims=[],c=o.length,s=0;s<c;++s)n=i[s].fname,r=a[n]||(a[n]=AR()),u.push(SR(r,s,o[s]));return this.eval(t,e)},DR.reinit=function(t,e){var n,r,i,o,a,u,c,s,l,f=e.materialize().fork(),h=t.fields,d=t.query,p=this._indices,v=this._dims,y=this.value,g=y.curr(),m=y.prev(),b=y.all(),w=f.rem=f.add,x=f.mod,_=d.length,O={};if(m.set(g),e.rem.length&&(a=this.remove(t,e,f)),e.add.length&&y.add(e.add),e.mod.length)for(u={},o=e.mod,c=0,s=o.length;c<s;++c)u[o[c]._index]=1;for(c=0;c<_;++c)l=h[c],(!v[c]||t.modified("fields",c)||e.modified(l.fields))&&(i=l.fname,(n=O[i])||(p[i]=r=AR(),O[i]=n=r.insert(l,e.source,0)),v[c]=SR(r,c,d[c]).onAdd(n,g));for(c=0,s=y.data().length;c<s;++c)a[c]||(m[c]!==g[c]?w.push(c):u[c]&&g[c]!==b&&x.push(c));return y.mask=(1<<_)-1,f},DR.eval=function(t,e){var n=e.materialize().fork(),r=this._dims.length,i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},DR.insert=function(t,e,n){var r,i,o,a=e.add,u=this.value,c=this._dims,s=this._indices,l=t.fields,f={},h=n.add,d=u.size(),p=d+a.length,v=c.length;u.resize(p,v),u.add(a);var y=u.curr(),g=u.prev(),m=u.all();for(r=0;r<v;++r)i=l[r].fname,o=f[i]||(f[i]=s[i].insert(l[r],a,d)),c[r].onAdd(o,y);for(;d<p;++d)g[d]=m,y[d]!==m&&h.push(d)},DR.modify=function(t,e){var n,r,i,o=e.mod,a=this.value,u=a.curr(),c=a.all(),s=t.mod;for(n=0,r=s.length;n<r;++n)i=s[n]._index,u[i]!==c&&o.push(i)},DR.remove=function(t,e,n){var r,i,o,a,u=this._indices,c=this.value,s=c.curr(),l=c.prev(),f=c.all(),h={},d=n.rem,p=e.rem;for(r=0,i=p.length;r<i;++r)o=p[r]._index,h[o]=1,l[o]=a=s[o],s[o]=f,a!==f&&d.push(o);for(o in u)u[o].remove(i,h);return this.reindex(e,i,h),h},DR.reindex=function(t,e,n){var r=this._indices,i=this.value;t.runAfter((function(){var t=i.remove(e,n);for(var o in r)r[o].reindex(t)}))},DR.update=function(t,e,n){var r,i,o=this._dims,a=t.query,u=e.stamp,c=o.length,s=0;for(n.filters=0,i=0;i<c;++i)t.modified("query",i)&&(r=i,++s);if(1===s)s=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,s=0;i<c;++i)t.modified("query",i)&&(s|=o[i].one,this.incrementAll(o[i],a[i],u,n.add),n.rem=n.add);return s},DR.incrementAll=function(t,e,n,r){var i,o,a,u=this.value,c=u.seen(),s=u.curr(),l=u.prev(),f=t.index(),h=t.bisect(t.range),d=t.bisect(e),p=d[0],v=d[1],y=h[0],g=h[1],m=t.one;if(p<y)for(i=p,o=Math.min(y,v);i<o;++i)a=f[i],c[a]!==n&&(l[a]=s[a],c[a]=n,r.push(a)),s[a]^=m;else if(p>y)for(i=y,o=Math.min(p,g);i<o;++i)a=f[i],c[a]!==n&&(l[a]=s[a],c[a]=n,r.push(a)),s[a]^=m;if(v>g)for(i=Math.max(p,g),o=v;i<o;++i)a=f[i],c[a]!==n&&(l[a]=s[a],c[a]=n,r.push(a)),s[a]^=m;else if(v<g)for(i=Math.max(y,v),o=g;i<o;++i)a=f[i],c[a]!==n&&(l[a]=s[a],c[a]=n,r.push(a)),s[a]^=m;t.range=e.slice()},DR.incrementOne=function(t,e,n,r){var i,o,a,u=this.value,c=u.curr(),s=t.index(),l=t.bisect(t.range),f=t.bisect(e),h=f[0],d=f[1],p=l[0],v=l[1],y=t.one;if(h<p)for(i=h,o=Math.min(p,d);i<o;++i)a=s[i],c[a]^=y,n.push(a);else if(h>p)for(i=p,o=Math.min(h,v);i<o;++i)a=s[i],c[a]^=y,r.push(a);if(d>v)for(i=Math.max(h,v),o=d;i<o;++i)a=s[i],c[a]^=y,n.push(a);else if(d<v)for(i=Math.max(p,d),o=v;i<o;++i)a=s[i],c[a]^=y,r.push(a);t.range=e.slice()},FR.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};var TR=Object(xe["y"])(FR,Fa);TR.transform=function(t,e){var n=~(t.ignore||0),r=t.filter,i=r.mask;if(0===(i&n))return e.StopPropagation;var o=e.fork(e.ALL),a=r.data(),u=r.curr(),c=r.prev(),s=function(t){return u[t]&n?null:a[t]};return o.filter(o.MOD,s),i&i-1?(o.filter(o.ADD,(function(t){var e=u[t]&n,r=!e&&e^c[t]&n;return r?a[t]:null})),o.filter(o.REM,(function(t){var e=u[t]&n,r=e&&!(e^e^c[t]&n);return r?a[t]:null}))):(o.filter(o.ADD,s),o.filter(o.REM,(function(t){return(u[t]&n)===i?a[t]:null}))),o.filter(o.SOURCE,(function(t){return s(t._index)}))};var NR=n("f161"),PR="default",RR=function(t){var e=t._signals.cursor;e||(t._signals.cursor=e=t.add({user:PR,item:null})),t.on(t.events("view","mousemove"),e,(function(t,n){var r=e.value,i=r?Object(xe["H"])(r)?r:r.user:PR,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),t.add(null,(function(t){var e=t.cursor,n=this.value;return Object(xe["H"])(e)||(n=e.item,e=e.user),IR(e&&e!==PR?e:n||e),n}),{cursor:e})};function IR(t){"undefined"!==typeof document&&document.body&&(document.body.style.cursor=t)}function LR(t,e){var n=t._runtime.data;return Object(xe["v"])(n,e)||Object(xe["n"])("Unrecognized data set: "+e),n[e]}function zR(t,e){return arguments.length<2?LR(this,t).values.value:BR.call(this,t,Le().remove(xe["eb"]).insert(e))}function BR(t,e){Ie(e)||Object(xe["n"])("Second argument to changes must be a changeset.");var n=LR(this,t);return n.modified=!0,this.pulse(n.input,e)}function UR(t,e){return BR.call(this,t,Le().insert(e))}function qR(t,e){return BR.call(this,t,Le().remove(e))}function $R(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function WR(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function HR(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function GR(t){var e=HR(t),n=$R(t),r=WR(t);t._renderer.background(t._background),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach((function(e){try{e(n,r)}catch(i){t.error(i)}}))}var XR=function(t,e,n){var r,i,o,a=t._renderer,u=a&&a.canvas();return u&&(o=HR(t),i=e.changedTouches?e.changedTouches[0]:e,r=Uv(i,u),r[0]-=o[0],r[1]-=o[1]),e.dataflow=t,e.item=n,e.vega=VR(t,n,r),e};function VR(t,e,n){var r=e?"group"===e.mark.marktype?e:e.mark.group:null;function i(t){var n,i=r;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(t){if(!t)return n;Object(xe["H"])(t)&&(t=i(t));var e=n.slice();while(t)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}return{view:Object(xe["l"])(t),item:Object(xe["l"])(e||{}),group:i,xy:o,x:function(t){return o(t)[0]},y:function(t){return o(t)[1]}}}var YR="view",JR="timer",ZR="window",KR={trap:!1};function QR(t){var e=Object(xe["o"])({defaults:{}},t),n=function(t,e){e.forEach((function(e){Object(xe["A"])(t[e])&&(t[e]=Object(xe["bb"])(t[e]))}))};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}function tI(t,e){var n=t._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}function eI(t,e,n){var r=t._eventConfig&&t._eventConfig[e];return!(!1===r||Object(xe["F"])(r)&&!r[n])||(t.warn("Blocked ".concat(e," ").concat(n," event listener.")),!1)}function nI(t,e,n){var r,i=this,o=new Qe(n),a=function(n,r){i.runAsync(null,(function(){t===YR&&tI(i,e)&&n.preventDefault(),o.receive(XR(i,n,r))}))};if(t===JR)eI(i,"timer",e)&&i.timer(a,e);else if(t===YR)eI(i,"view",e)&&i.addEventListener(e,a,KR);else if(t===ZR?eI(i,"window",e)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&eI(i,"selector",e)&&(r=document.querySelectorAll(t)),r){for(var u=0,c=r.length;u<c;++u)r[u].addEventListener(e,a);i._eventListeners.push({type:e,sources:r,handler:a})}else i.warn("Can not resolve event source: "+t);return o}function rI(t){return t.item}function iI(t){return t.item.mark.source}function oI(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}var aI=function(t,e){return t=[t||"hover"],e=[e||"update",t[0]],this.on(this.events("view","mouseover",rI),iI,oI(t)),this.on(this.events("view","mouseout",rI),iI,oI(e)),this},uI=function(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;t=i.length;while(--t>=0)i[t].stop();t=o.length;while(--t>=0){n=o[t],e=n.sources.length;while(--e>=0)n.sources[e].removeEventListener(n.type,n.handler)}return r&&r.call(this,this._handler,null,null,null),this},cI=function(t,e,n){var r=document.createElement(t);for(var i in e)r.setAttribute(i,e[i]);return null!=n&&(r.textContent=n),r},sI="vega-bind",lI="vega-bind-name",fI="vega-bind-radio",hI="vega-option-",dI=function(t,e,n){if(e){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(e){e!==t.signal(r.signal)&&t.runAsync(null,(function(){i.source=!0,t.signal(r.signal,e)}))}},r.debounce&&(i.update=Object(xe["m"])(r.debounce,i.update))),pI(i,e,r,t.signal(r.signal)),i.active||(t.on(t._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(t.signal(r.signal))})),i.active=!0),i}};function pI(t,e,n,r){var i=cI("div",{class:sI});i.appendChild(cI("span",{class:lI},n.name||n.signal)),e.appendChild(i);var o=vI;switch(n.input){case"checkbox":o=yI;break;case"select":o=gI;break;case"radio":o=mI;break;case"range":o=bI;break}o(t,i,n,r)}function vI(t,e,n,r){var i=cI("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",(function(){t.update(i.value)})),t.elements=[i],t.set=function(t){i.value=t}}function yI(t,e,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=cI("input",i);e.appendChild(o),o.addEventListener("change",(function(){t.update(o.checked)})),t.elements=[o],t.set=function(t){o.checked=!!t||null}}function gI(t,e,n,r){var i=cI("select",{name:n.signal});n.options.forEach((function(t){var e={value:t};wI(t,r)&&(e.selected=!0),i.appendChild(cI("option",e,t+""))})),e.appendChild(i),i.addEventListener("change",(function(){t.update(n.options[i.selectedIndex])})),t.elements=[i],t.set=function(t){for(var e=0,r=n.options.length;e<r;++e)if(wI(n.options[e],t))return void(i.selectedIndex=e)}}function mI(t,e,n,r){var i=cI("span",{class:fI});e.appendChild(i),t.elements=n.options.map((function(e){var o=hI+n.signal+"-"+e,a={id:o,type:"radio",name:n.signal,value:e};wI(e,r)&&(a.checked=!0);var u=cI("input",a);return u.addEventListener("change",(function(){t.update(e)})),i.appendChild(u),i.appendChild(cI("label",{for:o},e+"")),u})),t.set=function(e){for(var n=t.elements,r=0,i=n.length;r<i;++r)wI(n[r].value,e)&&(n[r].checked=!0)}}function bI(t,e,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||ub(o,i,100),u=cI("input",{type:"range",name:n.signal,min:o,max:i,step:a});u.value=r;var c=cI("label",{},+r);function s(){c.textContent=u.value,t.update(+u.value)}e.appendChild(u),e.appendChild(c),u.addEventListener("input",s),u.addEventListener("change",s),t.elements=[u],t.set=function(t){u.value=t,c.textContent=t}}function wI(t,e){return t===e||t+""===e+""}var xI=function(t,e,n,r,i,o){return e=e||new r(t.loader()),e.initialize(n,$R(t),WR(t),HR(t),i,o).background(t._background)},_I=function(t,e){return e?function(){try{e.apply(this,arguments)}catch(n){t.error(n)}}:null},OI=function(t,e,n,r){var i=new r(t.loader(),_I(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,HR(t),t);return e&&e.handlers().forEach((function(t){i.on(t.type,t.handler)})),i},kI=function(t,e){var n,r,i=this,o=i._renderType,a=i._eventConfig.bind,u=Yy(o);return t=i._el=t?SI(i,t):null,u||i.error("Unrecognized renderer type: "+o),n=u.handler||Kv,r=t?u.renderer:u.headless,i._renderer=r?xI(i,i._renderer,t,r):null,i._handler=OI(i,i._handler,t,n),i._redraw=!0,t&&"none"!==a&&(e=e?i._elBind=SI(i,e):t.appendChild(cI("div",{class:"vega-bindings"})),i._bind.forEach((function(t){t.param.element&&"container"!==a&&(t.element=SI(i,t.param.element))})),i._bind.forEach((function(t){dI(i,t.element||e,t)}))),i};function SI(t,e){if("string"===typeof e){if("undefined"===typeof document)return t.error("DOM document instance not found."),null;if(e=document.querySelector(e),!e)return t.error("Signal bind element not found: "+e),null}if(e)try{e.innerHTML=""}catch(n){e=null,t.error(n)}return e}function jI(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function AI(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){jI(o,r,i,a,u,"next",t)}function u(t){jI(o,r,i,a,u,"throw",t)}a(void 0)}))}}var EI=function(t,e,n,r){return CI.apply(this,arguments)};function CI(){return CI=AI(w.a.mark((function t(e,n,r,i){var o,a;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=Yy(n),a=o&&o.headless,a||Object(xe["n"])("Unrecognized renderer type: "+n),t.next=4,e.runAsync();case 4:return t.abrupt("return",xI(e,null,null,a,r,i).renderAsync(e._scenegraph.root));case 5:case"end":return t.stop()}}),t)}))),CI.apply(this,arguments)}function MI(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function DI(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){MI(o,r,i,a,u,"next",t)}function u(t){MI(o,r,i,a,u,"throw",t)}a(void 0)}))}}var FI=function(t,e){return TI.apply(this,arguments)};function TI(){return TI=DI(w.a.mark((function t(e,n){var r;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e!==Xy.Canvas&&e!==Xy.SVG&&e!==Xy.PNG&&Object(xe["n"])("Unrecognized image type: "+e),t.next=3,EI(this,e,n);case 3:return r=t.sent,t.abrupt("return",e===Xy.SVG?NI(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return t.stop()}}),t,this)}))),TI.apply(this,arguments)}function NI(t,e){var n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}function PI(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function RI(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){PI(o,r,i,a,u,"next",t)}function u(t){PI(o,r,i,a,u,"throw",t)}a(void 0)}))}}var II=function(t,e){return LI.apply(this,arguments)};function LI(){return LI=RI(w.a.mark((function t(e,n){var r;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,EI(this,Xy.Canvas,e,n);case 2:return r=t.sent,t.abrupt("return",r.canvas());case 4:case"end":return t.stop()}}),t,this)}))),LI.apply(this,arguments)}function zI(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function BI(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){zI(o,r,i,a,u,"next",t)}function u(t){zI(o,r,i,a,u,"throw",t)}a(void 0)}))}}var UI=function(t){return qI.apply(this,arguments)};function qI(){return qI=BI(w.a.mark((function t(e){var n;return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,EI(this,Xy.SVG,e);case 2:return n=t.sent,t.abrupt("return",n.svg());case 4:case"end":return t.stop()}}),t,this)}))),qI.apply(this,arguments)}var $I,WI,HI,GI,XI,VI="RawCode",YI="Literal",JI="Property",ZI="Identifier",KI="ArrayExpression",QI="BinaryExpression",tL="CallExpression",eL="ConditionalExpression",nL="LogicalExpression",rL="MemberExpression",iL="ObjectExpression",oL="UnaryExpression";function aL(t){this.type=t}function uL(t){switch(t.type){case KI:return t.elements;case QI:case nL:return[t.left,t.right];case tL:var e=t.arguments.slice();return e.unshift(t.callee),e;case eL:return[t.test,t.consequent,t.alternate];case rL:return[t.object,t.property];case iL:return t.properties;case JI:return[t.key,t.value];case oL:return[t.argument];case ZI:case YI:case VI:default:return[]}}aL.prototype.visit=function(t){var e,n,r,i=this;if(t(i))return 1;for(e=uL(i),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};var cL=1,sL=2,lL=3,fL=4,hL=5,dL=6,pL=7,vL=8,yL=9;$I={},$I[cL]="Boolean",$I[sL]="<end>",$I[lL]="Identifier",$I[fL]="Keyword",$I[hL]="Null",$I[dL]="Numeric",$I[pL]="Punctuator",$I[vL]="String",$I[yL]="RegularExpression";var gL="ArrayExpression",mL="BinaryExpression",bL="CallExpression",wL="ConditionalExpression",xL="Identifier",_L="Literal",OL="LogicalExpression",kL="MemberExpression",SL="ObjectExpression",jL="Property",AL="UnaryExpression",EL="Unexpected token %0",CL="Unexpected number",ML="Unexpected string",DL="Unexpected identifier",FL="Unexpected reserved word",TL="Unexpected end of input",NL="Invalid regular expression",PL="Invalid regular expression: missing /",RL="Octal literals are not allowed in strict mode.",IL="Duplicate data property in object literal not allowed in strict mode",LL="ILLEGAL",zL="Disabled.",BL=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),UL=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function qL(t,e){if(!t)throw new Error("ASSERT: "+e)}function $L(t){return t>=48&&t<=57}function WL(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function HL(t){return"01234567".indexOf(t)>=0}function GL(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function XL(t){return 10===t||13===t||8232===t||8233===t}function VL(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&BL.test(String.fromCharCode(t))}function YL(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&UL.test(String.fromCharCode(t))}var JL={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ZL(){var t;while(HI<GI){if(t=WI.charCodeAt(HI),!GL(t)&&!XL(t))break;++HI}}function KL(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)HI<GI&&WL(WI[HI])?(r=WI[HI++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):jz({},EL,LL);return String.fromCharCode(i)}function QL(){var t,e,n,r;t=WI[HI],e=0,"}"===t&&jz({},EL,LL);while(HI<GI){if(t=WI[HI++],!WL(t))break;e=16*e+"0123456789abcdef".indexOf(t.toLowerCase())}return(e>1114111||"}"!==t)&&jz({},EL,LL),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function tz(){var t,e;t=WI.charCodeAt(HI++),e=String.fromCharCode(t),92===t&&(117!==WI.charCodeAt(HI)&&jz({},EL,LL),++HI,t=KL("u"),t&&"\\"!==t&&VL(t.charCodeAt(0))||jz({},EL,LL),e=t);while(HI<GI){if(t=WI.charCodeAt(HI),!YL(t))break;++HI,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==WI.charCodeAt(HI)&&jz({},EL,LL),++HI,t=KL("u"),t&&"\\"!==t&&YL(t.charCodeAt(0))||jz({},EL,LL),e+=t)}return e}function ez(){var t,e;t=HI++;while(HI<GI){if(e=WI.charCodeAt(HI),92===e)return HI=t,tz();if(!YL(e))break;++HI}return WI.slice(t,HI)}function nz(){var t,e,n;return t=HI,e=92===WI.charCodeAt(HI)?tz():ez(),n=1===e.length?lL:JL.hasOwnProperty(e)?fL:"null"===e?hL:"true"===e||"false"===e?cL:lL,{type:n,value:e,start:t,end:HI}}function rz(){var t,e,n,r,i=HI,o=WI.charCodeAt(HI),a=WI[HI];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++HI,{type:pL,value:String.fromCharCode(o),start:i,end:HI};default:if(t=WI.charCodeAt(HI+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return HI+=2,{type:pL,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:HI};case 33:case 61:return HI+=2,61===WI.charCodeAt(HI)&&++HI,{type:pL,value:WI.slice(i,HI),start:i,end:HI}}}return r=WI.substr(HI,4),">>>="===r?(HI+=4,{type:pL,value:r,start:i,end:HI}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(HI+=3,{type:pL,value:n,start:i,end:HI}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(HI+=2,{type:pL,value:e,start:i,end:HI}):"<>=!+-*%&|^/".indexOf(a)>=0?(++HI,{type:pL,value:a,start:i,end:HI}):void jz({},EL,LL)))}function iz(t){var e="";while(HI<GI){if(!WL(WI[HI]))break;e+=WI[HI++]}return 0===e.length&&jz({},EL,LL),VL(WI.charCodeAt(HI))&&jz({},EL,LL),{type:dL,value:parseInt("0x"+e,16),start:t,end:HI}}function oz(t){var e="0"+WI[HI++];while(HI<GI){if(!HL(WI[HI]))break;e+=WI[HI++]}return(VL(WI.charCodeAt(HI))||$L(WI.charCodeAt(HI)))&&jz({},EL,LL),{type:dL,value:parseInt(e,8),octal:!0,start:t,end:HI}}function az(){var t,e,n;if(n=WI[HI],qL($L(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=HI,t="","."!==n){if(t=WI[HI++],n=WI[HI],"0"===t){if("x"===n||"X"===n)return++HI,iz(e);if(HL(n))return oz(e);n&&$L(n.charCodeAt(0))&&jz({},EL,LL)}while($L(WI.charCodeAt(HI)))t+=WI[HI++];n=WI[HI]}if("."===n){t+=WI[HI++];while($L(WI.charCodeAt(HI)))t+=WI[HI++];n=WI[HI]}if("e"===n||"E"===n)if(t+=WI[HI++],n=WI[HI],"+"!==n&&"-"!==n||(t+=WI[HI++]),$L(WI.charCodeAt(HI)))while($L(WI.charCodeAt(HI)))t+=WI[HI++];else jz({},EL,LL);return VL(WI.charCodeAt(HI))&&jz({},EL,LL),{type:dL,value:parseFloat(t),start:e,end:HI}}function uz(){var t,e,n,r,i="",o=!1;t=WI[HI],qL("'"===t||'"'===t,"String literal must starts with a quote"),e=HI,++HI;while(HI<GI){if(n=WI[HI++],n===t){t="";break}if("\\"===n)if(n=WI[HI++],n&&XL(n.charCodeAt(0)))"\r"===n&&"\n"===WI[HI]&&++HI;else switch(n){case"u":case"x":"{"===WI[HI]?(++HI,i+=QL()):i+=KL(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:HL(n)?(r="01234567".indexOf(n),0!==r&&(o=!0),HI<GI&&HL(WI[HI])&&(o=!0,r=8*r+"01234567".indexOf(WI[HI++]),"0123".indexOf(n)>=0&&HI<GI&&HL(WI[HI])&&(r=8*r+"01234567".indexOf(WI[HI++]))),i+=String.fromCharCode(r)):i+=n;break}else{if(XL(n.charCodeAt(0)))break;i+=n}}return""!==t&&jz({},EL,LL),{type:vL,value:i,octal:o,start:e,end:HI}}function cz(t,e){var n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(t,e){if(parseInt(e,16)<=1114111)return"x";jz({},NL)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){jz({},NL)}try{return new RegExp(t,e)}catch(i){return null}}function sz(){var t,e,n,r,i;t=WI[HI],qL("/"===t,"Regular expression literal must start with a slash"),e=WI[HI++],n=!1,r=!1;while(HI<GI)if(t=WI[HI++],e+=t,"\\"===t)t=WI[HI++],XL(t.charCodeAt(0))&&jz({},PL),e+=t;else if(XL(t.charCodeAt(0)))jz({},PL);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||jz({},PL),i=e.substr(1,e.length-2),{value:i,literal:e}}function lz(){var t,e,n;e="",n="";while(HI<GI){if(t=WI[HI],!YL(t.charCodeAt(0)))break;++HI,"\\"===t&&HI<GI?jz({},EL,LL):(n+=t,e+=t)}return n.search(/[^gimuy]/g)>=0&&jz({},NL,n),{value:n,literal:e}}function fz(){var t,e,n,r;return XI=null,ZL(),t=HI,e=sz(),n=lz(),r=cz(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:HI}}function hz(t){return t.type===lL||t.type===fL||t.type===cL||t.type===hL}function dz(){var t;return ZL(),HI>=GI?{type:sL,start:HI,end:HI}:(t=WI.charCodeAt(HI),VL(t)?nz():40===t||41===t||59===t?rz():39===t||34===t?uz():46===t?$L(WI.charCodeAt(HI+1))?az():rz():$L(t)?az():rz())}function pz(){var t;return t=XI,HI=t.end,XI=dz(),HI=t.end,t}function vz(){var t;t=HI,XI=dz(),HI=t}function yz(t){var e=new aL(gL);return e.elements=t,e}function gz(t,e,n){var r=new aL("||"===t||"&&"===t?OL:mL);return r.operator=t,r.left=e,r.right=n,r}function mz(t,e){var n=new aL(bL);return n.callee=t,n.arguments=e,n}function bz(t,e,n){var r=new aL(wL);return r.test=t,r.consequent=e,r.alternate=n,r}function wz(t){var e=new aL(xL);return e.name=t,e}function xz(t){var e=new aL(_L);return e.value=t.value,e.raw=WI.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function _z(t,e,n){var r=new aL(kL);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function Oz(t){var e=new aL(SL);return e.properties=t,e}function kz(t,e,n){var r=new aL(jL);return r.key=e,r.value=n,r.kind=t,r}function Sz(t,e){var n=new aL(AL);return n.operator=t,n.argument=e,n.prefix=!0,n}function jz(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(function(t,e){return qL(e<r.length,"Message reference must be in range"),r[e]}));throw n=new Error(i),n.index=HI,n.description=i,n}function Az(t){t.type===sL&&jz(t,TL),t.type===dL&&jz(t,CL),t.type===vL&&jz(t,ML),t.type===lL&&jz(t,DL),t.type===fL&&jz(t,FL),jz(t,EL,t.value)}function Ez(t){var e=pz();e.type===pL&&e.value===t||Az(e)}function Cz(t){return XI.type===pL&&XI.value===t}function Mz(t){return XI.type===fL&&XI.value===t}function Dz(){var t=[];HI=XI.start,Ez("[");while(!Cz("]"))Cz(",")?(pz(),t.push(null)):(t.push(Xz()),Cz("]")||Ez(","));return pz(),yz(t)}function Fz(){var t;return HI=XI.start,t=pz(),t.type===vL||t.type===dL?(t.octal&&jz(t,RL),xz(t)):wz(t.value)}function Tz(){var t,e,n,r;return HI=XI.start,t=XI,t.type===lL?(n=Fz(),Ez(":"),r=Xz(),kz("init",n,r)):t.type!==sL&&t.type!==pL?(e=Fz(),Ez(":"),r=Xz(),kz("init",e,r)):void Az(t)}function Nz(){var t,e,n,r=[],i={},o=String;HI=XI.start,Ez("{");while(!Cz("}"))t=Tz(),e=t.key.type===xL?t.key.name:o(t.key.value),n="$"+e,Object.prototype.hasOwnProperty.call(i,n)?jz({},IL):i[n]=!0,r.push(t),Cz("}")||Ez(",");return Ez("}"),Oz(r)}function Pz(){var t;return Ez("("),t=Vz(),Ez(")"),t}var Rz={if:1,this:1};function Iz(){var t,e,n;if(Cz("("))return Pz();if(Cz("["))return Dz();if(Cz("{"))return Nz();if(t=XI.type,HI=XI.start,t===lL||Rz[XI.value])n=wz(pz().value);else if(t===vL||t===dL)XI.octal&&jz(XI,RL),n=xz(pz());else{if(t===fL)throw new Error(zL);t===cL?(e=pz(),e.value="true"===e.value,n=xz(e)):t===hL?(e=pz(),e.value=null,n=xz(e)):Cz("/")||Cz("/=")?(n=xz(fz()),vz()):Az(pz())}return n}function Lz(){var t=[];if(Ez("("),!Cz(")"))while(HI<GI){if(t.push(Xz()),Cz(")"))break;Ez(",")}return Ez(")"),t}function zz(){var t;return HI=XI.start,t=pz(),hz(t)||Az(t),wz(t.value)}function Bz(){return Ez("."),zz()}function Uz(){var t;return Ez("["),t=Vz(),Ez("]"),t}function qz(){var t,e,n;for(t=Iz();;)if(Cz("."))n=Bz(),t=_z(".",t,n);else if(Cz("("))e=Lz(),t=mz(t,e);else{if(!Cz("["))break;n=Uz(),t=_z("[",t,n)}return t}function $z(){var t=qz();if(XI.type===pL&&(Cz("++")||Cz("--")))throw new Error(zL);return t}function Wz(){var t,e;if(XI.type!==pL&&XI.type!==fL)e=$z();else{if(Cz("++")||Cz("--"))throw new Error(zL);if(Cz("+")||Cz("-")||Cz("~")||Cz("!"))t=pz(),e=Wz(),e=Sz(t.value,e);else{if(Mz("delete")||Mz("void")||Mz("typeof"))throw new Error(zL);e=$z()}}return e}function Hz(t){var e=0;if(t.type!==pL&&t.type!==fL)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break;default:break}return e}function Gz(){var t,e,n,r,i,o,a,u,c,s;if(t=XI,c=Wz(),r=XI,i=Hz(r),0===i)return c;r.prec=i,pz(),e=[t,XI],a=Wz(),o=[c,r,a];while((i=Hz(XI))>0){while(o.length>2&&i<=o[o.length-2].prec)a=o.pop(),u=o.pop().value,c=o.pop(),e.pop(),n=gz(u,c,a),o.push(n);r=pz(),r.prec=i,o.push(r),e.push(XI),n=Wz(),o.push(n)}s=o.length-1,n=o[s],e.pop();while(s>1)e.pop(),n=gz(o[s-1].value,o[s-2],n),s-=2;return n}function Xz(){var t,e,n;return t=Gz(),Cz("?")&&(pz(),e=Xz(),Ez(":"),n=Xz(),t=bz(t,e,n)),t}function Vz(){var t=Xz();if(Cz(","))throw new Error(zL);return t}var Yz=function(t){WI=t,HI=0,GI=WI.length,XI=null,vz();var e=Vz();if(XI.type!==sL)throw new Error("Unexpect token after expression.");return e},Jz={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},Zz=function(t){function e(e,n,r,i){var o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}function n(t,n,r){return function(i){return e(t,i,n,r)}}var r="new Date",i="String",o="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&Object(xe["n"])("Missing arguments to clamp function."),e.length>3&&Object(xe["n"])("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),join:n("join",null),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),reverse:function(e){return"("+t(e[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),replace:n("replace",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(e){e.length<3&&Object(xe["n"])("Missing arguments to if function."),e.length>3&&Object(xe["n"])("Too many arguments to if function.");var n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};function Kz(t){var e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}var Qz=function(t){t=t||{};var e=t.whitelist?Object(xe["bb"])(t.whitelist):{},n=t.blacklist?Object(xe["bb"])(t.blacklist):{},r=t.constants||Jz,i=(t.functions||Zz)(f),o=t.globalvar,a=t.fieldvar,u={},c={},s=0,l=Object(xe["D"])(o)?o:function(t){return o+'["'+t+'"]'};function f(t){if(Object(xe["H"])(t))return t;var e=h[t.type];return null==e&&Object(xe["n"])("Unsupported type: "+t.type),e(t)}var h={Literal:function(t){return t.raw},Identifier:function(t){var i=t.name;return s>0?i:Object(xe["v"])(n,i)?Object(xe["n"])("Illegal identifier: "+i):Object(xe["v"])(r,i)?r[i]:Object(xe["v"])(e,i)?i:(u[i]=1,l(i))},MemberExpression:function(t){var e=!t.computed,n=f(t.object);e&&(s+=1);var r=f(t.property);return n===a&&(c[Kz(r)]=1),e&&(s-=1),n+(e?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&Object(xe["n"])("Illegal callee type: "+t.callee.type);var e=t.callee.name,n=t.arguments,r=Object(xe["v"])(i,e)&&i[e];return r||Object(xe["n"])("Unrecognized function: "+e),Object(xe["D"])(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(f).join(",")+"]"},BinaryExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+f(t.argument)+")"},ConditionalExpression:function(t){return"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")"},LogicalExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(f).join(",")+"}"},Property:function(t){s+=1;var e=f(t.key);return s-=1,e+":"+f(t.value)}};function d(t){var e={code:f(t),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},e}return d.functions=i,d.constants=r,d},tB="intersect",eB="union",nB="E",rB="R",iB="R-E",oB="R-LE",aB="R-RE",uB="index:unit";function cB(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,u=0;u<a;++u)if(r=i[u],r.getter=xe["t"].getter||Object(xe["t"])(r.field),n=r.getter(t),Object(xe["C"])(n)&&(n=Object(xe["ab"])(n)),Object(xe["C"])(o[u])&&(o[u]=Object(xe["ab"])(o[u])),Object(xe["C"])(o[u][0])&&(o[u]=o[u].map(xe["ab"])),r.type===nB){if(Object(xe["A"])(o[u])?o[u].indexOf(n)<0:n!==o[u])return!1}else if(r.type===rB){if(!Object(xe["z"])(n,o[u]))return!1}else if(r.type===aB){if(!Object(xe["z"])(n,o[u],!0,!1))return!1}else if(r.type===iB){if(!Object(xe["z"])(n,o[u],!1,!1))return!1}else if(r.type===oB&&!Object(xe["z"])(n,o[u],!1,!0))return!1;return!0}function sB(t,e,n){for(var r,i,o,a,u,c=this.context.data[t],s=c?c.values.value:[],l=c?c[uB]&&c[uB].value:void 0,f=n===tB,h=s.length,d=0;d<h;++d)if(r=s[d],l&&f){if(i=i||{},o=i[a=r.unit]||0,-1===o)continue;if(u=cB(e,r),i[a]=u?-1:++o,u&&1===l.size)return!0;if(!u&&o===l.get(a).count)return!1}else if(u=cB(e,r),f^u)return u;return h&&f}function lB(t,e){for(var n,r,i,o,a,u,c,s,l,f,h,d=this.context.data[t],p=d?d.values.value:[],v={},y={},g=p.length,m=0;m<g;++m)for(n=p[m],o=n.unit,r=n.fields,i=n.values,f=0,h=r.length;f<h;++f)a=r[f],u=v[a.field]||(v[a.field]={}),c=u[o]||(u[o]=[]),y[a.field]=s=a.type.charAt(0),l=fB[s+"_union"],u[o]=l(c,Object(xe["i"])(i[f]));return e=e||eB,Object.keys(v).forEach((function(t){v[t]=Object.keys(v[t]).map((function(e){return v[t][e]})).reduce((function(n,r){return void 0===n?r:fB[y[t]+"_"+e](n,r)}))})),v}var fB={E_union:function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t},E_intersect:function(t,e){return t.length?t.filter((function(t){return e.indexOf(t)>=0})):e},R_union:function(t,e){var n=Object(xe["ab"])(e[0]),r=Object(xe["ab"])(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]},R_intersect:function(t,e){var n=Object(xe["ab"])(e[0]),r=Object(xe["ab"])(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]}},hB=":",dB="@";function pB(t,e,n,r){e[0].type!==YI&&Object(xe["n"])("First argument to selection functions must be a string literal.");var i=e[0].value,o=e.length>=2&&Object(xe["S"])(e).value,a="unit",u=dB+a,c=hB+i;o!==tB||Object(xe["v"])(r,u)||(r[u]=n.getData(i).indataRef(n,a)),Object(xe["v"])(r,c)||(r[c]=n.getData(i).tuplesRef())}function vB(t){var e=this.context.data[t];return e?e.values.value:[]}function yB(t,e,n){var r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i}function gB(t,e){var n=this.context.dataflow,r=this.context.data[t],i=r.input;return n.pulse(i,n.changeset().remove(xe["eb"]).insert(e)),1}var mB=function(t,e,n){if(t){var r=this.context.dataflow,i=t.mark.source;r.pulse(i,r.changeset().encode(t,e))}return void 0!==n?n:t},bB={};function wB(t,e,n){var r=t+":"+n,i=bB[r];return i&&i[0]===e||(bB[r]=i=[e,e(n)]),i[1]}function xB(t,e){return wB("format",gb,e)(t)}function _B(t,e){return wB("timeFormat",ci,e)(t)}function OB(t,e){return wB("utcFormat",li,e)(t)}function kB(t,e){return wB("timeParse",si,e)(t)}function SB(t,e){return wB("utcParse",fi,e)(t)}var jB=new Date(2e3,0,1);function AB(t,e,n){return Number.isInteger(t)&&Number.isInteger(e)?(jB.setMonth(t),jB.setDate(e),_B(jB,n)):""}function EB(t){return AB(t,1,"%B")}function CB(t){return AB(t,1,"%b")}function MB(t){return AB(0,2+t,"%A")}function DB(t){return AB(0,2+t,"%a")}function FB(t,e){var n;return Object(xe["D"])(t)?t:Object(xe["H"])(t)?(n=e.scales[t])&&n.value:void 0}function TB(t,e){var n=FB(t,(e||this).context);return n&&n.range?n.range():[]}function NB(t,e){var n=FB(t,(e||this).context);return n?n.domain():[]}function PB(t,e){var n=FB(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}function RB(t,e,n){return dm(t||0,e||0,n||0)}function IB(t,e){var n=FB(t,(e||this).context);return n?n.copy():void 0}function LB(t,e,n){var r=FB(t,(n||this).context);return r&&void 0!==e?r(e):void 0}function zB(t,e,n){var r=FB(t,(n||this).context);return r?Object(xe["A"])(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0}function BB(t,e){return function(n,r,i){if(n){var o=FB(n,(i||this).context);return o&&o.path[t](r)}return e(r)}}var UB=BB("area",eA),qB=BB("bounds",XA),$B=BB("centroid",oE),WB=function(t){var e=this.context.group,n=!1;if(e)while(t){if(t===e){n=!0;break}t=t.mark.group}return n};function HB(t,e){return VB(t)||XB(t,e)||GB()}function GB(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function XB(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function VB(t){if(Array.isArray(t))return t}var YB=function(t,e,n){if(!t)return[];var r=HB(t,2),i=r[0],o=r[1],a=(new Rl).set(i[0],i[1],o[0],o[1]),u=n||this.context.dataflow.scenegraph().root;return Jy(u,a,JB(e))};function JB(t){var e=null;if(t){var n=Object(xe["i"])(t.marktype),r=Object(xe["i"])(t.markname);e=function(t){return(!n.length||n.some((function(e){return t.marktype===e})))&&(!r.length||r.some((function(e){return t.name===e})))}}return e}function ZB(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(r){t.warn(r)}return n[n.length-1]}function KB(){return ZB(this.context.dataflow,"warn",arguments)}function QB(){return ZB(this.context.dataflow,"info",arguments)}function tU(){return ZB(this.context.dataflow,"debug",arguments)}var eU=function(){var t=[].slice.call(arguments);return t.unshift({}),xe["o"].apply(null,t)};function nU(t,e){return t===e||t!==t&&e!==e||(Object(xe["A"])(t)?!(!Object(xe["A"])(e)||t.length!==e.length)&&rU(t,e):!(!Object(xe["F"])(t)||!Object(xe["F"])(e))&&iU(t,e))}function rU(t,e){for(var n=0,r=t.length;n<r;++n)if(!nU(t[n],e[n]))return!1;return!0}function iU(t,e){for(var n in t)if(!nU(t[n],e[n]))return!1;return!0}function oU(t){return function(e){return iU(t,e)}}var aU=function(t,e,n,r,i,o){var a,u,c=this.context.dataflow,s=this.context.data[t],l=s.input,f=s.changes,h=c.stamp();if(!1===c._trigger||!(l.value.length||e||r))return 0;if((!f||f.stamp<h)&&(s.changes=f=c.changeset(),f.stamp=h,c.runAfter((function(){s.modified=!0,c.pulse(l,f).run()}),!0,1)),n&&(a=!0===n?xe["eb"]:Object(xe["A"])(n)||Ce(n)?n:oU(n),f.remove(a)),e&&f.insert(e),r&&(a=oU(r),l.value.some(a)?f.remove(a):f.insert(r)),i)for(u in o)f.modify(i,u,o[u]);return 1};function uU(t){var e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+r*r)}function cU(t){var e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)}var sU=function(t,e,n,r,i){t=FB(t,(i||this).context);var o=$l(e,n),a=t.domain(),u=a[0],c=Object(xe["S"])(a),s=xe["x"];return c-u?s=DO(t,u,c):t=(t.interpolator?kO("sequential")().interpolator(t.interpolator()):kO("linear")().interpolate(t.interpolate()).range(t.range())).domain([u=0,c=1]),t.ticks&&(a=t.ticks(+r||15),u!==a[0]&&a.unshift(u),c!==Object(xe["S"])(a)&&a.push(c)),a.forEach((function(e){return o.stop(s(e),t(e))})),o};function lU(t,e,n){var r=FB(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}}function fU(t){var e=null;return function(n){return n?$h(n,e=e||Dh(t)):t}}var hU={};function dU(t){return t.data}function pU(t,e){var n=vB.call(e,t);return n.root&&n.root.lookup||hU}function vU(t,e,n){var r=pU(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map(dU):void 0}function yU(t,e){var n=pU(t,this)[e];return n?n.ancestors().map(dU):void 0}var gU="undefined"!==typeof window&&window||null;function mU(){return gU?gU.screen:{}}function bU(){return gU?[gU.innerWidth,gU.innerHeight]:[void 0,void 0]}function wU(){var t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]}var xU=":",_U="@",OU="%",kU="$";function SU(t,e,n,r){e[0].type!==YI&&Object(xe["n"])("First argument to data functions must be a string literal.");var i=e[0].value,o=xU+i;if(!Object(xe["v"])(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function jU(t,e,n,r){e[0].type!==YI&&Object(xe["n"])("First argument to indata must be a string literal."),e[1].type!==YI&&Object(xe["n"])("Second argument to indata must be a string literal.");var i=e[0].value,o=e[1].value,a=_U+o;Object(xe["v"])(a,r)||(r[a]=n.getData(i).indataRef(n,o))}function AU(t,e,n,r){if(e[0].type===YI)EU(n,r,e[0].value);else if(e[0].type===ZI)for(t in n.scales)EU(n,r,t)}function EU(t,e,n){var r=OU+n;if(!Object(xe["v"])(e,r))try{e[r]=t.scaleRef(n)}catch(i){}}var CU={random:function(){return Ja()},isArray:xe["A"],isBoolean:xe["B"],isDate:xe["C"],isDefined:function(t){return void 0!==t},isNumber:xe["E"],isObject:xe["F"],isRegExp:xe["G"],isString:xe["H"],isTuple:Ce,isValid:function(t){return null!=t&&t===t},toBoolean:xe["Y"],toDate:xe["Z"],toNumber:xe["ab"],toString:xe["cb"],flush:xe["u"],lerp:xe["J"],merge:eU,pad:xe["N"],peek:xe["S"],span:xe["V"],inrange:xe["z"],truncate:xe["db"],rgb:aw,lab:Aw,hcl:Nw,hsl:dw,sequence:Ms,format:xB,utcFormat:OB,utcParse:SB,timeFormat:_B,timeParse:kB,monthFormat:EB,monthAbbrevFormat:CB,dayFormat:MB,dayAbbrevFormat:DB,quarter:xe["T"],utcquarter:xe["fb"],warn:KB,info:QB,debug:tU,extent:xe["p"],inScope:WB,intersect:YB,clampRange:xe["j"],pinchDistance:uU,pinchAngle:cU,screen:mU,containerSize:wU,windowSize:bU,bandspace:RB,setdata:gB,pathShape:fU,panLinear:xe["O"],panLog:xe["P"],panPow:xe["Q"],panSymlog:xe["R"],zoomLinear:xe["ib"],zoomLog:xe["jb"],zoomPow:xe["kb"],zoomSymlog:xe["lb"],encode:mB,modify:aU},MU=["view","item","group","xy","x","y"],DU="event.vega.",FU="this.",TU={};function NU(t){var e=Zz(t);for(var n in MU.forEach((function(t){return e[t]=DU+t})),CU)e[n]=FU+n;return e}function PU(t,e,n){return 1===arguments.length?CU[t]:(CU[t]=e,n&&(TU[t]=n),IU&&(IU.functions[t]=FU+t),this)}PU("bandwidth",PB,AU),PU("copy",IB,AU),PU("domain",NB,AU),PU("range",TB,AU),PU("invert",zB,AU),PU("scale",LB,AU),PU("gradient",sU,AU),PU("geoArea",UB,AU),PU("geoBounds",qB,AU),PU("geoCentroid",$B,AU),PU("geoShape",lU,AU),PU("indata",yB,jU),PU("data",vB,SU),PU("treePath",vU,SU),PU("treeAncestors",yU,SU),PU("vlSelectionTest",sB,pB),PU("vlSelectionResolve",lB,pB);var RU={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_["+Object(xe["X"])(kU+t)+"]"},functions:NU,constants:Jz,visitors:TU},IU=Qz(RU);function LU(t,e,n){";"!==e[e.length-1]&&(e="return("+e+");");var r=Function.apply(null,t.concat(e));return n&&n.functions?r.bind(n.functions):r}function zU(t,e){return LU(["_"],t,e)}function BU(t,e){return LU(["datum","_"],t,e)}function UU(t,e){return LU(["event"],t,e)}function qU(t,e){return LU(["_","event"],t,e)}function $U(t,e){return LU(["item","_"],t,e)}function WU(t,e,n){var r,i;for(r in n=n||{},t)i=t[r],n[r]=Object(xe["A"])(i)?i.map((function(t){return HU(t,e,n)})):HU(i,e,n);return n}function HU(t,e,n){if(!t||!Object(xe["F"])(t))return t;for(var r,i=0,o=GU.length;i<o;++i)if(r=GU[i],Object(xe["v"])(t,r.key))return r.parse(t,e,n);return t}var GU=[{key:"$ref",parse:XU},{key:"$key",parse:YU},{key:"$expr",parse:VU},{key:"$field",parse:JU},{key:"$encode",parse:KU},{key:"$compare",parse:ZU},{key:"$context",parse:QU},{key:"$subflow",parse:tq},{key:"$tupleid",parse:eq}];function XU(t,e){return e.get(t.$ref)||Object(xe["n"])("Operator not defined: "+t.$ref)}function VU(t,e,n){t.$params&&WU(t.$params,e,n);var r="e:"+t.$expr+"_"+t.$name;return e.fn[r]||(e.fn[r]=Object(xe["f"])(BU(t.$expr,e),t.$fields,t.$name))}function YU(t,e){var n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=Object(xe["I"])(t.$key,t.$flat))}function JU(t,e){if(!t.$field)return null;var n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=Object(xe["t"])(t.$field,t.$name))}function ZU(t,e){var n="c:"+t.$compare+"_"+t.$order,r=Object(xe["i"])(t.$compare).map((function(t){return t&&t.$tupleid?Me:t}));return e.fn[n]||(e.fn[n]=Object(xe["k"])(r,t.$order))}function KU(t,e){var n,r,i=t.$encode,o={};for(n in i)r=i[n],o[n]=Object(xe["f"])($U(r.$expr,e),r.$fields),o[n].output=r.$output;return o}function QU(t,e){return e}function tq(t,e){var n=t.$subflow;return function(t,r,i){var o=sq(n,e.fork()),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(i),a}}function eq(){return Me}function nq(t){return(t+"").toLowerCase()}function rq(t){return"operator"===nq(t)}function iq(t){return"collect"===nq(t)}var oq=function(t,e){rq(t.type)||!t.type?e.operator(t,t.update?zU(t.update,e):null):e.transform(t,t.type)};function aq(t,e){if(t.params){var n=e.get(t.id);n||Object(xe["n"])("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(WU(t.params,e),t.react,t.initonly))}}var uq=function(t,e){var n,r=null!=t.filter?UU(t.filter,e):void 0,i=null!=t.stream?e.get(t.stream):void 0;t.source?i=e.events(t.source,t.type,r):t.merge&&(n=t.merge.map(e.get.bind(e)),i=n[0].merge.apply(n[0],n.slice(1))),t.between&&(n=t.between.map(e.get.bind(e)),i=i.between(n[0],n[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&Object(xe["n"])("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),e.stream(t,i)},cq=function(t,e){var n=Object(xe["F"])(n=t.source)?n.$ref:n,r=e.get(n),i=null,o=t.update,a=void 0;r||Object(xe["n"])("Source not defined: "+t.source),i=t.target&&t.target.$expr?UU(t.target.$expr,e):e.get(t.target),o&&o.$expr&&(o.$params&&(a=WU(o.$params,e)),o=qU(o.$expr,e)),e.update(t,r,i,o,a)},sq=function(t,e){var n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),n.forEach((function(t){oq(t,e)})),n.forEach((function(t){aq(t,e)})),(t.streams||[]).forEach((function(t){uq(t,e)})),(t.updates||[]).forEach((function(t){cq(t,e)})),e.resolve()},lq={skip:!0};function fq(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach((function(n){var i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)}))}if(t.data){var i=n.data={};Object.keys(e.data).forEach((function(n){var r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)}))}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map((function(e){return e.getState(t)}))),n}function hq(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach((function(t){n.update(e.signals[t],i[t],lq)})),Object.keys(r||{}).forEach((function(t){n.pulse(e.data[t].input,n.changeset().remove(xe["eb"]).insert(r[t]))})),(t.subcontext||[]).forEach((function(t,n){var r=e.subcontext[n];r&&r.setState(t)}))}var dq=function(t,e,n){return new pq(t,e,n)};function pq(t,e,n){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function vq(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.functions=t.functions,this.events=t.events,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}pq.prototype=vq.prototype={fork:function(){var t=new vq(this);return(this.subcontext||(this.subcontext=[])).push(t),t},get:function(t){return this.nodes[t]},set:function(t,e){return this.nodes[t]=e},add:function(t,e){var n,r=this,i=r.dataflow;if(r.set(t.id,e),iq(t.type)&&(n=t.value)&&(n.$ingest?i.ingest(e,n.$ingest,n.$format):n.$request?i.preload(e,n.$request,n.$format):i.pulse(e,i.changeset().insert(n))),t.root&&(r.root=e),t.parent){var o=r.get(t.parent.$ref);o?(i.connect(o,[e]),e.targets().add(o)):(r.unresolved=r.unresolved||[]).push((function(){o=r.get(t.parent.$ref),i.connect(o,[e]),e.targets().add(o)}))}if(t.signal&&(r.signals[t.signal]=e),t.scale&&(r.scales[t.scale]=e),t.data)for(var a in t.data)n=r.data[a]||(r.data[a]={}),t.data[a].forEach((function(t){n[t]=e}))},resolve:function(){return(this.unresolved||[]).forEach((function(t){t()})),delete this.unresolved,this},operator:function(t,e){this.add(t,this.dataflow.add(t.value,e))},transform:function(t,e){this.add(t,this.dataflow.add(this.transforms[nq(e)]))},stream:function(t,e){this.set(t.id,e)},update:function(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},getState:fq,setState:hq};var yq=function(t,e,n){var r=n||CU;return sq(e,dq(t,Na,r))};function gq(t){var e=this._runtime.scales;return Object(xe["v"])(e,t)||Object(xe["n"])("Unrecognized scale or projection: "+t),e[t].value}var mq="width",bq="height",wq="padding",xq={skip:!0};function _q(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===wq?r.left+r.right:0)}function Oq(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===wq?r.top+r.bottom:0)}function kq(t){var e=t._signals,n=e[mq],r=e[bq],i=e[wq];function o(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,(function(e){t._width=e.size,t._viewWidth=_q(t,e.size),o()}),{size:n}),t._resizeHeight=t.add(null,(function(e){t._height=e.size,t._viewHeight=Oq(t,e.size),o()}),{size:r});var a=t.add(null,o,{pad:i});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function Sq(t,e,n,r,i,o){this.runAfter((function(a){var u=0;a._autosize=0,a.width()!==n&&(u=1,a.signal(mq,n,xq),a._resizeWidth.skip(!0)),a.height()!==r&&(u=1,a.signal(bq,r,xq),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),u&&a.run("enter"),o&&a.runAfter((function(t){return t.resize()}))}),!1,1)}function jq(t){return this._runtime.getState(t||{data:Aq,signals:Eq,recurse:!0})}function Aq(t,e){return e.modified&&Object(xe["A"])(e.input.value)&&t.indexOf("_:vega:_")}function Eq(t,e){return!("parent"===t||e instanceof Na.proxy)}function Cq(t){return this.runAsync(null,(function(e){e._trigger=!1,e._runtime.setState(t)}),(function(t){t._trigger=!0})),this}var Mq=function(t,e){function n(e){t({timestamp:Date.now(),elapsed:e})}this._timers.push(FF(n,e))},Dq=function(t,e,n,r){var i=t.element();i&&i.setAttribute("title",Fq(r))};function Fq(t){return null==t?"":Object(xe["A"])(t)?Nq(t):Object(xe["F"])(t)&&!Object(xe["C"])(t)?Tq(t):t+""}function Tq(t){return Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(xe["A"])(n)?Nq(n):Pq(n))})).join("\n")}function Nq(t){return"["+t.map(Pq).join(", ")+"]"}function Pq(t){return Object(xe["A"])(t)?"[…]":Object(xe["F"])(t)&&!Object(xe["C"])(t)?"{…}":t}function Rq(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function Iq(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Rq(o,r,i,a,u,"next",t)}function u(t){Rq(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Lq(t,e){var n=this;e=e||{},Ca.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),null!=e.logLevel&&n.logLevel(e.logLevel),n._el=null,n._elBind=null,n._renderType=e.renderer||Xy.Canvas,n._scenegraph=new Tv;var r=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||Dq,n._redraw=!0,n._handler=(new Kv).scene(r),n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=QR(t.eventConfig);var i=yq(n,t,e.functions);n._runtime=i,n._signals=i.signals,n._bind=(t.bindings||[]).map((function(t){return{state:null,param:Object(xe["o"])({},t)}})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._background=e.background||i.background||null,n._width=n.width(),n._height=n.height(),n._viewWidth=_q(n,n._width),n._viewHeight=Oq(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,kq(n),RR(n),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}var zq=Object(xe["y"])(Lq,Ca);function Bq(t,e){return Object(xe["v"])(t._signals,e)?t._signals[e]:Object(xe["n"])("Unrecognized signal name: "+Object(xe["X"])(e))}function Uq(t,e){var n=t._targets||[],r=n.filter((function(t){var n=t._update;return n&&n.handler===e}));return r.length?r[0]:null}function qq(t,e,n,r){var i=Uq(n,r);return i||(i=_I(this,(function(){r(e,n.value)})),i.handler=r,t.on(n,null,i)),t}function $q(t,e,n){var r=Uq(e,n);return r&&e._targets.remove(r),t}zq.evaluate=function(){var t=Iq(w.a.mark((function t(e,n,r){return w.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ca.prototype.evaluate.call(this,e,n);case 2:if(!this._redraw&&!this._resize){t.next=14;break}if(t.prev=3,!this._renderer){t.next=8;break}return this._resize&&(this._resize=0,GR(this)),t.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),this.error(t.t0);case 14:return r&&Se(this,r),t.abrupt("return",this);case 16:case"end":return t.stop()}}),t,this,[[3,11]])})));return function(e,n,r){return t.apply(this,arguments)}}(),zq.dirty=function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},zq.container=function(){return this._el},zq.scenegraph=function(){return this._scenegraph},zq.origin=function(){return this._origin.slice()},zq.signal=function(t,e,n){var r=Bq(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},zq.background=function(t){return arguments.length?(this._background=t,this._resize=1,this):this._background},zq.width=function(t){return arguments.length?this.signal("width",t):this.signal("width")},zq.height=function(t){return arguments.length?this.signal("height",t):this.signal("height")},zq.padding=function(t){return arguments.length?this.signal("padding",t):this.signal("padding")},zq.autosize=function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},zq.renderer=function(t){return arguments.length?(Yy(t)||Object(xe["n"])("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},zq.tooltip=function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},zq.loader=function(t){return arguments.length?(t!==this._loader&&(Ca.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},zq.resize=function(){return this._autosize=1,this.touch(Bq(this,"autosize"))},zq._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},zq._resizeView=Sq,zq.addEventListener=function(t,e,n){var r=e;return n&&!1===n.trap||(r=_I(this,e),r.raw=e),this._handler.on(t,r),this},zq.removeEventListener=function(t,e){var n,r,i=this._handler.handlers(t),o=i.length;while(--o>=0)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},zq.addResizeListener=function(t){var e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},zq.removeResizeListener=function(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},zq.addSignalListener=function(t,e){return qq(this,t,Bq(this,t),e)},zq.removeSignalListener=function(t,e){return $q(this,Bq(this,t),e)},zq.addDataListener=function(t,e){return qq(this,t,LR(this,t).values,e)},zq.removeDataListener=function(t,e){return $q(this,LR(this,t).values,e)},zq.preventDefault=function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},zq.timer=Mq,zq.events=nI,zq.finalize=uI,zq.hover=aI,zq.data=zR,zq.change=BR,zq.insert=UR,zq.remove=qR,zq.scale=gq,zq.initialize=kI,zq.toImageURL=FI,zq.toCanvas=II,zq.toSVG=UI,zq.getState=jq,zq.setState=Cq;var Wq=function(t,e){return t=t||e.autosize,Object(xe["F"])(t)?t:{type:t||"pad"}},Hq=function(t,e){return t=t||e.padding,Object(xe["F"])(t)?{top:Gq(t.top),bottom:Gq(t.bottom),left:Gq(t.left),right:Gq(t.right)}:Xq(Gq(t))};function Gq(t){return+t||0}function Xq(t){return{top:t,bottom:t,left:t,right:t}}var Vq="outer",Yq=["value","update","init","react","bind"];function Jq(t,e){Object(xe["n"])(t+' for "outer" push: '+Object(xe["X"])(e))}var Zq=function(t,e){var n=t.name;if(t.push===Vq)e.signals[n]||Jq("No prior signal definition",n),Yq.forEach((function(e){void 0!==t[e]&&Jq("Invalid property ",e)}));else{var r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}},Kq=function(t,e,n){var r,i,o={};try{t=Object(xe["H"])(t)?t:Object(xe["X"])(t)+"",r=Yz(t)}catch(a){Object(xe["n"])("Expression parse error: "+t)}return r.visit((function(t){if(t.type===tL){var n=t.callee.name,r=RU.visitors[n];r&&r(n,t.arguments,e,o)}})),i=IU(r),i.globals.forEach((function(t){var n=kU+t;!Object(xe["v"])(o,n)&&e.getSignal(t)&&(o[n]=e.signalRef(t))})),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:o}};function Qq(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function t$(t,e,n,r){return new Qq(t,e,n,r)}function e$(t,e){return t$("operator",t,e)}function n$(t){var e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function r$(t,e){return e?{$field:t,$name:e}:{$field:t}}var i$=r$("key");function o$(t,e){return{$compare:t,$order:e}}function a$(t,e){var n={$key:t};return e&&(n.$flat=!0),n}var u$="ascending",c$="descending";function s$(t){return Object(xe["F"])(t)?(t.order===c$?"-":"+")+l$(t.op,t.field):""}function l$(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}var f$="scope",h$="view";function d$(t){return t&&t.signal}function p$(t){return t&&t.expr}function v$(t){if(d$(t))return!0;if(Object(xe["F"])(t))for(var e in t)if(v$(t[e]))return!0;return!1}function y$(t,e){return null!=t?t:e}function g$(t){return t&&t.signal||t}var m$="timer";function b$(t,e){var n=t.merge?x$:t.stream?_$:t.type?O$:Object(xe["n"])("Invalid stream specification: "+Object(xe["X"])(t));return n(t,e)}function w$(t){return t===f$?h$:t||h$}function x$(t,e){var n=t.merge.map((function(t){return b$(t,e)})),r=k$({merge:n},t,e);return e.addStream(r).id}function _$(t,e){var n=b$(t.stream,e),r=k$({stream:n},t,e);return e.addStream(r).id}function O$(t,e){var n,r;return t.type===m$?(n=e.event(m$,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(w$(t.source),t.type),r=k$({stream:n},t,e),1===Object.keys(r).length?n:e.addStream(r).id}function k$(t,e,n){var r=e.between;return r&&(2!==r.length&&Object(xe["n"])('Stream "between" parameter must have 2 entries: '+Object(xe["X"])(e)),t.between=[b$(r[0],n),b$(r[1],n)]),r=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(S$(e.marktype,e.markname,e.markrole)),e.source===f$&&r.push("inScope(event.item)"),r.length&&(t.filter=Kq("("+r.join(")&&(")+")").$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}function S$(t,e,n){var r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(e?"&&"+r+".mark.name==='"+e+"'":"")}var j$,A$,E$=function(t,e,n){return j$=e||C$,A$=n||z$,q$(t.trim()).map($$)},C$="view",M$="[",D$="]",F$="{",T$="}",N$=":",P$=",",R$="@",I$=">",L$=/[[\]{}]/,z$={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function B$(t){return A$[t]}function U$(t,e,n,r,i){for(var o,a=0,u=t.length;e<u;++e){if(o=t[e],!a&&o===n)return e;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return e}function q$(t){var e=[],n=0,r=t.length,i=0;while(i<r)i=U$(t,i,P$,M$+F$,D$+T$),e.push(t.substring(n,i).trim()),n=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function $$(t){return"["===t[0]?W$(t):H$(t)}function W$(t){var e,n,r=t.length,i=1;if(i=U$(t,i,D$,M$,D$),i===r)throw"Empty between selector: "+t;if(e=q$(t.substring(1,i)),2!==e.length)throw"Between selector must have two elements: "+t;if(t=t.slice(i+1).trim(),t[0]!==I$)throw"Expected '>' after between selector: "+t;return e=e.map($$),n=$$(t.slice(1).trim()),n.between?{between:e,stream:n}:(n.between=e,n)}function H$(t){var e,n,r={source:j$},i=[],o=[0,0],a=0,u=0,c=t.length,s=0;if(t[c-1]===T$){if(s=t.lastIndexOf(F$),!(s>=0))throw"Unmatched right brace: "+t;try{o=G$(t.substring(s+1,c-1))}catch(l){throw"Invalid throttle specification: "+t}t=t.slice(0,s).trim(),c=t.length,s=0}if(!c)throw t;if(t[0]===R$&&(a=++s),e=U$(t,s,N$),e<c&&(i.push(t.substring(u,e).trim()),u=s=++e),s=U$(t,s,M$),s===c)i.push(t.substring(u,c).trim());else if(i.push(t.substring(u,s).trim()),n=[],u=++s,u===c)throw"Unmatched left bracket: "+t;while(s<c){if(s=U$(t,s,D$),s===c)throw"Unmatched left bracket: "+t;if(n.push(t.substring(u,s).trim()),s<c-1&&t[++s]!==M$)throw"Expected left bracket: "+t;u=++s}if(!(c=i.length)||L$.test(i[c-1]))throw"Invalid event selector: "+t;return c>1?(r.type=i[1],a?r.markname=i[0].slice(1):B$(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=n&&(r.filter=n),o[0]&&(r.throttle=o[0]),o[1]&&(r.debounce=o[1]),r}function G$(t){var e=t.split(P$);if(!t.length||e.length>2)throw t;return e.map((function(e){var n=+e;if(n!==n)throw t;return n}))}var X$="var datum=event.item&&event.item.datum;",V$=function(t,e,n){var r=t.events,i=t.update,o=t.encode,a=[],u={target:n};r||Object(xe["n"])("Signal update missing events specification."),Object(xe["H"])(r)&&(r=E$(r,e.isSubscope()?f$:h$)),r=Object(xe["i"])(r).filter((function(t){return t.signal||t.scale?(a.push(t),0):1})),a.length>1&&(a=[J$(a)]),r.length&&a.push(r.length>1?{merge:r}:r[0]),null!=o&&(i&&Object(xe["n"])("Signal encode and update are mutually exclusive."),i="encode(item(),"+Object(xe["X"])(o)+")"),u.update=Object(xe["H"])(i)?Kq(i,e,X$):null!=i.expr?Kq(i.expr,e,X$):null!=i.value?i.value:null!=i.signal?{$expr:"_.value",$params:{value:e.signalRef(i.signal)}}:Object(xe["n"])("Invalid signal update specification."),t.force&&(u.options={force:!0}),a.forEach((function(t){e.addUpdate(Object(xe["o"])(Y$(t,e),u))}))};function Y$(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):b$(t,e)}}function J$(t){return{signal:"["+t.map((function(t){return t.scale?'scale("'+t.scale+'")':t.signal}))+"]"}}var Z$=function(t,e){var n=e.getSignal(t.name),r=t.update;t.init&&(r?Object(xe["n"])("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=Kq(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach((function(t){V$(t,e,n.id)}))};function K$(t){return function(e,n,r){return t$(t,n,e||void 0,r)}}var Q$=K$("aggregate"),tW=K$("axisticks"),eW=K$("bound"),nW=K$("collect"),rW=K$("compare"),iW=K$("datajoin"),oW=K$("encode"),aW=K$("expression"),uW=(K$("extent"),K$("facet")),cW=K$("field"),sW=K$("key"),lW=K$("legendentries"),fW=K$("load"),hW=K$("mark"),dW=K$("multiextent"),pW=K$("multivalues"),vW=K$("overlap"),yW=K$("params"),gW=K$("prefacet"),mW=K$("projection"),bW=K$("proxy"),wW=K$("relay"),xW=K$("render"),_W=K$("scale"),OW=K$("sieve"),kW=K$("sortitems"),SW=K$("viewlayout"),jW=K$("values"),AW=0,EW={min:"min",max:"max",count:"sum"};function CW(t,e){var n=t.type||"linear";Dm(n)||Object(xe["n"])("Unrecognized scale type: "+Object(xe["X"])(n)),e.addScale(t.name,{type:n,domain:void 0})}function MW(t,e){var n,r=e.getScale(t.name).params;for(n in r.domain=NW(t.domain,t,e),null!=t.range&&(r.range=GW(t,e,r)),null!=t.interpolate&&HW(t.interpolate,r),null!=t.nice&&(r.nice=WW(t.nice)),null!=t.bins&&(r.bins=$W(t.bins,e)),t)Object(xe["v"])(r,n)||"name"===n||(r[n]=DW(t[n],e))}function DW(t,e){return Object(xe["F"])(t)?t.signal?e.signalRef(t.signal):Object(xe["n"])("Unsupported object: "+Object(xe["X"])(t)):t}function FW(t,e){return t.signal?e.signalRef(t.signal):t.map((function(t){return DW(t,e)}))}function TW(t){Object(xe["n"])("Can not find data set: "+Object(xe["X"])(t))}function NW(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(Object(xe["A"])(t)?PW:t.fields?IW:RW)(t,e,n);null==e.domainMin&&null==e.domainMax||Object(xe["n"])("No scale domain defined for domainMin/domainMax to override.")}function PW(t,e,n){return t.map((function(t){return DW(t,n)}))}function RW(t,e,n){var r=n.getData(t.data);return r||TW(t.data),Lm(e.type)?r.valuesRef(n,t.field,BW(t.sort,!1)):Fm(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)}function IW(t,e,n){var r=t.data,i=t.fields.reduce((function(t,e){return e=Object(xe["H"])(e)?{data:r,field:e}:Object(xe["A"])(e)||e.signal?LW(e,n):e,t.push(e),t}),[]);return(Lm(e.type)?zW:Fm(e.type)?UW:qW)(t,n,i)}function LW(t,e){var n="_:vega:_"+AW++,r=nW({});if(Object(xe["A"])(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+Object(xe["X"])(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,OW({})]),{data:n,field:"data"}}function zW(t,e,n){var r,i,o,a,u,c=BW(t.sort,!0);return r=n.map((function(t){var n=e.getData(t.data);return n||TW(t.data),n.countsRef(e,t.field,c)})),i={groupby:i$,pulse:r},c&&(o=c.op||"count",u=c.field?l$(o,c.field):"count",i.ops=[EW[o]],i.fields=[e.fieldRef(u)],i.as=[u]),o=e.add(Q$(i)),a=e.add(nW({pulse:n$(o)})),u=e.add(jW({field:i$,sort:e.sortRef(c),pulse:n$(a)})),n$(u)}function BW(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field&&t.op&&!EW[t.op]&&Object(xe["n"])("Multiple domain scales can not be sorted using "+t.op):Object(xe["n"])("No field provided for sort aggregate op: "+t.op):Object(xe["F"])(t)?t.field="key":t={field:"key"}),t}function UW(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||TW(t.data),n.domainRef(e,t.field)}));return n$(e.add(pW({values:r})))}function qW(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||TW(t.data),n.extentRef(e,t.field)}));return n$(e.add(dW({extents:r})))}function $W(t,e){return t.signal||Object(xe["A"])(t)?FW(t,e):e.objectProperty(t)}function WW(t){return Object(xe["F"])(t)?{interval:DW(t.interval),step:DW(t.step)}:DW(t)}function HW(t,e){e.interpolate=DW(t.type||t),null!=t.gamma&&(e.interpolateGamma=DW(t.gamma))}function GW(t,e,n){var r=t.range,i=e.config.range;if(r.signal)return e.signalRef(r.signal);if(Object(xe["H"])(r)){if(i&&Object(xe["v"])(i,r))return t=Object(xe["o"])({},t,{range:i[r]}),GW(t,e,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=Lm(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(xe["n"])("Unrecognized scale range value: "+Object(xe["X"])(r))}else{if(r.scheme)return n.scheme=Object(xe["A"])(r.scheme)?FW(r.scheme,e):DW(r.scheme,e),r.extent&&(n.schemeExtent=FW(r.extent,e)),void(r.count&&(n.schemeCount=DW(r.count,e)));if(r.step)return void(n.rangeStep=DW(r.step,e));if(Lm(t.type)&&!Object(xe["A"])(r))return NW(r,t,e);Object(xe["A"])(r)||Object(xe["n"])("Unsupported range type: "+Object(xe["X"])(r))}return r.map((function(t){return(Object(xe["A"])(t)?FW:DW)(t,e)}))}var XW=function(t,e){var n={};for(var r in t)"name"!==r&&(n[r]=VW(t[r],r,e));e.addProjection(t.name,n)};function VW(t,e,n){return Object(xe["A"])(t)?t.map((function(t){return VW(t,e,n)})):Object(xe["F"])(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:Object(xe["n"])("Unsupported parameter object: "+Object(xe["X"])(t)):t}var YW="top",JW="left",ZW="right",KW="bottom",QW="center",tH="vertical",eH="start",nH="middle",rH="end",iH="index",oH="label",aH="offset",uH="perc",cH="perc2",sH="size",lH="value",fH="guide-label",hH="guide-title",dH="group-title",pH="symbol",vH="gradient",yH="discrete",gH=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],mH={name:1,interactive:1},bH={value:0},wH={value:1},xH=Object(xe["bb"])(["rule"]),_H=Object(xe["bb"])(["group","image","rect"]),OH=function(t,e){var n="";return xH[e]?n:(t.x2&&(t.x?(_H[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(_H[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},kH=function(t,e,n,r){function i(t,i,o,a){var u=TH(null,i,e,n,r),c=TH(null,o,e,n,r),s=TH(null,a,e,n,r);return"this."+t+"("+[u,c,s].join(",")+").toString()"}return t.c?i("hcl",t.h,t.c,t.l):t.h||t.s?i("hsl",t.h,t.s,t.l):t.l||t.a?i("lab",t.l,t.a,t.b):t.r||t.g||t.b?i("rgb",t.r,t.g,t.b):null},SH=function(t,e,n,r){var i=Kq(t,e);return i.$fields.forEach((function(t){r[t]=1})),Object(xe["o"])(n,i.$params),i.$expr},jH=function(t,e,n,r){return AH(Object(xe["F"])(t)?t:{datum:t},e,n,r)};function AH(t,e,n,r){var i,o,a;if(t.signal)i="datum",a=SH(t.signal,e,n,r);else if(t.group||t.parent){o=Math.max(1,t.level||1),i="item";while(o-- >0)i+=".mark.group";t.parent?(a=t.parent,i+=".datum"):a=t.group}else t.datum?(i="datum",a=t.datum):Object(xe["n"])("Invalid field reference: "+Object(xe["X"])(t));return t.signal||(Object(xe["H"])(a)?(r[a]=1,a=Object(xe["W"])(a).map(xe["X"]).join("][")):a=AH(a,e,n,r)),i+"["+a+"]"}var EH=function(t,e,n,r,i){var o,a,u,c=MH(t.scale,n,r,i);return null!=t.range?(o=+t.range,a=c+".range()",e=0===o?a+"[0]":"($="+a+","+(1===o?"$[$.length-1]":"$[0]+"+o+"*($[$.length-1]-$[0])")+")"):(void 0!==e&&(e=c+"("+e+")"),t.band&&(u=CH(t.scale,n))&&(a=c+".bandwidth",o=+t.band,o=a+"()"+(1===o?"":"*"+o),u<0&&(o="("+a+"?"+o+":0)"),e=(e?e+"+":"")+o,t.extra&&(e="(datum.extra?"+c+"(datum.extra.value):"+e+")")),null==e&&(e="0")),e};function CH(t,e){if(!Object(xe["H"])(t))return-1;var n=e.scaleType(t);return"band"===n||"point"===n?1:0}function MH(t,e,n,r){var i;if(Object(xe["H"])(t))i=OU+t,Object(xe["v"])(n,i)||(n[i]=e.scaleRef(t)),i=Object(xe["X"])(i);else{for(i in e.scales)n[OU+i]=e.scaleRef(i);i=Object(xe["X"])(OU)+"+"+(t.signal?"("+SH(t.signal,e,n,r)+")":jH(t,e,n,r))}return"_["+i+"]"}var DH=function(t,e,n,r){return"this.gradient("+MH(t.gradient,e,n,r)+","+Object(xe["X"])(t.start)+","+Object(xe["X"])(t.stop)+","+Object(xe["X"])(t.count)+")"},FH=function(t,e,n,r){return Object(xe["F"])(t)?"("+TH(null,t,e,n,r)+")":t},TH=function(t,e,n,r,i){if(null!=e.gradient)return DH(e,n,r,i);var o=e.signal?SH(e.signal,n,r,i):e.color?kH(e.color,n,r,i):null!=e.field?jH(e.field,n,r,i):void 0!==e.value?Object(xe["X"])(e.value):void 0;return null!=e.scale&&(o=EH(e,o,n,r,i)),void 0===o&&(o=null),null!=e.exponent&&(o="Math.pow("+o+","+FH(e.exponent,n,r,i)+")"),null!=e.mult&&(o+="*"+FH(e.mult,n,r,i)),null!=e.offset&&(o+="+"+FH(e.offset,n,r,i)),e.round&&(o="Math.round("+o+")"),o},NH=function(t,e,n){var r=t+"["+Object(xe["X"])(e)+"]";return"$=".concat(n,";if(").concat(r,"!==$)").concat(r,"=$,m=1;")},PH=function(t,e,n,r,i){var o="";return e.forEach((function(e){var a=TH(t,e,n,r,i);o+=e.test?SH(e.test,n,r,i)+"?"+a+":":a})),":"===Object(xe["S"])(o)&&(o+="null"),NH("o",t,o)};function RH(t,e,n,r){var i,o,a,u={},c="var o=item,datum=o.datum,m=0,$;";for(i in t)o=t[i],Object(xe["A"])(o)?c+=PH(i,o,r,n,u):(a=TH(i,o,r,n,u),c+=NH("o",i,a));return c+=OH(t,e),c+="return m;",{$expr:c,$fields:Object.keys(u),$output:Object.keys(t)}}var IH="mark",LH="frame",zH="scope",BH="axis",UH="axis-domain",qH="axis-grid",$H="axis-label",WH="axis-tick",HH="axis-title",GH="legend",XH="legend-band",VH="legend-entry",YH="legend-gradient",JH="legend-label",ZH="legend-symbol",KH="legend-title",QH="title";function tG(t){return Object(xe["F"])(t)?Object(xe["o"])({},t):{value:t}}function eG(t,e,n,r){return null!=n?(Object(xe["F"])(n)&&!Object(xe["A"])(n)?t.update[e]=n:t[r||"enter"][e]={value:n},1):0}function nG(t,e,n){for(var r in e)eG(t,r,e[r]);for(var i in n)eG(t,i,n[i],"update")}function rG(t,e,n){for(var r in e)n&&Object(xe["v"])(n,r)||(t[r]=Object(xe["o"])(t[r]||{},e[r]));return t}function iG(t,e,n,r,i,o){var a,u;for(u in o=o||{},o.encoders={$encode:a={}},t=oG(t,e,n,r,i.config),t)a[u]=RH(t[u],e,o,i);return o}function oG(t,e,n,r,i){var o,a,u,c,s={},l={};for(a in"legend"!=n&&0!==String(n).indexOf("axis")||(n=null),c=n===LH?i.group:n===IH?Object(xe["o"])({},i.mark,i[e]):null,c)u=uG(a,t)||("fill"===a||"stroke"===a)&&(uG("fill",t)||uG("stroke",t)),u||aG(s,a,c[a]);for(a in Object(xe["i"])(r).forEach((function(e){var n=i.style&&i.style[e];for(var r in n)uG(r,t)||aG(s,r,n[r])})),t=Object(xe["o"])({},t),s)c=s[a],c.signal?(o=o||{})[a]=c:l[a]=c;return t.enter=Object(xe["o"])(l,t.enter),o&&(t.update=Object(xe["o"])(o,t.update)),t}function aG(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}function uG(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}var cG=function(t,e,n,r,i,o,a){return{type:t,name:a?a.name:void 0,role:e,style:a&&a.style||n,key:r,from:i,interactive:!(!a||!a.interactive),encode:rG(o,a,mH)}};function sG(t,e){var n=function(n){return y$(t[n],e[n])};return n.isVertical=function(n){return tH===y$(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection))},n.gradientLength=function(){return y$(t.gradientLength,e.gradientLength||e.gradientWidth)},n.gradientThickness=function(){return y$(t.gradientThickness,e.gradientThickness||e.gradientHeight)},n.entryColumns=function(){return y$(t.columns,y$(e.columns,+n.isVertical(!0)))},n}function lG(t,e){var n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function fG(t,e,n){var r=e.config.style[n];return r&&r[t]}function hG(t,e,n){return'item.anchor === "'.concat(eH,'" ? ').concat(t,' : item.anchor === "').concat(rH,'" ? ').concat(e," : ").concat(n)}var dG=hG(Object(xe["X"])(JW),Object(xe["X"])(ZW),Object(xe["X"])(QW)),pG="group",vG="rect",yG="rule",gG="symbol",mG="text",bG=function(t,e,n,r){var i,o,a,u,c,s,l=sG(t,n),f=l.isVertical(),h=l.gradientThickness(),d=l.gradientLength();return f?(a=[0,1],u=[0,0],c=h,s=d):(a=[0,0],u=[1,0],c=d,s=h),i={enter:o={opacity:bH,x:bH,y:bH,width:tG(c),height:tG(s)},update:Object(xe["o"])({},o,{opacity:wH,fill:{gradient:e,start:a,stop:u}}),exit:{opacity:bH}},nG(i,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),cG(vG,YH,null,void 0,void 0,i,r)},wG=function(t,e,n,r,i){var o,a,u,c,s,l,f=sG(t,n),h=f.isVertical(),d=f.gradientThickness(),p=f.gradientLength(),v="";return h?(u="y",s="y2",c="x",l="width",v="1-"):(u="x",s="x2",c="y",l="height"),a={opacity:bH,fill:{scale:e,field:lH}},a[u]={signal:v+"datum."+uH,mult:p},a[c]=bH,a[s]={signal:v+"datum."+cH,mult:p},a[l]=tG(d),o={enter:a,update:Object(xe["o"])({},a,{opacity:wH}),exit:{opacity:bH}},nG(o,{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),cG(vG,XH,null,lH,i,o,r)},xG="datum.".concat(uH,'<=0?"').concat(JW,'":datum.').concat(uH,'>=1?"').concat(ZW,'":"').concat(QW,'"'),_G="datum.".concat(uH,'<=0?"').concat(KW,'":datum.').concat(uH,'>=1?"').concat(YW,'":"').concat(nH,'"'),OG=function(t,e,n,r){var i,o,a,u,c,s=sG(t,e),l=s.isVertical(),f=tG(s.gradientThickness()),h=s.gradientLength(),d=s("labelOverlap"),p=s("labelSeparation"),v="";return i={enter:o={opacity:bH},update:a={opacity:wH,text:{field:oH}},exit:{opacity:bH}},nG(i,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:y$(t.labelLimit,e.gradientLabelLimit)}),l?(o.align={value:"left"},o.baseline=a.baseline={signal:_G},u="y",c="x",v="1-"):(o.align=a.align={signal:xG},o.baseline={value:"top"},u="x",c="y"),o[u]=a[u]={signal:v+"datum."+uH,mult:h},o[c]=a[c]=f,f.offset=y$(t.labelOffset,e.gradientLabelOffset)||0,t=cG(mG,JH,fH,lH,r,i,n),d&&(t.overlap={separation:p,method:d,order:"datum."+iH}),t},kG=function(t,e,n,r,i,o,a,u){return{type:pG,name:n,role:t,style:e,from:r,interactive:i||!1,encode:o,marks:a,layout:u}},SG=function(t,e,n,r,i){var o,a,u,c,s,l,f,h=sG(t,e),d=n.entries,p=!(!d||!d.interactive),v=d?d.name:void 0,y=h("clipHeight"),g=h("symbolOffset"),m={data:"value"},b={},w="".concat(i," ? datum.").concat(aH," : datum.").concat(sH),x=y?tG(y):{field:sH},_="datum.".concat(iH),O="max(1, ".concat(i,")");return x.mult=.5,b={enter:o={opacity:bH,x:{signal:w,mult:.5,offset:g},y:x},update:a={opacity:wH,x:o.x,y:o.y},exit:{opacity:bH}},t.fill||nG(b,{fill:e.symbolBaseFillColor,stroke:e.symbolBaseStrokeColor}),nG(b,{fill:h("symbolFillColor"),shape:h("symbolType"),size:h("symbolSize"),stroke:h("symbolStrokeColor"),strokeDash:h("symbolDash"),strokeDashOffset:h("symbolDashOffset"),strokeWidth:h("symbolStrokeWidth")},{opacity:h("symbolOpacity")}),gH.forEach((function(e){t[e]&&(a[e]=o[e]={scale:t[e],field:lH})})),c=cG(gG,ZH,null,lH,m,b,n.symbols),y&&(c.clip=!0),u=tG(g),u.offset=h("labelOffset"),b={enter:o={opacity:bH,x:{signal:w,offset:u},y:x},update:a={opacity:wH,text:{field:oH},x:o.x,y:o.y},exit:{opacity:bH}},nG(b,{align:h("labelAlign"),baseline:h("labelBaseline"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontStyle:h("labelFontStyle"),fontWeight:h("labelFontWeight"),limit:h("labelLimit")}),s=cG(mG,JH,fH,lH,m,b,n.labels),b={enter:{noBound:{value:!y},width:bH,height:y?tG(y):bH,opacity:bH},exit:{opacity:bH},update:a={opacity:wH,row:{signal:null},column:{signal:null}}},h.isVertical(!0)?(l="ceil(item.mark.items.length / ".concat(O,")"),a.row.signal="".concat(_,"%").concat(l),a.column.signal="floor(".concat(_," / ").concat(l,")"),f={field:["row",_]}):(a.row.signal="floor(".concat(_," / ").concat(O,")"),a.column.signal="".concat(_," % ").concat(O),f={field:_}),a.column.signal="".concat(i,"?").concat(a.column.signal,":").concat(_),r={facet:{data:r,name:"value",groupby:iH}},t=kG(zH,null,v,r,p,rG(b,d,mH),[c,s]),t.sort=f,t};function jG(t,e){var n=sG(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}var AG='item.orient === "left"',EG='item.orient === "right"',CG="(".concat(AG," || ").concat(EG,")"),MG="datum.vgrad && ".concat(CG),DG=hG('"top"','"bottom"','"middle"'),FG=hG('"right"','"left"','"center"'),TG="datum.vgrad && ".concat(EG," ? (").concat(FG,") : (").concat(CG," && !(datum.vgrad && ").concat(AG,')) ? "left" : ').concat(dG),NG="item._anchor || (".concat(CG,' ? "middle" : "start")'),PG="".concat(MG," ? (").concat(AG," ? -90 : 90) : 0"),RG="".concat(CG," ? (datum.vgrad ? (").concat(EG,' ? "bottom" : "top") : ').concat(DG,') : "top"'),IG=function(t,e,n,r){var i,o=sG(t,e);return i={enter:{opacity:bH},update:{opacity:wH,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:bH}},nG(i,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:NG},angle:{signal:PG},align:{signal:TG},baseline:{signal:RG},text:t.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit")},{align:o("titleAlign"),baseline:o("titleBaseline")}),cG(mG,KH,hH,null,r,i,n)},LG=function(t,e){var n;return Object(xe["F"])(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+zG(t.path)+")":t.sphere&&(n="geoShape("+zG(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t};function zG(t){return Object(xe["F"])(t)&&t.signal?t.signal:Object(xe["X"])(t)}var BG=function(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")?t.type===pG?zH:e||IH:e},UG=function(t){return{marktype:t.type,name:t.name||void 0,role:t.role||BG(t),zindex:+t.zindex||void 0}},qG=function(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t},$G=function(t,e){var n=Pa(t.type);n||Object(xe["n"])("Unrecognized transform type: "+Object(xe["X"])(t.type));var r=t$(n.type.toLowerCase(),null,WG(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r};function WG(t,e,n){var r,i,o,a={};for(i=0,o=t.params.length;i<o;++i)r=t.params[i],a[r.name]=HG(r,e,n);return a}function HG(t,e,n){var r=t.type,i=e[t.name];return"index"===r?XG(t,e,n):void 0!==i?"param"===r?VG(t,e,n):"projection"===r?n.projectionRef(e[t.name]):t.array&&!d$(i)?i.map((function(e){return GG(t,e,n)})):GG(t,i,n):void(t.required&&Object(xe["n"])("Missing required "+Object(xe["X"])(e.type)+" parameter: "+Object(xe["X"])(t.name)))}function GG(t,e,n){var r=t.type;if(d$(e))return QG(r)?Object(xe["n"])("Expression references can not be signals."):tX(r)?n.fieldRef(e):eX(r)?n.compareRef(e):n.signalRef(e.signal);var i=t.expr||tX(r);return i&&JG(e)?n.exprRef(e.expr,e.as):i&&ZG(e)?r$(e.field,e.as):QG(r)?Kq(e,n):KG(r)?n$(n.getData(e).values):tX(r)?r$(e):eX(r)?n.compareRef(e):e}function XG(t,e,n){return Object(xe["H"])(e.from)||Object(xe["n"])('Lookup "from" parameter must be a string literal.'),n.getData(e.from).lookupRef(n,e.key)}function VG(t,e,n){var r=e[t.name];return t.array?(Object(xe["A"])(r)||Object(xe["n"])("Expected an array of sub-parameters. Instead: "+Object(xe["X"])(r)),r.map((function(e){return YG(t,e,n)}))):YG(t,r,n)}function YG(t,e,n){var r,i,o,a,u;for(a=0,u=t.params.length;a<u;++a){for(o in i=t.params[a],i.key)if(i.key[o]!==e[o]){i=null;break}if(i)break}return i||Object(xe["n"])("Unsupported parameter: "+Object(xe["X"])(e)),r=Object(xe["o"])(WG(i,e,n),i.key),n$(n.add(yW(r)))}function JG(t){return t&&t.expr}function ZG(t){return t&&t.field}function KG(t){return"data"===t}function QG(t){return"expr"===t}function tX(t){return"field"===t}function eX(t){return"compare"===t}var nX=function(t,e,n){var r,i,o,a,u;return t?(r=t.facet)&&(e||Object(xe["n"])("Only group marks can be faceted."),null!=r.field?a=u=rX(r,n):(t.data?u=n$(n.getData(t.data).aggregate):(o=$G(Object(xe["o"])({type:"aggregate",groupby:Object(xe["i"])(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=rX(r,n),a=u=n$(n.add(o))),i=n.keyRef(r.groupby,!0))):a=n$(n.add(nW(null,[{}]))),a||(a=rX(t,n)),{key:i,pulse:a,parent:u}};function rX(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:n$(e.getData(t.data).output)}function iX(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}iX.fromEntries=function(t,e){var n=e.length,r=1,i=e[0],o=e[n-1],a=e[n-2],u=null;for(i&&"load"===i.type&&(i=e[1]),t.add(e[0]);r<n;++r)e[r].params.pulse=n$(e[r-1]),t.add(e[r]),"aggregate"===e[r].type&&(u=e[r]);return new iX(t,i,a,o,u)};var oX=iX.prototype;function aX(t){return Object(xe["H"])(t)?t:null}function uX(t,e,n){var r,i=l$(n.op,n.field);if(e.ops){for(var o=0,a=e.as.length;o<a;++o)if(e.as[o]===i)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((r=n.op.signal)?t.signalRef(r):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(i))}function cX(t,e,n,r,i,o,a){var u,c,s=e[n]||(e[n]={}),l=s$(o),f=aX(i);if(null!=f&&(t=e.scope,f+=l?"|"+l:"",u=s[f]),!u){var h=o?{field:i$,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:n$(e.output)};l&&(h.sort=t.sortRef(o)),c=t.add(t$(r,void 0,h)),a&&(e.index[i]=c),u=n$(c),null!=f&&(s[f]=u)}return u}oX.countsRef=function(t,e,n){var r,i,o,a=this,u=a.counts||(a.counts={}),c=aX(e);return null!=c&&(t=a.scope,r=u[c]),r?n&&n.field&&uX(t,r.agg.params,n):(o={groupby:t.fieldRef(e,"key"),pulse:n$(a.output)},n&&n.field&&uX(t,o,n),i=t.add(Q$(o)),r=t.add(nW({pulse:n$(i)})),r={agg:i,ref:n$(r)},null!=c&&(u[c]=r)),r.ref},oX.tuplesRef=function(){return n$(this.values)},oX.extentRef=function(t,e){return cX(t,this,"extent","extent",e,!1)},oX.domainRef=function(t,e){return cX(t,this,"domain","values",e,!1)},oX.valuesRef=function(t,e,n){return cX(t,this,"vals","values",e,n||!0)},oX.lookupRef=function(t,e){return cX(t,this,"lookup","tupleindex",e,!1)},oX.indataRef=function(t,e){return cX(t,this,"indata","tupleindex",e,!0,!0)};var sX=function(t,e,n){var r,i,o,a,u=t.from.facet,c=u.name,s=rX(u,e);u.name||Object(xe["n"])("Facet must have a name: "+Object(xe["X"])(u)),u.data||Object(xe["n"])("Facet must reference a data set: "+Object(xe["X"])(u)),u.field?a=e.add(gW({field:e.fieldRef(u.field),pulse:s})):u.groupby?a=e.add(uW({key:e.keyRef(u.groupby),group:n$(e.proxy(n.parent)),pulse:s})):Object(xe["n"])("Facet must specify groupby or field: "+Object(xe["X"])(u)),r=e.fork(),i=r.add(nW()),o=r.add(OW({pulse:n$(i)})),r.addData(c,new iX(r,i,i,o)),r.addSignal("parent",null),a.params.subflow={$subflow:BX(t,r).toRuntime()}},lX=function(t,e,n){var r=e.add(gW({pulse:n.pulse})),i=e.fork();i.add(OW()),i.addSignal("parent",null),r.params.subflow={$subflow:BX(t,i).toRuntime()}},fX=function(t,e,n){var r,i,o=t.remove,a=t.insert,u=t.toggle,c=t.modify,s=t.values,l=e.add(e$());r="if("+t.trigger+',modify("'+n+'",'+[a,o,u,c,s].map((function(t){return null==t?"null":t})).join(",")+"),0)",i=Kq(r,e),l.update=i.$expr,l.params=i.$params},hX=function(t,e){var n,r,i,o,a,u,c,s,l,f,h,d,p,v,y=BG(t),g=t.type===pG,m=t.from&&t.from.facet,b=t.layout||y===zH||y===LH,w=y===IH||b||m,x=t.overlap;i=nX(t.from,g,e),r=e.add(iW({key:i.key||(t.key?r$(t.key):void 0),pulse:i.pulse,clean:!g})),f=n$(r),r=o=e.add(nW({pulse:f})),r=e.add(hW({markdef:UG(t),interactive:qG(t.interactive,e),clip:LG(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:n$(r)})),h=n$(r),r=a=e.add(oW(iG(t.encode,t.type,y,t.style,e,{mod:!1,pulse:h}))),r.params.parent=e.encode(),t.transform&&t.transform.forEach((function(t){var n=$G(t,e),i=n.metadata;(i.generates||i.changes)&&Object(xe["n"])("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),n.params.pulse=n$(r),e.add(r=n)})),t.sort&&(r=e.add(kW({sort:e.compareRef(t.sort),pulse:n$(r)}))),d=n$(r),(m||b)&&(b=e.add(SW({layout:e.objectProperty(t.layout),legends:e.legends,mark:h,pulse:d})),p=n$(b)),u=e.add(eW({mark:h,pulse:p||d})),v=n$(u),g&&(w&&(n=e.operators,n.pop(),b&&n.pop()),e.pushState(d,p||v,f),m?sX(t,e,i):w?lX(t,e,i):BX(t,e),e.popState(),w&&(b&&n.push(b),n.push(u))),x&&(v=dX(x,v,e)),c=e.add(xW({pulse:v})),s=e.add(OW({pulse:n$(c)},void 0,e.parent())),null!=t.name&&(l=t.name,e.addData(l,new iX(e,o,c,s)),t.on&&t.on.forEach((function(t){(t.insert||t.remove||t.toggle)&&Object(xe["n"])("Marks only support modify triggers."),fX(t,e,l)})))};function dX(t,e,n){var r,i=t.method,o=t.bound,a=t.separation,u={separation:d$(a)?n.signalRef(a.signal):a,method:d$(i)?n.signalRef(i.signal):i,pulse:e};return t.order&&(u.sort=n.compareRef({field:t.order})),o&&(r=o.tolerance,u.boundTolerance=d$(r)?n.signalRef(r.signal):+r,u.boundScale=n.scaleRef(o.scale),u.boundOrient=o.orient),n$(n.add(vW(u)))}var pX=function(t,e){var n,r,i,o,a,u,c,s,l,f=e.config.legend,h=t.encode||{},d=h.legend||{},p=d.name||void 0,v=d.interactive,y=d.style,g=sG(t,f),m=gH.reduce((function(e,n){return e||t[n]}),0);return m||Object(xe["n"])("Missing valid scale for legend."),a=vX(t,e.scaleType(m)),u={title:null!=t.title,type:a,vgrad:"symbol"!==a&&g.isVertical()},c=n$(e.add(nW(null,[u]))),d=rG(gX(g,f),d,mH),n={enter:{x:{value:0},y:{value:0}}},s=n$(e.add(lW(i={type:a,scale:e.scaleRef(m),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),a===vH?(o=[bG(t,m,f,h.gradient),OG(t,f,h.labels,s)],i.count=i.count||e.signalRef("max(2,2*floor((".concat(g$(g.gradientLength()),")/100))"))):a===yH?o=[wG(t,m,f,h.gradient,s),OG(t,f,h.labels,s)]:(r=jG(t,f),o=[SG(t,f,h,s,g$(r.columns))],i.size=mX(t,e,o[0].marks)),o=[kG(VH,null,null,c,v,n,o,r)],u.title&&o.push(IG(t,f,h.title,c)),l=kG(GH,y,p,c,v,d,o),t.zindex&&(l.zindex=t.zindex),hX(l,e)};function vX(t,e){var n=t.type||pH;return t.type||1!==yX(t)||!t.fill&&!t.stroke||(n=Im(e)?vH:zm(e)?yH:pH),n!==vH?n:zm(e)?yH:vH}function yX(t){return gH.reduce((function(e,n){return e+(t[n]?1:0)}),0)}function gX(t,e){var n={enter:{},update:{}};return nG(n,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:e.strokeWidth,strokeDash:e.strokeDash,x:t("legendX"),y:t("legendY")}),n}function mX(t,e,n){var r=g$(bX("size",t,n)),i=g$(bX("strokeWidth",t,n)),o=g$(wX(n[1].encode,e,fH));return Kq("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),e)}function bX(t,e,n){return e[t]?'scale("'.concat(e[t],'",datum)'):lG(t,n[0].encode)}function wX(t,e,n){return lG("fontSize",t)||fG("fontSize",e,n)}var xX='item.orient==="'.concat(JW,'"?-90:item.orient==="').concat(ZW,'"?90:0'),_X='item.orient==="'.concat(KW,'"?"').concat(YW,'":"').concat(KW,'"'),OX=function(t,e){t=Object(xe["H"])(t)?{text:t}:t;var n,r,i=e.config.title,o=Object(xe["o"])({},t.encode);return n=n$(e.add(nW(null,[{}]))),o.name=t.name,o.interactive=t.interactive,r=kX(t,i,o,n),t.zindex&&(r.zindex=t.zindex),hX(r,e)};function kX(t,e,n,r){var i,o=sG(t,e),a={value:0},u=t.text;return i={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}},nG(i,{text:u,orient:o("orient"),anchor:o("anchor"),align:{signal:dG},angle:{signal:xX},baseline:{signal:_X},dx:o("dx"),dy:o("dy"),fill:o("color"),font:o("font"),fontSize:o("fontSize"),fontStyle:o("fontStyle"),fontWeight:o("fontWeight"),frame:o("frame"),limit:o("limit"),offset:o("offset")||0},{align:o("align"),angle:o("angle"),baseline:o("baseline")}),cG(mG,QH,t.style||dH,null,r,i,n)}function SX(t,e){var n=[];t.transform&&t.transform.forEach((function(t){n.push($G(t,e))})),t.on&&t.on.forEach((function(n){fX(n,e,t.name)})),e.addDataPipeline(t.name,jX(t,e,n))}function jX(t,e,n){var r,i,o,a,u,c=[],s=null,l=!1,f=!1;for(t.values?v$(t.values)||v$(t.format)?(c.push(EX(e,t)),c.push(s=AX())):c.push(s=AX({$ingest:t.values,$format:t.format})):t.url?v$(t.url)||v$(t.format)?(c.push(EX(e,t)),c.push(s=AX())):c.push(s=AX({$request:t.url,$format:t.format})):t.source&&(s=r=Object(xe["i"])(t.source).map((function(t){return n$(e.getData(t).output)})),c.push(null)),i=0,o=n.length;i<o;++i)a=n[i],u=a.metadata,s||u.source||c.push(s=AX()),c.push(a),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?s=a:u.changes&&(s=null);return r&&(o=r.length-1,c[0]=wW({derive:l,pulse:o?r:r[0]}),(l||o)&&c.splice(1,0,AX())),s||c.push(AX()),c.push(OW({})),c}function AX(t){var e=nW({},t);return e.metadata={source:!0},e}function EX(t,e){return fW({url:e.url?t.property(e.url):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}var CX=function(t,e){var n=e.config,r=t.orient,i=r===YW||r===KW?n.axisX:n.axisY,o=n["axis"+r[0].toUpperCase()+r.slice(1)],a="band"===e.scaleType(t.scale)&&n.axisBand;return i||o||a?Object(xe["o"])({},n.axis,i,o,a):n.axis},MX=function(t,e,n,r){var i,o,a,u,c,s,l=sG(t,e),f=t.orient;return i={enter:o={opacity:bH},update:a={opacity:wH},exit:{opacity:bH}},nG(i,{stroke:l("domainColor"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")}),f===YW||f===KW?(u="x",s="y"):(u="y",s="x"),c=u+"2",o[s]=bH,a[u]=o[u]=DX(t,0),a[c]=o[c]=DX(t,1),cG(yG,UH,null,null,r,i,n)};function DX(t,e){return{scale:t.scale,range:e}}var FX=function(t,e,n,r){var i,o,a,u,c,s,l,f,h,d=sG(t,e),p=t.orient,v=t.gridScale,y=p===JW||p===YW?1:-1,g=TX(t.offset,y);return i={enter:o={opacity:bH},update:u={opacity:wH},exit:a={opacity:bH}},nG(i,{stroke:d("gridColor"),strokeDash:d("gridDash"),strokeDashOffset:d("gridDashOffset"),strokeOpacity:d("gridOpacity"),strokeWidth:d("gridWidth")}),c={scale:t.scale,field:lH,band:d("bandPosition"),round:d("tickRound"),extra:d("tickExtra"),offset:d("tickOffset")},p===YW||p===KW?(s="x",l="y",h="height"):(s="y",l="x",h="width"),f=l+"2",u[s]=o[s]=a[s]=c,v?(u[l]=o[l]={scale:v,range:0,mult:y,offset:g},u[f]=o[f]={scale:v,range:1,mult:y,offset:g}):(u[l]=o[l]={value:0,offset:g},u[f]=o[f]={signal:h,mult:y,offset:g}),cG(yG,qH,null,lH,r,i,n)};function TX(t,e){if(1===e);else if(Object(xe["F"])(t)){var n=t=Object(xe["o"])({},t);while(null!=n.mult){if(!Object(xe["F"])(n.mult))return n.mult*=e,t;n=n.mult=Object(xe["o"])({},n.mult)}n.mult=e}else t=e*(t||0);return t}var NX=function(t,e,n,r,i){var o,a,u,c,s,l,f=sG(t,e),h=t.orient,d=h===JW||h===YW?-1:1;return o={enter:a={opacity:bH},update:c={opacity:wH},exit:u={opacity:bH}},nG(o,{stroke:f("tickColor"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),s=tG(i),s.mult=d,l={scale:t.scale,field:lH,band:f("bandPosition"),round:f("tickRound"),extra:f("tickExtra"),offset:f("tickOffset")},h===YW||h===KW?(c.y=a.y=bH,c.y2=a.y2=s,c.x=a.x=u.x=l):(c.x=a.x=bH,c.x2=a.x2=s,c.y=a.y=u.y=l),cG(yG,WH,null,lH,r,o,n)};function PX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}var IX=function(t,e,n,r,i){var o,a,u,c,s,l,f,h,d,p,v,y=sG(t,e),g=t.orient,m=g===JW||g===YW?-1:1,b=g===YW||g===KW,w=t.scale,x=g$(y("labelFlush")),_=g$(y("labelFlushOffset")),O=0===x||!!x,k=y("labelAlign"),S=y("labelBaseline");return c=tG(i),c.mult=m,c.offset=tG(y("labelPadding")||0),c.offset.mult=m,s={scale:w,field:lH,band:.5,offset:y("tickOffset")},b?(l=k||(O?RX(w,x,'"left"','"right"','"center"'):"center"),f=S||(g===YW?"bottom":"top"),h=!k):(l=k||(g===ZW?"left":"right"),f=S||(O?RX(w,x,'"top"','"bottom"','"middle"'):"middle"),h=!S),h=h&&O&&_?RX(w,x,"-("+_+")",_,0):null,a={enter:u={opacity:bH,x:b?s:c,y:b?c:s},update:{opacity:wH,text:{field:oH},x:u.x,y:u.y},exit:{opacity:bH,x:u.x,y:u.y}},nG(a,(o={},PX(o,b?"dx":"dy",h),PX(o,"align",l),PX(o,"baseline",f),PX(o,"angle",y("labelAngle")),PX(o,"fill",y("labelColor")),PX(o,"fillOpacity",y("labelOpacity")),PX(o,"font",y("labelFont")),PX(o,"fontSize",y("labelFontSize")),PX(o,"fontWeight",y("labelFontWeight")),PX(o,"fontStyle",y("labelFontStyle")),PX(o,"limit",y("labelLimit")),o)),d=y("labelBound"),p=y("labelOverlap"),v=y("labelSeparation"),t=cG(mG,$H,fH,lH,r,a,n),(p||d)&&(t.overlap={separation:v,method:p,order:"datum.index",bound:d?{scale:w,orient:g,tolerance:d}:null}),t},LX=function(t,e,n,r){var i,o,a,u,c=sG(t,e),s=t.orient,l=s===JW||s===YW?-1:1,f=s===YW||s===KW;return i={enter:o={opacity:bH,anchor:tG(c("titleAnchor")),align:{signal:dG}},update:a=Object(xe["o"])({},o,{opacity:wH,text:tG(t.title)}),exit:{opacity:bH}},u={signal:'lerp(range("'.concat(t.scale,'"), ').concat(hG(0,1,.5),")")},f?(a.x=u,o.angle={value:0},o.baseline={value:s===YW?"bottom":"top"}):(a.y=u,o.angle={value:90*l},o.baseline={value:"bottom"}),nG(i,{angle:c("titleAngle"),baseline:c("titleBaseline"),fill:c("titleColor"),fillOpacity:c("titleOpacity"),font:c("titleFont"),fontSize:c("titleFontSize"),fontStyle:c("titleFontStyle"),fontWeight:c("titleFontWeight"),limit:c("titleLimit")},{align:c("titleAlign")}),!eG(i,"x",c("titleX"),"update")&&!f&&!uG("x",n)&&(i.enter.auto={value:!0}),!eG(i,"y",c("titleY"),"update")&&f&&!uG("y",n)&&(i.enter.auto={value:!0}),cG(mG,HH,hH,null,r,i,n)},zX=function(t,e){var n,r,i,o,a,u,c=CX(t,e),s=t.encode||{},l=s.axis||{},f=l.name||void 0,h=l.interactive,d=l.style,p=sG(t,c);return n={orient:t.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=t.title},r=n$(e.add(nW({},[n]))),l=rG({update:{offset:tG(p("offset")||0),position:tG(y$(t.position,0)),titlePadding:tG(p("titlePadding")),minExtent:tG(p("minExtent")),maxExtent:tG(p("maxExtent")),range:{signal:'abs(span(range("'.concat(t.scale,'")))')}}},s.axis,mH),i=n$(e.add(tW({scale:e.scaleRef(t.scale),extra:e.property(p("tickExtra")),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),u=[],n.grid&&u.push(FX(t,c,s.grid,i)),n.ticks&&(o=p("tickSize"),u.push(NX(t,c,s.ticks,i,o))),n.labels&&(o=n.ticks?o:0,u.push(IX(t,c,s.labels,i,o))),n.domain&&u.push(MX(t,c,s.domain,r)),n.title&&u.push(LX(t,c,s.title,r)),a=kG(BH,d,f,r,h,l,u),t.zindex&&(a.zindex=t.zindex),hX(a,e)},BX=function(t,e,n){var r=Object(xe["i"])(t.signals),i=Object(xe["i"])(t.scales);return n||r.forEach((function(t){return Zq(t,e)})),Object(xe["i"])(t.projections).forEach((function(t){return XW(t,e)})),i.forEach((function(t){return CW(t,e)})),Object(xe["i"])(t.data).forEach((function(t){return SX(t,e)})),i.forEach((function(t){return MW(t,e)})),(n||r).forEach((function(t){return Z$(t,e)})),Object(xe["i"])(t.axes).forEach((function(t){return zX(t,e)})),Object(xe["i"])(t.marks).forEach((function(t){return hX(t,e)})),Object(xe["i"])(t.legends).forEach((function(t){return pX(t,e)})),t.title&&OX(t.title,e),e.parseLambdas(),e},UX=Object(xe["bb"])(["width","height","padding","autosize"]);function qX(t,e){var n,r,i,o,a,u,c=e.config;return e.background=t.background||c.background,e.eventConfig=c.events,a=n$(e.root=e.add(e$())),e.addSignal("width",t.width||0),e.addSignal("height",t.height||0),e.addSignal("padding",Hq(t.padding,c)),e.addSignal("autosize",Wq(t.autosize,c)),e.legends=e.objectProperty(c.legend&&c.legend.layout),u=$X(e,t.signals,c.signals),r=e.add(nW()),i=rG({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t.encode),i=e.add(oW(iG(i,pG,LH,t.style,e,{pulse:n$(r)}))),o=e.add(SW({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:a,pulse:n$(i)})),e.operators.pop(),e.pushState(n$(i),n$(o),null),BX(t,e,u),e.operators.push(o),n=e.add(eW({mark:a,pulse:n$(o)})),n=e.add(xW({pulse:n$(n)})),n=e.add(OW({pulse:n$(n)})),e.addData("root",new iX(e,r,r,n)),e}function $X(t,e,n){if(Object(xe["i"])(e).forEach((function(e){UX[e.name]||Zq(e,t)})),!n)return e;var r=Object(xe["i"])(e).slice();return Object(xe["i"])(n).forEach((function(e){t.hasOwnSignal(e.name)||(Zq(e,t),r.push(e))})),r}function WX(t){this.config=t,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function HX(t){this.config=t.config,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}var GX=WX.prototype=HX.prototype;function XX(t){return(Object(xe["A"])(t)?VX:YX)(t)}function VX(t){for(var e,n="[",r=0,i=t.length;r<i;++r)e=t[r],n+=(r>0?",":"")+(Object(xe["F"])(e)?e.signal||XX(e):Object(xe["X"])(e));return n+"]"}function YX(t){var e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+Object(xe["X"])(e)+":"+(Object(xe["F"])(n)?n.signal||XX(n):Object(xe["X"])(n));return r+"}"}GX.fork=function(){return new HX(this)},GX.isSubscope=function(){return this._subid>0},GX.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},GX.id=function(){return(this._subid?this._subid+":":0)+this._id++},GX.add=function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach((function(e){e.$ref=t.id})),t.refs=null),t},GX.proxy=function(t){var e=t instanceof Qq?n$(t):t;return this.add(bW({value:e}))},GX.addStream=function(t){return this.streams.push(t),t.id=this.id(),t},GX.addUpdate=function(t){return this.updates.push(t),t},GX.finish=function(){var t,e;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(t,e,n){var r,i;t&&(r=t.data||(t.data={}),i=r[e]||(r[e]=[]),i.push(n))}for(t in this.data)for(var r in e=this.data[t],n(e.input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values"),e.index)n(e.index[r],t,"index:"+r);return this},GX.pushState=function(t,e,n){this._encode.push(n$(this.add(OW({pulse:t})))),this._parent.push(e),this._lookup.push(n?n$(this.proxy(n)):null),this._markpath.push(-1)},GX.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},GX.parent=function(){return Object(xe["S"])(this._parent)},GX.encode=function(){return Object(xe["S"])(this._encode)},GX.lookup=function(){return Object(xe["S"])(this._lookup)},GX.markpath=function(){var t=this._markpath;return++t[t.length-1]},GX.fieldRef=function(t,e){if(Object(xe["H"])(t))return r$(t,e);t.signal||Object(xe["n"])("Unsupported field reference: "+Object(xe["X"])(t));var n,r=t.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},e&&(n.as=e),this.field[r]=i=n$(this.add(cW(n)))),i},GX.compareRef=function(t){function e(t){return d$(t)?(r=!0,n.signalRef(t.signal)):p$(t)?(r=!0,n.exprRef(t.expr)):t}var n=this,r=!1,i=Object(xe["i"])(t.field).map(e),o=Object(xe["i"])(t.order).map(e);return r?n$(this.add(rW({fields:i,orders:o}))):o$(i,o)},GX.keyRef=function(t,e){function n(t){return d$(t)?(i=!0,n$(r[t.signal])):t}var r=this.signals,i=!1;return t=Object(xe["i"])(t).map(n),i?n$(this.add(sW({fields:t,flat:e}))):a$(t,e)},GX.sortRef=function(t){if(!t)return t;var e=l$(t.op,t.field),n=t.order||u$;return n.signal?n$(this.add(rW({fields:e,orders:this.signalRef(n.signal)}))):o$(e,n)},GX.event=function(t,e){var n=t+":"+e;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},GX.hasOwnSignal=function(t){return Object(xe["v"])(this.signals,t)},GX.addSignal=function(t,e){this.hasOwnSignal(t)&&Object(xe["n"])("Duplicate signal name: "+Object(xe["X"])(t));var n=e instanceof Qq?e:this.add(e$(e));return this.signals[t]=n},GX.getSignal=function(t){return this.signals[t]||Object(xe["n"])("Unrecognized signal name: "+Object(xe["X"])(t)),this.signals[t]},GX.signalRef=function(t){return this.signals[t]?n$(this.signals[t]):(Object(xe["v"])(this.lambdas,t)||(this.lambdas[t]=this.add(e$(null))),n$(this.lambdas[t]))},GX.parseLambdas=function(){for(var t=Object.keys(this.lambdas),e=0,n=t.length;e<n;++e){var r=t[e],i=Kq(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},GX.property=function(t){return t&&t.signal?this.signalRef(t.signal):t},GX.objectProperty=function(t){return t&&Object(xe["F"])(t)?this.signalRef(t.signal||XX(t)):t},GX.exprRef=function(t,e){var n={expr:Kq(t,this)};return e&&(n.expr.$name=e),n$(this.add(aW(n)))},GX.addBinding=function(t,e){this.bindings||Object(xe["n"])("Nested signals do not support binding: "+Object(xe["X"])(t)),this.bindings.push(Object(xe["o"])({signal:t},e))},GX.addScaleProj=function(t,e){Object(xe["v"])(this.scales,t)&&Object(xe["n"])("Duplicate scale or projection name: "+Object(xe["X"])(t)),this.scales[t]=this.add(e)},GX.addScale=function(t,e){this.addScaleProj(t,_W(e))},GX.addProjection=function(t,e){this.addScaleProj(t,mW(e))},GX.getScale=function(t){return this.scales[t]||Object(xe["n"])("Unrecognized scale name: "+Object(xe["X"])(t)),this.scales[t]},GX.projectionRef=GX.scaleRef=function(t){return n$(this.getScale(t))},GX.projectionType=GX.scaleType=function(t){return this.getScale(t).params.type},GX.addData=function(t,e){return Object(xe["v"])(this.data,t)&&Object(xe["n"])("Duplicate data set name: "+Object(xe["X"])(t)),this.data[t]=e},GX.getData=function(t){return this.data[t]||Object(xe["n"])("Undefined data set name: "+Object(xe["X"])(t)),this.data[t]},GX.addDataPipeline=function(t,e){return Object(xe["v"])(this.data,t)&&Object(xe["n"])("Duplicate data set name: "+Object(xe["X"])(t)),this.addData(t,iX.fromEntries(this,e))};var JX=function(t){return(t||[]).reduce((function(t,e){for(var n in e)if("signals"===n)t.signals=KX(t.signals,e.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;ZX(t,n,e[n],r)}return t}),aV())};function ZX(t,e,n,r){var i,o;if(Object(xe["F"])(n)&&!Object(xe["A"])(n))for(i in o=Object(xe["F"])(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?ZX(o,i,n[i]):o[i]=n[i];else t[e]=n}function KX(t,e){if(null==t)return e;var n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}var QX="sans-serif",tV=30,eV=2,nV="#4c78a8",rV="#000",iV="#888",oV="#ddd";function aV(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:nV},area:{fill:nV},image:null,line:{stroke:nV,strokeWidth:eV},path:{stroke:nV},rect:{fill:nV},rule:{stroke:rV},shape:{stroke:nV},symbol:{fill:nV,size:64},text:{fill:rV,font:QX,fontSize:11},style:{"guide-label":{fill:rV,font:QX,fontSize:10},"guide-title":{fill:rV,font:QX,fontSize:11,fontWeight:"bold"},"group-title":{fill:rV,font:QX,fontSize:13,fontWeight:"bold"},point:{size:tV,strokeWidth:eV,shape:"circle"},circle:{size:tV,strokeWidth:eV},square:{size:tV,strokeWidth:eV,shape:"square"},cell:{fill:"transparent",stroke:oV}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:iV,grid:!1,gridWidth:1,gridColor:oV,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:iV,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:oV,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:iV,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}var uV=function(t,e){return Object(xe["F"])(t)||Object(xe["n"])("Input Vega specification must be an object."),qX(t,new WX(JX([e,t.config]))).toRuntime()};Object(xe["o"])(Na,r,i,a,u,c,s,l,f,h,d);var cV=n("a87b");Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var sV=n("2410"),lV=n.n(sV),fV=n("694b"),hV=n.n(fV),dV=n("f71e"),pV=n.n(dV);function vV(t){return!!t.or}function yV(t){return!!t.and}function gV(t){return!!t.not}function mV(t,e){if(gV(t))mV(t.not,e);else if(yV(t)){var n=!0,r=!1,i=void 0;try{for(var o,a=t.and[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;mV(u,e)}}catch(p){r=!0,i=p}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}else if(vV(t)){var c=!0,s=!1,l=void 0;try{for(var f,h=t.or[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;mV(d,e)}}catch(p){s=!0,l=p}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}}else e(t)}function bV(t,e){return gV(t)?{not:bV(t.not,e)}:yV(t)?{and:t.and.map((function(t){return bV(t,e)}))}:vV(t)?{or:t.or.map((function(t){return bV(t,e)}))}:e(t)}function wV(t){return wV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wV(t)}function xV(t,e){return kV(t)||OV(t,e)||_V()}function _V(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function OV(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function kV(t){if(Array.isArray(t))return t}function SV(t){return EV(t)||AV(t)||jV()}function jV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function AV(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function EV(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var CV=hV.a,MV=lV.a;function DV(t,e){var n={},r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;Object(xe["v"])(t,c)&&(n[c]=t[c])}}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}function FV(t,e){var n=Object.assign({},t),r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;delete n[c]}}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}Set.prototype["toJSON"]=function(){return"Set(".concat(SV(this).map((function(t){return pV()(t)})).join(","),")")};var TV=pV.a;function NV(t){if(Object(xe["E"])(t))return t;var e=Object(xe["H"])(t)?t:pV()(t);if(e.length<250)return e;for(var n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);n=(n<<5)-n+i,n&=n}return n}function PV(t){return!1===t||null===t}function RV(t,e){return t.indexOf(e)>-1}function IV(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,u=t.entries()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=xV(a.value,2),s=c[0],l=c[1];if(e(l,s,n++))return!0}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return!1}function LV(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,u=t.entries()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=xV(a.value,2),s=c[0],l=c[1];if(!e(l,s,n++))return!1}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return!0}function zV(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];t=BV(t,a)}return t}function BV(t,e){if("object"!==wV(e)||null===e)return t;for(var n in e)Object(xe["v"])(e,n)&&void 0!==e[n]&&("object"!==wV(e[n])||Object(xe["A"])(e[n])||null===e[n]?t[n]=e[n]:"object"!==wV(t[n])||null===t[n]?t[n]=zV(Object(xe["A"])(e[n].constructor)?[]:{},e[n]):zV(t[n],e[n]));return t}function UV(t,e){var n,r=[],i={},o=!0,a=!1,u=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;n=e(l),n in i||(i[n]=1,r.push(l))}}catch(f){a=!0,u=f}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}return r}function qV(t,e){if(t.size!==e.size)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(!e.has(u))return!1}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}function $V(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(e.has(u))return!0}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}function WV(t){var e=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=function(){var t=o.value,n=Object(xe["W"])(t),r=n.map((function(t,e){return 0===e?t:"[".concat(t,"]")})),i=r.map((function(t,e){return r.slice(0,e+1).join("")}));i.forEach((function(t){return e.add(t)}))},u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)a()}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return e}function HV(t,e){return void 0===t||void 0===e||$V(WV(t),WV(e))}var GV=Object.keys;function XV(t){var e=[];for(var n in t)Object(xe["v"])(t,n)&&e.push(t[n]);return e}function VV(t){return!0===t||!1===t}function YV(t){var e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function JV(t,e){return gV(t)?"!("+JV(t.not,e)+")":yV(t)?"("+t.and.map((function(t){return JV(t,e)})).join(") && (")+")":vV(t)?"("+t.or.map((function(t){return JV(t,e)})).join(") || (")+")":e(t)}function ZV(t,e){if(0===e.length)return!0;var n=e.shift();return ZV(t[n],e)&&delete t[n],0===GV(t).length}function KV(t){return t.charAt(0).toUpperCase()+t.substr(1)}function QV(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Object(xe["W"])(t),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(xe["X"]).join("]["),"]");r.push("".concat(e).concat(o))}return r.join(" && ")}function tY(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(e,"[").concat(Object(xe["X"])(Object(xe["W"])(t).join(".")),"]")}function eY(t){return"".concat(Object(xe["W"])(t).map((function(t){return t.replace(".","\\.")})).join("\\."))}function nY(t){return"".concat(Object(xe["W"])(t).join("."))}function rY(t){return t?Object(xe["W"])(t).length:0}function iY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];if(void 0!==o)return o}}var oY=42;function aY(t){var e=++oY;return t?String(t)+e:e}function uY(t){return cY(t)?t:"__".concat(t)}function cY(t){return 0===t.indexOf("__")}function sY(t){return(t%360+360)%360}var lY="area",fY="bar",hY="image",dY="line",pY="point",vY="rect",yY="rule",gY="text",mY="tick",bY="trail",wY="circle",xY="square",_Y="geoshape",OY={area:1,bar:1,image:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1};function kY(t){return RV(["line","area","trail"],t)}function SY(t){return RV(["rect","bar","image"],t)}var jY=GV(OY);function AY(t){return t["type"]}Object(xe["bb"])(jY);var EY=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],CY=["fill","fillOpacity"],MY=[].concat(EY,CY),DY=["filled","color","tooltip","invalid","timeUnitBandPosition","timeUnitBand"],FY={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},TY={color:"#4c78a8",invalid:"filter",timeUnitBand:1},NY=5,PY={binSpacing:1,continuousBandSize:NY,timeUnitBandPosition:.5},RY={binSpacing:0,continuousBandSize:NY,timeUnitBandPosition:.5},IY={thickness:1};function LY(t){return AY(t)?t.type:t}function zY(t){return!!t["mark"]}function BY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qY(t,e,n){return e&&UY(t.prototype,e),n&&UY(t,n),t}var $Y=function(){function t(e,n){BY(this,t),this.name=e,this.run=n}return qY(t,[{key:"hasMatchingType",value:function(t){return!!zY(t)&&LY(t.mark)===this.name}}]),t}(),WY={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},HY={count:1,min:1,max:1};function GY(t){return!!t&&!!t["argmin"]}function XY(t){return!!t&&!!t["argmax"]}GV(WY);function VY(t){return Object(xe["H"])(t)&&!!WY[t]}var YY=["count","valid","missing","distinct"];function JY(t){return t&&Object(xe["H"])(t)&&RV(YY,t)}function ZY(t){return t&&Object(xe["H"])(t)&&RV(["min","max"],t)}var KY=["count","sum","distinct","valid","missing"],QY=["mean","average","median","q1","q3","min","max"],tJ=Object(xe["bb"])(QY),eJ="row",nJ="column",rJ="facet",iJ="x",oJ="y",aJ="x2",uJ="y2",cJ="latitude",sJ="longitude",lJ="latitude2",fJ="longitude2",hJ="color",dJ="fill",pJ="stroke",vJ="shape",yJ="size",gJ="opacity",mJ="fillOpacity",bJ="strokeOpacity",wJ="strokeWidth",xJ="text",_J="order",OJ="detail",kJ="key",SJ="tooltip",jJ="href",AJ="url",EJ={x:1,y:1,x2:1,y2:1};function CJ(t){switch(t){case cJ:return"y";case lJ:return"y2";case sJ:return"x";case fJ:return"x2"}}var MJ={longitude:1,longitude2:1,latitude:1,latitude2:1};function DJ(t){return t in MJ}var FJ=GV(MJ),TJ=Object.assign(Object.assign(Object.assign({},EJ),MJ),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1});function NJ(t){return"color"===t||"fill"===t||"stroke"===t}var PJ={row:1,column:1,facet:1},RJ=GV(PJ),IJ=Object.assign(Object.assign({},TJ),PJ),LJ=GV(IJ),zJ=(IJ.order,IJ.detail,IJ.tooltip,x(IJ,["order","detail","tooltip"])),BJ=(zJ.row,zJ.column,zJ.facet,x(zJ,["row","column","facet"]));GV(zJ),GV(BJ);function UJ(t){return!!BJ[t]}function qJ(t){return!!IJ[t]}var $J=["x2","y2","latitude2","longitude2"];function WJ(t){var e=HJ(t);return e!==t}function HJ(t){switch(t){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude"}return t}function GJ(t){switch(t){case"x":return"x2";case"y":return"y2";case"latitude":return"latitude2";case"longitude":return"longitude2"}}GV(TJ),TJ.x,TJ.y,TJ.x2,TJ.y2,TJ.latitude,TJ.longitude,TJ.latitude2,TJ.longitude2;var XJ=x(TJ,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),VJ=GV(XJ),YJ={x:1,y:1},JJ=GV(YJ);function ZJ(t){return"x"===t?"width":"height"}function KJ(t){return"width"===t?"x":"y"}XJ.text,XJ.tooltip,XJ.href,XJ.url,XJ.detail,XJ.key,XJ.order;var QJ=x(XJ,["text","tooltip","href","url","detail","key","order"]),tZ=GV(QJ);function eZ(t){return!!XJ[t]}function nZ(t){switch(t){case hJ:case dJ:case pJ:case yJ:case vJ:case gJ:case wJ:return!0;case mJ:case bJ:return!1}}var rZ=Object.assign(Object.assign({},YJ),QJ),iZ=GV(rZ);function oZ(t){return!!rZ[t]}function aZ(t,e){return sZ(t)[e]}var uZ={area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},cZ=(uZ.geoshape,x(uZ,["geoshape"]));function sZ(t){switch(t){case hJ:case dJ:case pJ:case OJ:case kJ:case SJ:case jJ:case _J:case gJ:case mJ:case bJ:case wJ:case rJ:case eJ:case nJ:return uZ;case iJ:case oJ:case cJ:case sJ:return cZ;case aJ:case uJ:case lJ:case fJ:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case yJ:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case vJ:return{point:"always",geoshape:"always"};case xJ:return{text:"always"};case AJ:return{image:"always"}}}function lZ(t){switch(t){case iJ:case oJ:case yJ:case wJ:case gJ:case mJ:case bJ:case aJ:case uJ:return;case rJ:case eJ:case nJ:case vJ:case xJ:case SJ:case jJ:case AJ:return"discrete";case hJ:case dJ:case pJ:return"flexible";case cJ:case sJ:case lJ:case fJ:case OJ:case kJ:case _J:return}}function fZ(t){return"Invalid specification ".concat(JSON.stringify(t),'.  Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var hZ='Autosize "fit" only works for single views and layered views.';function dZ(t){return t?'Dropping "fit-'.concat(t,'" because spec has discrete ').concat(ZJ(t),"."):'Dropping "fit" because spec has discrete size.'}function pZ(t){return'Cannot project a selection on encoding channel "'.concat(t,'", which has no field.')}function vZ(t){return'The "nearest" transform is not supported for '.concat(t," marks.")}function yZ(t){return"Selection not supported for ".concat(t," yet.")}function gZ(t){return'Cannot find a selection named "'.concat(t,'".')}var mZ="Scale bindings are currently only supported for scales with unbinned, continuous domains.";function bZ(t){return'Unknown repeated value "'.concat(t,'".')}function wZ(t){return'The "columns" property cannot be used when "'.concat(t,'" has nested row/column.')}var xZ="Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",_Z="Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function OZ(t){return'Unrecognized parse "'.concat(t,'".')}function kZ(t,e,n){return'An ancestor parsed field "'.concat(t,'" as ').concat(n," but a child wants to parse the field as ").concat(e,".")}function SZ(t){return"Ignoring an invalid transform: ".concat(TV(t),".")}var jZ='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function AZ(t){return"Layer's shared ".concat(t.join(",")," channel ").concat(1===t.length?"is":"are"," overriden.")}function EZ(t){var e=t.parentProjection,n=t.projection;return"Layer's shared projection ".concat(TV(e)," is overridden by a child projection ").concat(TV(n),".")}function CZ(t,e,n){return"Channel ".concat(t," is a ").concat(e,". Converted to {value: ").concat(TV(n),"}.")}function MZ(t){return'Invalid field type "'.concat(t,'".')}function DZ(t,e,n){var r=n.scaleType?"".concat(n.scaleType," scale"):n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero";return"A ".concat(r," is used to encode ").concat(t,"'s ").concat(e,". This can be misleading as the ").concat("x"===e?"width":"height"," of the ").concat(t," can be arbitrary based on the scale domain. You may want to use point mark instead.")}function FZ(t,e){return'Invalid field type "'.concat(t,'" for aggregate: "').concat(e,'", using "quantitative" instead.')}function TZ(t){return'Invalid aggregation operator "'.concat(t,'".')}function NZ(t,e){return'Missing type for channel "'.concat(t,'", using "').concat(e,'" instead.')}function PZ(t,e){var n=e.fill,r=e.stroke;return"Dropping color ".concat(t," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function RZ(t,e){return"Dropping ".concat(TV(t),' from channel "').concat(e,'" since it does not contain data field or value.')}function IZ(t,e,n){return"".concat(t,"-encoding with type ").concat(e," is deprecated. Replacing with ").concat(n,"-encoding.")}var LZ="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function zZ(t,e,n){return"".concat(t,' dropped as it is incompatible with "').concat(e,'"').concat(n?" when ".concat(n):"",".")}function BZ(t){return"".concat(t,"-encoding is dropped as ").concat(t," is not a valid encoding channel.")}function UZ(t){return"".concat(t," encoding should be discrete (ordinal / nominal / binned).")}function qZ(t){return"Facet encoding dropped as ".concat(t.join(" and ")," ").concat(t.length>1?"are":"is"," also specified.")}function $Z(t,e){return'Using discrete channel "'.concat(t,'" to encode "').concat(e,'" field can be misleading as it does not encode ').concat("ordinal"===e?"order":"magnitude",".")}function WZ(t,e){var n=t&&e?"x2 and y2":t?"x2":"y2";return"Line mark is for continuous lines and thus cannot be used with ".concat(n,". We will use the rule mark (line segments) instead.")}function HZ(t,e){return'Specified orient "'.concat(t,'" overridden with "').concat(e,'".')}var GZ="Custom domain scale cannot be unioned with default field-based domain.",XZ='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function VZ(t){return'Cannot use the scale property "'.concat(t,'" with non-color channel.')}function YZ(t){return"Using unaggregated domain with raw field has no effect (".concat(TV(t),").")}function JZ(t){return'Unaggregated domain not applicable for "'.concat(t,'" since it produces values outside the origin domain of the source data.')}function ZZ(t){return"Unaggregated domain is currently unsupported for log scale (".concat(TV(t),").")}function KZ(t){return'Cannot apply size to non-oriented mark "'.concat(t,'".')}function QZ(t,e,n){return'Channel "'.concat(t,'" does not work with "').concat(e,'" scale. We are using "').concat(n,'" scale instead.')}function tK(t,e){return'FieldDef does not work with "'.concat(t,'" scale. We are using "').concat(e,'" scale instead.')}function eK(t,e,n){return"".concat(n,"-scale's \"").concat(e,'" is dropped as it does not work with ').concat(t," scale.")}function nK(t,e){return'Scale type "'.concat(e,'" does not work with mark "').concat(t,'".')}function rK(t){return'The step for "'.concat(t,'" is dropped because the ').concat("width"===t?"x":"y"," is continuous.")}function iK(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(TV(n)," and ").concat(TV(r),"). Using ").concat(TV(n),".")}function oK(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(TV(n)," and ").concat(TV(r),"). Using the union of the two domains.")}function aK(t){return'Setting the scale to be independent for "'.concat(t,'" means we also have to set the guide (axis or legend) to be independent.')}function uK(t){return"Dropping sort property ".concat(TV(t),' as unioned domains only support boolean or op "count", "min", and "max".')}var cK="Unable to merge domains.",sK="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",lK="Invalid channel for axis.";function fK(t){return'Cannot stack "'.concat(t,'" if there is already "').concat(t,'2".')}function hK(t){return"Cannot stack non-linear scale (".concat(t,").")}function dK(t){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(t,'").')}function pK(t,e){return"Invalid ".concat(t,": ").concat(TV(e),".")}function vK(t){return'Time unit "'.concat(t,'" is not supported. We are replacing it with ').concat(t.replace("day","date"),".")}function yK(t){return"Dropping day from datetime ".concat(TV(t)," as day cannot be combined with other units.")}function gK(t,e){return"".concat(e?"extent ":"").concat(e&&t?"and ":"").concat(t?"center ":"").concat(e&&t?"are ":"is ","not needed when data are aggregated.")}function mK(t,e,n){return"".concat(t," is not usually used with ").concat(e," for ").concat(n,".")}function bK(t,e){return"Continuous axis should not have customized aggregation function ".concat(t,"; ").concat(e," already agregates the axis.")}function wK(t,e){return"Center is not needed to be specified in ".concat(e," when extent is ").concat(t,".")}function xK(t){return"1D error band does not support ".concat(t,".")}function _K(t){return"Channel ".concat(t,' is required for "binned" bin.')}function OK(t){return"Domain for ".concat(t," is required for threshold scale.")}var kK=v,SK=Object(xe["K"])(xe["e"]),jK=SK;function AK(t){return jK=t,jK}function EK(){return jK=SK,jK}function CK(){var t;(t=jK).warn.apply(t,arguments)}function MK(){var t;(t=jK).debug.apply(t,arguments)}var DK={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1};var FK,TK="quantitative",NK="ordinal",PK="temporal",RK="nominal",IK="geojson";function LK(t){if(t)switch(t=t.toLowerCase(),t){case"q":case TK:return"quantitative";case"t":case PK:return"temporal";case"o":case NK:return"ordinal";case"n":case RK:return"nominal";case IK:return"geojson"}}(function(t){t.LINEAR="linear",t.LOG="log",t.POW="pow",t.SQRT="sqrt",t.SYMLOG="symlog",t.TIME="time",t.UTC="utc",t.QUANTILE="quantile",t.QUANTIZE="quantize",t.THRESHOLD="threshold",t.BIN_ORDINAL="bin-ordinal",t.ORDINAL="ordinal",t.POINT="point",t.BAND="band"})(FK||(FK={}));var zK={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},BK=GV(zK);function UK(t,e){var n=zK[t],r=zK[e];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var qK={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function $K(t){return qK[t]}var WK=["linear","log","pow","sqrt","symlog","time","utc"],HK=Object(xe["bb"])(WK),GK=["quantile","quantize","threshold"],XK=Object(xe["bb"])(GK),VK=WK.concat(["quantile","quantize","threshold"]),YK=Object(xe["bb"])(VK),JK=["ordinal","bin-ordinal","point","band"],ZK=Object(xe["bb"])(JK);function KK(t){return t in ZK}function QK(t){return t in YK}function tQ(t){return t in HK}function eQ(t){return t in XK}var nQ={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function rQ(t){return t&&!!t["name"]}function iQ(t){return t&&t["selection"]}var oQ={type:1,domain:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},aQ=(GV(oQ),oQ.type,oQ.domain,oQ.range,oQ.scheme,x(oQ,["type","domain","range","scheme"])),uQ=GV(aQ);hQ();function cQ(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!RV(["point","band","identity"],t);case"bins":return!RV(["point","band","identity","ordinal"],t);case"round":return tQ(t)||"band"===t||"point"===t;case"padding":return tQ(t)||RV(["point","band"],t);case"paddingOuter":case"align":return RV(["point","band"],t);case"paddingInner":return"band"===t;case"clamp":return tQ(t);case"nice":return tQ(t)||"quantize"===t||"threshold"===t;case"exponent":return"pow"===t;case"base":return"log"===t;case"constant":return"symlog"===t;case"zero":return QK(t)&&!RV(["log","time","utc","threshold","quantile"],t)}}function sQ(t,e){switch(e){case"interpolate":case"scheme":return NJ(t)?void 0:kK.cannotUseScalePropertyWithNonColor(t);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function lQ(t,e){return RV([NK,RK],e)?void 0===t||KK(t):e===PK?RV([FK.TIME,FK.UTC,void 0],t):e!==TK||RV([FK.LOG,FK.POW,FK.SQRT,FK.SYMLOG,FK.QUANTILE,FK.QUANTIZE,FK.THRESHOLD,FK.LINEAR,void 0],t)}function fQ(t,e){switch(t){case iJ:case oJ:return tQ(e)||RV(["band","point"],e);case yJ:case wJ:case gJ:case mJ:case bJ:return tQ(e)||eQ(e)||RV(["band","point"],e);case hJ:case dJ:case pJ:return"band"!==e;case vJ:return"ordinal"===e}return!1}function hQ(){var t={},e=!0,n=!1,r=void 0;try{for(var i,o=LJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=GV(DK)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value,d=!0,p=!1,v=void 0;try{for(var y,g=BK[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value,b=dQ(a,h);fQ(a,m)&&lQ(m,h)&&(t[b]=t[b]||[],t[b].push(m))}}catch(w){p=!0,v=w}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}}}catch(w){c=!0,s=w}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(w){n=!0,r=w}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}function dQ(t,e){return t+"_"+e}var pQ=2006;function vQ(t){return!!t&&(!!t.year||!!t.quarter||!!t.month||!!t.date||!!t.day||!!t.hours||!!t.minutes||!!t.seconds||!!t.milliseconds)}var yQ,gQ=["january","february","march","april","may","june","july","august","september","october","november","december"],mQ=gQ.map((function(t){return t.substr(0,3)})),bQ=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],wQ=bQ.map((function(t){return t.substr(0,3)}));function xQ(t){if(Object(xe["E"])(t))return t>4&&CK(kK.invalidTimeUnit("quarter",t)),(t-1).toString();throw new Error(kK.invalidTimeUnit("quarter",t))}function _Q(t){if(Object(xe["E"])(t))return(t-1).toString();var e=t.toLowerCase(),n=gQ.indexOf(e);if(-1!==n)return n+"";var r=e.substr(0,3),i=mQ.indexOf(r);if(-1!==i)return i+"";throw new Error(kK.invalidTimeUnit("month",t))}function OQ(t){if(Object(xe["E"])(t))return t%7+"";var e=t.toLowerCase(),n=bQ.indexOf(e);if(-1!==n)return n+"";var r=e.substr(0,3),i=wQ.indexOf(r);if(-1!==i)return i+"";throw new Error(kK.invalidTimeUnit("day",t))}function kQ(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(e&&void 0!==t.day&&GV(t).length>1&&(CK(kK.droppedDay(t)),t=MV(t),delete t.day),void 0!==t.year?r.push(t.year):void 0!==t.day?r.push(pQ):r.push(0),void 0!==t.month){var i=e?_Q(t.month):t.month;r.push(i)}else if(void 0!==t.quarter){var o=e?xQ(t.quarter):t.quarter;r.push(o+"*3")}else r.push(0);if(void 0!==t.date)r.push(t.date);else if(void 0!==t.day){var a=e?OQ(t.day):t.day;r.push(a+"+1")}else r.push(1);for(var u=0,c=["hours","minutes","seconds","milliseconds"];u<c.length;u++){var s=c[u];void 0!==t[s]?r.push(t[s]):r.push(0)}var l=r.join(", ");return n?t.utc?new Function("return +new Date(Date.UTC(".concat(l,"))"))():new Function("return +new Date(".concat(l,")"))():t.utc?"utc(".concat(l,")"):"datetime(".concat(l,")")}function SQ(t){return EQ(t)||AQ(t)||jQ()}function jQ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function AQ(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function EQ(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(function(t){t.YEAR="year",t.MONTH="month",t.DAY="day",t.DATE="date",t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds",t.MILLISECONDS="milliseconds",t.YEARMONTH="yearmonth",t.YEARMONTHDATE="yearmonthdate",t.YEARMONTHDATEHOURS="yearmonthdatehours",t.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",t.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",t.MONTHDATE="monthdate",t.MONTHDATEHOURS="monthdatehours",t.HOURSMINUTES="hoursminutes",t.HOURSMINUTESSECONDS="hoursminutesseconds",t.MINUTESSECONDS="minutesseconds",t.SECONDSMILLISECONDS="secondsmilliseconds",t.QUARTER="quarter",t.YEARQUARTER="yearquarter",t.QUARTERMONTH="quartermonth",t.YEARQUARTERMONTH="yearquartermonth",t.UTCYEAR="utcyear",t.UTCMONTH="utcmonth",t.UTCDAY="utcday",t.UTCDATE="utcdate",t.UTCHOURS="utchours",t.UTCMINUTES="utcminutes",t.UTCSECONDS="utcseconds",t.UTCMILLISECONDS="utcmilliseconds",t.UTCYEARMONTH="utcyearmonth",t.UTCYEARMONTHDATE="utcyearmonthdate",t.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",t.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",t.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",t.UTCMONTHDATE="utcmonthdate",t.UTCMONTHDATEHOURS="utcmonthdatehours",t.UTCHOURSMINUTES="utchoursminutes",t.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",t.UTCMINUTESSECONDS="utcminutesseconds",t.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",t.UTCQUARTER="utcquarter",t.UTCYEARQUARTER="utcyearquarter",t.UTCQUARTERMONTH="utcquartermonth",t.UTCYEARQUARTERMONTH="utcyearquartermonth"})(yQ||(yQ={}));var CQ={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},MQ=GV(CQ);function DQ(t){return!!CQ[t]}var FQ={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};function TQ(t){return!!FQ[t]}var NQ={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},PQ={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},RQ=Object.assign(Object.assign({},FQ),PQ);function IQ(t){return!!RQ[t]}function LQ(t){return t.substr(3)}var zQ=Object.assign(Object.assign(Object.assign(Object.assign({},CQ),FQ),NQ),PQ);GV(zQ);function BQ(t){return MQ.reduce((function(e,n){return UQ(t,n)?[].concat(SQ(e),[n]):e}),[])}function UQ(t,e){var n=t.indexOf(e);return n>-1&&(e!==yQ.SECONDS||0===n||"i"!==t.charAt(n-1))}function qQ(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,o=QV(e),a=IQ(t)?"utc":"";function u(t){return t===yQ.QUARTER?"(".concat(a,"quarter(").concat(o,")-1)"):"".concat(a).concat(t,"(").concat(o,")")}var c=MQ.reduce((function(e,r){return UQ(t,r)&&(e[r]=u(r),n=r),e}),{});return i&&(c[n]+="+1"),kQ(c)}function $Q(t,e){if(t){var n=[],r=UQ(t,yQ.YEAR);UQ(t,yQ.MONTH)&&n.push(!1!==e?"%b":"%B"),UQ(t,yQ.DAY)?n.push(e?"%a":"%A"):UQ(t,yQ.DATE)&&n.push("%d"+(r?",":"")),r&&n.push(e?"%y":"%Y");var i=[];UQ(t,yQ.HOURS)&&i.push("%H"),UQ(t,yQ.MINUTES)&&i.push("%M"),UQ(t,yQ.SECONDS)&&i.push("%S"),UQ(t,yQ.MILLISECONDS)&&i.push("%L");var o=[];return n.length>0&&o.push(n.join(" ")),i.length>0&&o.push(i.join(":")),o}}function WQ(t,e,n,r){if(t){var i=$Q(t,n),o="";return UQ(t,yQ.QUARTER)&&(o="'Q' + quarter(".concat(e,")")),i.length>0&&(o&&(o+=" + ' ' + "),o+=r?"utcFormat(".concat(e,", '").concat(i.join(" "),"')"):"timeFormat(".concat(e,", '").concat(i.join(" "),"')")),o||void 0}}function HQ(t){return"day"!==t&&t.indexOf("day")>=0?(CK(kK.dayReplacedWithDate(t)),t.replace("day","date")):t}function GQ(t){return YQ(t)||VQ(t)||XQ()}function XQ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function VQ(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function YQ(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function JQ(t,e,n){var r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=QQ(c,e.markDef,e.config);void 0!==s&&(t[c]={value:s})}}catch(l){i=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}function ZQ(t){return[].concat(t.type,t.style||[])}function KQ(t,e,n){return iY(e[t],QQ(t,e,n))}function QQ(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return iY(i?t0(t,e,n.style):void 0,t0(t,e,n.style),i?n[e.type][i]:void 0,n[e.type][t],i?n.mark[i]:n.mark[t])}function t0(t,e,n){var r,i=ZQ(e),o=!0,a=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=n[l],h=t;f&&void 0!==f[h]&&(r=f[h])}}catch(d){a=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}return r}function e0(t,e,n,r){if(u1(t)){var i=N0(t)&&t["scale"]&&t["scale"].type===FK.UTC;return{signal:a0(z0(t,{expr:n}),t.timeUnit,e,r.text.shortTimeLabels,r.timeFormat,i,!0)}}var o=n0(t,e,r);if(d1(t.bin)){var a=z0(t,{expr:n}),u=z0(t,{expr:n,binSuffix:"end"});return{signal:o0(a,u,o,r)}}return"quantitative"===t.type||o?{signal:"".concat(r0(z0(t,{expr:n,binSuffix:"range"}),o))}:{signal:"''+".concat(z0(t,{expr:n}))}}function n0(t,e,n){return e||(t.type===TK?n.numberFormat:void 0)}function r0(t,e){return"format(".concat(t,', "').concat(e||"",'")')}function i0(t,e,n){return r0(t,e||n.numberFormat)}function o0(t,e,n,r){return"".concat(t," === null || isNaN(").concat(t,') ? "null" : ').concat(i0(t,n,r),' + " - " + ').concat(i0(e,n,r))}function a0(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return!e||n?(n=n||i,n||a?"".concat(o?"utc":"time","Format(").concat(t,", '").concat(n,"')"):void 0):WQ(e,t,r,o)}function u0(t,e){return Object(xe["i"])(t).reduce((function(t,n){return t.field.push(z0(n,e)),t.order.push(n.sort||"ascending"),t}),{field:[],order:[]})}function c0(t,e){var n=GQ(t);return e.forEach((function(t){var e=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=o.value;if(TV(u)===TV(t))return}}catch(c){r=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}n.push(t)})),n}function s0(t,e){return t!==e&&e?t?t+", "+e:e:t}function l0(t,e){if(Object(xe["A"])(t.value)&&Object(xe["A"])(e.value))return{explicit:t.explicit,value:c0(t.value,e.value)};if(!Object(xe["A"])(t.value)&&!Object(xe["A"])(e.value))return{explicit:t.explicit,value:s0(t.value,e.value)};throw new Error("It should never reach here")}var f0="mean",h0={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function d0(t){return!!h0[t]}function p0(t){return!!t&&!!t["encoding"]}function v0(t){return!!t&&("count"===t["op"]||!!t["field"])}function y0(t){return!!t&&Object(xe["A"])(t)}function g0(t){return!!t["row"]||!!t["column"]}function m0(t){return!!t&&!!t["header"]}function b0(t){return void 0!==t["facet"]}function w0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0(t){return t["selection"]}function _0(t){return t&&!Object(xe["H"])(t)&&"repeat"in t}function O0(t){var e=t.field,n=t.timeUnit,r=t.bin,i=t.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:e})}function k0(t){return D0(t)&&!!t["sort"]}function S0(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.isMidPoint,u=e.timeUnit,c=e.bin;if(RV(["x","y"],t)){if(P0(e)&&void 0!==e.band)return e.band;if(u&&!n)return a?QQ("timeUnitBandPosition",r,i):SY(r.type)?QQ("timeUnitBand",r,i):0;if(d1(c))return SY(r.type)&&!a?1:.5}}function j0(t,e,n,r,i){return!!(d1(e.bin)||e.timeUnit&&D0(e)&&"temporal"===e.type)&&!!S0(t,e,n,r,i)}function A0(t){return!!t&&!!t.condition}function E0(t){return!!t&&!!t.condition&&!Object(xe["A"])(t.condition)&&M0(t.condition)}function C0(t){return!!t&&!!t.condition&&(Object(xe["A"])(t.condition)||T0(t.condition))}function M0(t){return!!t&&(!!t["field"]||"count"===t["aggregate"])}function D0(t){return!!t&&(!!t["field"]&&!!t["type"]||"count"===t["aggregate"])}function F0(t){return M0(t)&&Object(xe["H"])(t.field)}function T0(t){return t&&"value"in t&&void 0!==t["value"]}function N0(t){return!!t&&(!!t["scale"]||!!t["sort"])}function P0(t){return!!t&&(!!t["axis"]||!!t["stack"]||!!t["impute"]||void 0!==t["band"])}function R0(t){return!!t&&!!t["legend"]}function I0(t){return!!t&&!!t["format"]}function L0(t){return!!t["op"]}function z0(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.field,r=e.prefix,i=e.suffix,o="";if(q0(t))n=uY("count");else{var a;if(!e.nofn)if(L0(t))a=t.op;else{var u=t.bin,c=t.aggregate,s=t.timeUnit;d1(u)?(a=h1(u),i=(e.binSuffix||"")+(e.suffix||"")):c?XY(c)?(o=".".concat(n),n="argmax_".concat(c.argmax)):GY(c)?(o=".".concat(n),n="argmin_".concat(c.argmin)):a=String(c):s&&(a=String(s),i=(!RV(["range","mid"],e.binSuffix)&&e.binSuffix||"")+(e.suffix||""))}a&&(n=n?"".concat(a,"_").concat(n):a)}return i&&(n="".concat(n,"_").concat(i)),r&&(n="".concat(r,"_").concat(n)),e.forAs?n:e.expr?tY(n,e.expr)+o:eY(n)+o}function B0(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!t.bin;case"temporal":return!1}throw new Error(kK.invalidFieldType(t.type))}function U0(t){return!B0(t)}function q0(t){return"count"===t.aggregate}function $0(t,e){var n=t.field,r=t.bin,i=t.timeUnit,o=t.aggregate;if("count"===o)return e.countTitle;if(d1(r))return"".concat(n," (binned)");if(i){var a=BQ(i).join("-");return"".concat(n," (").concat(a,")")}return o?XY(o)?"".concat(n," for max ").concat(o.argmax):GY(o)?"".concat(n," for min ").concat(o.argmin):"".concat(KV(o)," of ").concat(n):n}function W0(t){var e=t.aggregate,n=t.bin,r=t.timeUnit,i=t.field;if(XY(e))return"".concat(i," for argmax(").concat(e.argmax,")");if(GY(e))return"".concat(i," for argmin(").concat(e.argmin,")");var o=e||r||d1(n)&&"bin";return o?o.toUpperCase()+"("+i+")":i}var H0=function(t,e){switch(e.fieldTitle){case"plain":return t.field;case"functional":return W0(t);default:return $0(t,e)}},G0=H0;function X0(t){G0=t}function V0(){X0(H0)}function Y0(t,e,n){var r=n.allowDisabling,i=n.includeDefault,o=void 0===i||i,a=J0(t)||{},u=a.title,c=o?Z0(t,e):void 0;return r?iY(u,t.title,c):u||t.title||c}function J0(t){return P0(t)&&t.axis?t.axis:R0(t)&&t.legend?t.legend:m0(t)&&t.header?t.header:void 0}function Z0(t,e){return G0(t,e)}function K0(t){if(I0(t)&&t.format)return t.format;var e=J0(t)||{};return e.format}function Q0(t,e){if(t.timeUnit)return"temporal";if(d1(t.bin))return"quantitative";switch(lZ(e)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function t1(t){return M0(t)?t:E0(t)?t.condition:void 0}function e1(t){return M0(t)?t:E0(t)?t.condition:void 0}function n1(t,e){if(Object(xe["H"])(t)||Object(xe["E"])(t)||Object(xe["B"])(t)){var n=Object(xe["H"])(t)?"string":Object(xe["E"])(t)?"number":"boolean";return CK(kK.primitiveChannelDef(e,n,t)),{value:t}}return M0(t)?r1(t,e):E0(t)?Object.assign(Object.assign({},t),{condition:r1(t.condition,e)}):t}function r1(t,e){var n=t.aggregate,r=t.timeUnit,i=t.bin,o=t.field,a=Object.assign({},t);if(!n||VY(n)||XY(n)||GY(n)||(CK(kK.invalidAggregate(n)),delete a.aggregate),r&&(a.timeUnit=HQ(r)),o&&(a.field="".concat(o)),d1(i)&&(a.bin=i1(i,e)),p1(i)&&!RV(JJ,e)&&CK("Channel ".concat(e,' should not be used with "binned" bin')),D0(a)){var u=a.type,c=LK(u);u!==c&&(a.type=c),"quantitative"!==u&&JY(n)&&(CK(kK.invalidFieldTypeForCountAggregate(u,n)),a.type="quantitative")}else if(!WJ(e)){var s=Q0(a,e);CK(kK.missingFieldType(e,s)),a["type"]=s}if(D0(a)){var l=a1(a,e),f=l.compatible,h=l.warning;f||CK(h)}if(k0(a)&&Object(xe["H"])(a.sort)){var d=a.sort;if(d0(d))return Object.assign(Object.assign({},a),{sort:{encoding:d}});var p=d.substr(1);if("-"===d.charAt(0)&&d0(p))return Object.assign(Object.assign({},a),{sort:{encoding:p,order:"descending"}})}return a}function i1(t,e){return Object(xe["B"])(t)?{maxbins:y1(e)}:"binned"===t?{binned:!0}:t.maxbins||t.step?t:Object.assign(Object.assign({},t),{maxbins:y1(e)})}var o1={compatible:!0};function a1(t,e){var n=t.type;if("geojson"===n&&"shape"!==e)return{compatible:!1,warning:"Channel ".concat(e," should not be used with a geojson data.")};switch(e){case"row":case"column":case"facet":return U0(t)?{compatible:!1,warning:kK.facetChannelShouldBeDiscrete(e)}:o1;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":case"url":return o1;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==TK?{compatible:!1,warning:"Channel ".concat(e," should be used with a quantitative field only, not ").concat(t.type," field.")}:o1;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==n||t["sort"]?o1:{compatible:!1,warning:"Channel ".concat(e," should not be used with an unsorted discrete field.")};case"shape":return RV(["ordinal","nominal","geojson"],t.type)?o1:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==t.type||"sort"in t?o1:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+e)}function u1(t){var e=J0(t),n=e&&e.formatType||I0(t)&&t.formatType;return"time"===n||!n&&c1(t)}function c1(t){return"temporal"===t.type||!!t.timeUnit}function s1(t,e){var n,r=e.timeUnit,i=e.type,o=e.time,a=e.undefinedIfExprNotRequired;return vQ(t)?n=kQ(t,!0):(Object(xe["H"])(t)||Object(xe["E"])(t))&&(r||"temporal"===i)&&(n=DQ(r)?kQ(w0({},r,t),!0):TQ(r)?s1(t,{timeUnit:LQ(r)}):"datetime(".concat(JSON.stringify(t),")")),n?o?"time(".concat(n,")"):n:a?void 0:JSON.stringify(t)}function l1(t,e){var n=t.timeUnit,r=t.type;return e.map((function(t){var e=s1(t,{timeUnit:n,type:r,undefinedIfExprNotRequired:!0});return void 0!==e?{signal:e}:t}))}function f1(t,e){return d1(t.bin)?oZ(e)&&RV(["ordinal","nominal"],t.type):(console.warn("Only use this method with binned field defs"),!1)}function h1(t){return Object(xe["B"])(t)&&(t=i1(t,void 0)),"bin"+GV(t).map((function(e){return YV("_".concat(e,"_").concat(t[e]))})).join("")}function d1(t){return!0===t||v1(t)&&!t.binned}function p1(t){return"binned"===t||v1(t)&&t.binned}function v1(t){return Object(xe["F"])(t)}function y1(t){switch(t){case eJ:case nJ:case yJ:case hJ:case dJ:case pJ:case wJ:case gJ:case mJ:case bJ:case vJ:return 6;default:return 10}}function g1(t,e){var n=t&&t[e];return!!n&&(Object(xe["A"])(n)?IV(n,(function(t){return!!t.field})):M0(n)||E0(n))}function m1(t){return IV(LJ,(function(e){if(g1(t,e)){var n=t[e];if(Object(xe["A"])(n))return IV(n,(function(t){return!!t.aggregate}));var r=t1(n);return r&&!!r.aggregate}return!1}))}function b1(t,e){var n=[],r=[],i=[],o=[],a={};return O1(t,(function(u,c){if(M0(u)){var s=u.field,l=u.aggregate,f=u.timeUnit,h=u.bin,d=x(u,["field","aggregate","timeUnit","bin"]);if(l||f||h){var p,v=J0(u),y=v&&v.title,g=z0(u,{forAs:!0}),m=Object.assign(Object.assign(Object.assign({},y?[]:{title:Y0(u,e,{allowDisabling:!0})}),d),{field:g}),b="x"===c||"y"===c;if(l){if(XY(l)?(p="argmax",g=z0({op:"argmax",field:l.argmax},{forAs:!0}),m.field="".concat(g,".").concat(s)):GY(l)?(p="argmin",g=z0({op:"argmin",field:l.argmin},{forAs:!0}),m.field="".concat(g,".").concat(s)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var w={op:p,as:g};s&&(w.field=s),o.push(w)}}else if(n.push(g),D0(u)&&d1(h)){if(r.push({bin:h,field:s,as:g}),n.push(z0(u,{binSuffix:"end"})),f1(u,c)&&n.push(z0(u,{binSuffix:"range"})),b){var _={field:g+"_end"};a[c+"2"]=_}m.bin="binned",WJ(c)||(m["type"]="quantitative")}else if(f){i.push({timeUnit:f,field:s,as:g});var O=$Q(f,e.axis.shortTimeLabels).join(" "),k=D0(u)&&u.type!==PK&&"time";"text"===c||"tooltip"===c?(m["format"]=m["format"]||O,k&&(m["formatType"]=k)):eZ(c)?m["legend"]=Object.assign(Object.assign({format:O},k?{formatType:k}:{}),m["legend"]):b&&(m["axis"]=Object.assign(Object.assign({format:O},k?{formatType:k}:{}),m["axis"]))}a[c]=m}else n.push(s),a[c]=t[c]}else a[c]=t[c]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function w1(t,e,n){var r=aZ(e,n);if(!r)return!1;if("binned"===r){var i=t["x2"===e?"x":"y"];return!!(M0(i)&&M0(t[e])&&p1(i.bin))}return!0}function x1(t,e){var n=e.type;return GV(t).reduce((function(r,i){if(!qJ(i))return CK(kK.invalidEncodingChannel(i)),r;if(!w1(t,i,n))return CK(kK.incompatibleChannel(i,n)),r;if("size"===i&&"line"===n){var o=e1(t[i]);if(o&&o.aggregate)return CK(kK.LINE_WITH_VARYING_SIZE),r}if("color"===i&&(e.filled?"fill"in t:"stroke"in t))return CK(kK.droppingColor("encoding",{fill:"fill"in t,stroke:"stroke"in t})),r;var a=t[i];if("detail"===i||"order"===i&&!Object(xe["A"])(a)&&!T0(a)||"tooltip"===i&&Object(xe["A"])(a))a&&(r[i]=(Object(xe["A"])(a)?a:[a]).reduce((function(t,e){return M0(e)?t.push(r1(e,i)):CK(kK.emptyFieldDef(e,i)),t}),[]));else{if("tooltip"===i&&null===a)r[i]=null;else if(!M0(a)&&!T0(a)&&!A0(a))return CK(kK.emptyFieldDef(a,i)),r;r[i]=n1(a,i)}return r}),{})}function _1(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=GV(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(g1(t,u)){var c=t[u],s=Object(xe["A"])(c)?c:[c],l=!0,f=!1,h=void 0;try{for(var d,p=s[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;M0(v)?e.push(v):E0(v)&&e.push(v.condition)}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}}}catch(y){r=!0,i=y}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}function O1(t,e,n){if(t){var r=!0,i=!1,o=void 0;try{for(var a,u=function(){var r=a.value,i=t[r];Object(xe["A"])(i)?i.forEach((function(t){e.call(n,t,r)})):e.call(n,i,r)},c=GV(t)[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)u()}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}}function k1(t,e,n,r){return t?GV(t).reduce((function(n,i){var o=t[i];return Object(xe["A"])(o)?o.reduce((function(t,n){return e.call(r,t,n,i)}),n):e.call(r,n,o,i)}),n):n}function S1(t,e){return GV(e).reduce((function(n,r){switch(r){case"x":case"y":case"href":case"url":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return n;case"order":if("line"===t||"trail"===t)return n;case"detail":case"key":var i=e[r];return(Object(xe["A"])(i)||M0(i))&&(Object(xe["A"])(i)?i:[i]).forEach((function(t){t.aggregate||n.push(z0(t,{}))})),n;case"size":if("trail"===t)return n;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":var o=e1(e[r]);return o&&!o.aggregate&&n.push(z0(o,{})),n}}),[])}function j1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1(t){return M1(t)||C1(t)||E1()}function E1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function C1(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function M1(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function D1(t){var e,n,r=t.tooltip,i=x(t,["tooltip"]);return r?(Object(xe["A"])(r)?(r.forEach((function(t){t.aggregate?(e||(e=[]),e.push(t)):(n||(n=[]),n.push(t))})),e&&(i.tooltip=e)):r["aggregate"]?i.tooltip=r:n=r,Object(xe["A"])(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}):{filteredEncoding:t}}function F1(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=t.map((function(t){var n=t.fieldPrefix,i=t.titlePrefix;return{field:n+e.field,type:e.type,title:i+(r?" of "+e.field:"")}}));return{tooltip:[].concat(A1(i),A1(_1(n)))}}function T1(t,e,n,r,i){var o=n.scale,a=n.axis;return function(u){var c=u.partName,s=u.mark,l=u.positionPrefix,f=u.endPositionPrefix,h=void 0===f?void 0:f,d=u.extraEncoding,p=void 0===d?{}:d,v=a&&void 0!==a.title?void 0:void 0!==n.title?n.title:n.field;return N1(t,c,i,{mark:s,encoding:Object.assign(Object.assign(Object.assign(j1({},e,Object.assign(Object.assign(Object.assign({field:l+"_"+n.field,type:n.type},v?{title:v}:{}),o?{scale:o}:{}),a?{axis:a}:{})),Object(xe["H"])(h)?j1({},e+"2",{field:h+"_"+n.field,type:n.type}):{}),r),p)})}}function N1(t,e,n,r){var i=t.clip,o=t.color,a=t.opacity,u=t.type;return t[e]||void 0===t[e]&&n[e]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[e]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),AY(r.mark)?r.mark:{type:r.mark}),{style:"".concat(u,"-").concat(e)}),Object(xe["B"])(t[e])?{}:t[e])})]:[]}function P1(t,e,n){var r=t.encoding,i="vertical"===e?"y":"x",o=r[i],a=r[i+"2"],u=r[i+"Error"],c=r[i+"Error2"];return{continuousAxisChannelDef:R1(o,n),continuousAxisChannelDef2:R1(a,n),continuousAxisChannelDefError:R1(u,n),continuousAxisChannelDefError2:R1(c,n),continuousAxis:i}}function R1(t,e){if(t&&t.aggregate){var n=t.aggregate,r=x(t,["aggregate"]);return n!==e&&CK(kK.errorBarContinuousAxisHasCustomizedAggregate(n,e)),r}return t}function I1(t,e){var n=t.mark,r=t.encoding;if(M0(r.x)&&U0(r.x)){if(M0(r.y)&&U0(r.y)){if(void 0===r.x.aggregate&&r.y.aggregate===e)return"vertical";if(void 0===r.y.aggregate&&r.x.aggregate===e)return"horizontal";if(r.x.aggregate===e&&r.y.aggregate===e)throw new Error("Both x and y cannot have aggregate");return AY(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(M0(r.y)&&U0(r.y))return"vertical";throw new Error("Need a valid continuous axis for "+e+"s")}function L1(t){return L1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(t)}function z1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1(t){return $1(t)||q1(t)||U1()}function U1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function q1(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function $1(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var W1="boxplot",H1={box:1,median:1,outliers:1,rule:1,ticks:1},G1=GV(H1),X1=new $Y(W1,Y1);function V1(t){return Object(xe["E"])(t)?"tukey":t}function Y1(t,e){var n=e.config,r=t.mark,i=(t.encoding,t.selection),o=(t.projection,x(t,["mark","encoding","selection","projection"])),a=AY(r)?r:{type:r};i&&CK(kK.selectionNotSupported("boxplot"));var u,c=a.extent||n.boxplot.extent,s=iY(a.size,n.boxplot.size),l=V1(c),f=Z1(t,c,n),h=f.transform,d=f.continuousAxisChannelDef,p=f.continuousAxis,v=f.groupby,y=f.aggregate,g=f.encodingWithoutContinuousAxis,m=f.ticksOrient,b=f.boxOrient,w=f.customTooltipWithoutAggregatedField,_=(g.color,g.size),O=x(g,["color","size"]),k=function(t){return T1(a,p,d,t,n.boxplot)},S=k(O),j=k(g),A=k(Object.assign(Object.assign({},O),_?{size:_}:{})),E=F1([{fieldPrefix:"min-max"===l?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===l?"lower_whisker_":"min_",titlePrefix:"Min"}],d,g),C={type:"tick",color:"black",opacity:1,orient:m},M="min-max"===l?E:F1([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],d,g),D=[].concat(B1(S({partName:"rule",mark:"rule",positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:M})),B1(S({partName:"rule",mark:"rule",positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:M})),B1(S({partName:"ticks",mark:C,positionPrefix:"lower_whisker",extraEncoding:M})),B1(S({partName:"ticks",mark:C,positionPrefix:"upper_whisker",extraEncoding:M}))),F=[].concat(B1("tukey"!==l?D:[]),B1(j({partName:"box",mark:Object.assign(Object.assign({type:"bar"},s?{size:s}:{}),{orient:b}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:E})),B1(A({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick"},Object(xe["F"])(n.boxplot.median)&&n.boxplot.median.color?{color:n.boxplot.median.color}:{}),s?{size:s}:{}),{orient:m}),positionPrefix:"mid_box",extraEncoding:E})));if("min-max"!==l){var T='datum["lower_box_'.concat(d.field,'"]'),N='datum["upper_box_'.concat(d.field,'"]'),P="(".concat(N," - ").concat(T,")"),R="".concat(T," - ").concat(c," * ").concat(P),I="".concat(N," + ").concat(c," * ").concat(P),L='datum["'.concat(d.field,'"]'),z={joinaggregate:J1(d.field),groupby:v},B=void 0;"tukey"===l&&(B={transform:[{filter:"(".concat(R," <= ").concat(L,") && (").concat(L," <= ").concat(I,")")},{aggregate:[{op:"min",field:d.field,as:"lower_whisker_"+d.field},{op:"max",field:d.field,as:"upper_whisker_"+d.field},{op:"min",field:"lower_box_"+d.field,as:"lower_box_"+d.field},{op:"max",field:"upper_box_"+d.field,as:"upper_box_"+d.field}].concat(B1(y)),groupby:v}],layer:D});O.tooltip;var U=x(O,["tooltip"]),q=N1(a,"outliers",n.boxplot,{transform:[{filter:"(".concat(L," < ").concat(R,") || (").concat(L," > ").concat(I,")")}],mark:"point",encoding:Object.assign(Object.assign(z1({},p,{field:d.field,type:d.type}),U),w?{tooltip:w}:{})})[0];q&&B?u={transform:[z],layer:[q,B]}:q?(u=q,u.transform.unshift(z)):B&&(u=B,u.transform.unshift(z))}return u?Object.assign(Object.assign({},o),{layer:[].concat(B1(u?[u]:[]),[{transform:h,layer:F}])}):Object.assign(Object.assign({},o),{transform:(o.transform||[]).concat(h),layer:F})}function J1(t){return[{op:"q1",field:t,as:"lower_box_"+t},{op:"q3",field:t,as:"upper_box_"+t}]}function Z1(t,e,n){var r=I1(t,W1),i=P1(t,r,W1),o=i.continuousAxisChannelDef,a=i.continuousAxis,u=o.field,c=V1(e),s=[].concat(B1(J1(u)),[{op:"median",field:u,as:"mid_box_"+u},{op:"min",field:u,as:("min-max"===c?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===c?"upper_whisker_":"max_")+u}]),l="min-max"===c||"tukey"===c?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_"+u},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(e,', datum["max_').concat(u,'"])'),as:"upper_whisker_"+u},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(e,', datum["min_').concat(u,'"])'),as:"lower_whisker_"+u}],f=t.encoding,h=a,d=(f[h],x(f,["symbol"===L1(h)?h:h+""])),p=D1(d),v=p.customTooltipWithoutAggregatedField,y=p.filteredEncoding,g=b1(y,n),m=g.bins,b=g.timeUnits,w=g.aggregate,_=g.groupby,O=g.encoding,k="vertical"===r?"horizontal":"vertical",S=r,j=[].concat(B1(m),B1(b),[{aggregate:[].concat(B1(w),B1(s)),groupby:_}],l);return{transform:j,groupby:_,aggregate:w,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:O,ticksOrient:k,boxOrient:S,customTooltipWithoutAggregatedField:v}}function K1(t){return K1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K1(t)}function Q1(t){return n2(t)||e2(t)||t2()}function t2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e2(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n2(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var r2="errorbar",i2={ticks:1,rule:1},o2=GV(i2),a2=new $Y(r2,u2);function u2(t,e){var n=e.config,r=h2(t,r2,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,u=r.encodingWithoutContinuousAxis,c=r.ticksOrient,s=r.markDef,l=r.outerSpec,f=r.tooltipEncoding,h=T1(s,a,o,u,n.errorbar),d={type:"tick",orient:c};return Object.assign(Object.assign({},l),{transform:i,layer:[].concat(Q1(h({partName:"ticks",mark:d,positionPrefix:"lower",extraEncoding:f})),Q1(h({partName:"ticks",mark:d,positionPrefix:"upper",extraEncoding:f})),Q1(h({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})))})}function c2(t,e){var n=t.encoding;if(s2(n))return{orient:I1(t,e),inputType:"raw"};var r=l2(n),i=f2(n),o=n.x,a=n.y;if(r){if(i)throw new Error(e+" cannot be both type aggregated-upper-lower and aggregated-error");var u=n.x2,c=n.y2;if(M0(u)&&M0(c))throw new Error(e+" cannot have both x2 and y2");if(M0(u)){if(M0(o)&&U0(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+e)}if(M0(c)){if(M0(a)&&U0(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+e)}throw new Error("No ranged axis")}var s=n.xError,l=n.xError2,f=n.yError,h=n.yError2;if(M0(l)&&!M0(s))throw new Error(e+" cannot have xError2 without xError");if(M0(h)&&!M0(f))throw new Error(e+" cannot have yError2 without yError");if(M0(s)&&M0(f))throw new Error(e+" cannot have both xError and yError with both are quantiative");if(M0(s)){if(M0(o)&&U0(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(M0(f)){if(M0(a)&&U0(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function s2(t){return(M0(t.x)||M0(t.y))&&!M0(t.x2)&&!M0(t.y2)&&!M0(t.xError)&&!M0(t.xError2)&&!M0(t.yError)&&!M0(t.yError2)}function l2(t){return M0(t.x2)||M0(t.y2)}function f2(t){return M0(t.xError)||M0(t.xError2)||M0(t.yError)||M0(t.yError2)}function h2(t,e,n){var r=t.mark,i=t.encoding,o=t.selection,a=(t.projection,x(t,["mark","encoding","selection","projection"])),u=AY(r)?r:{type:r};o&&CK(kK.selectionNotSupported(e));var c=c2(t,e),s=c.orient,l=c.inputType,f=P1(t,s,e),h=f.continuousAxisChannelDef,d=f.continuousAxisChannelDef2,p=f.continuousAxisChannelDefError,v=f.continuousAxisChannelDefError2,y=f.continuousAxis,g=d2(u,h,d,p,v,l,e,n),m=g.errorBarSpecificAggregate,b=g.postAggregateCalculates,w=g.tooltipSummary,_=g.tooltipTitleWithFieldName,O=y,k=(i[O],"x"===y?"x2":"y2"),S=(i[k],"x"===y?"xError":"yError"),j=(i[S],"x"===y?"xError2":"yError2"),A=(i[j],x(i,["symbol"===K1(O)?O:O+"","symbol"===K1(k)?k:k+"","symbol"===K1(S)?S:S+"","symbol"===K1(j)?j:j+""])),E=b1(A,n),C=E.bins,M=E.timeUnits,D=E.aggregate,F=E.groupby,T=E.encoding,N=[].concat(Q1(D),Q1(m)),P="raw"!==l?[]:F,R=F1(w,h,T,_);return{transform:[].concat(Q1(a.transform||[]),Q1(C),Q1(M),Q1(N.length?[{aggregate:N,groupby:P}]:[]),Q1(b)),groupby:P,continuousAxisChannelDef:h,continuousAxis:y,encodingWithoutContinuousAxis:T,ticksOrient:"vertical"===s?"horizontal":"vertical",markDef:u,outerSpec:a,tooltipEncoding:R}}function d2(t,e,n,r,i,o,a,u){var c,s=[],l=[],f=e.field,h=!1;if("raw"===o){var d,p,v,y=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":u.errorbar.center,g=t.extent?t.extent:"mean"===y?"stderr":"iqr";if("median"===y!==("iqr"===g)&&CK(kK.errorBarCenterIsUsedWithWrongExtent(y,g,a)),"stderr"===g||"stdev"===g)s=[{op:g,field:f,as:"extent_"+f},{op:y,field:f,as:"center_"+f}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],c=[{fieldPrefix:"center_",titlePrefix:KV(y)},{fieldPrefix:"upper_",titlePrefix:p2(y,g,"+")},{fieldPrefix:"lower_",titlePrefix:p2(y,g,"-")}],h=!0;else t.center&&t.extent&&CK(kK.errorBarCenterIsNotNeeded(t.extent,a)),"ci"===g?(d="mean",p="ci0",v="ci1"):(d="median",p="q1",v="q3"),s=[{op:p,field:f,as:"lower_"+f},{op:v,field:f,as:"upper_"+f},{op:d,field:f,as:"center_"+f}],c=[{fieldPrefix:"upper_",titlePrefix:Y0({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Y0({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Y0({field:f,aggregate:d,type:"quantitative"},u,{allowDisabling:!1})}]}else{(t.center||t.extent)&&CK(kK.errorBarCenterAndExtentAreNotNeeded(t.center,t.extent)),"aggregated-upper-lower"===o?(c=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===o&&(c=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],i?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_"+f}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var m=!0,b=!1,w=void 0;try{for(var x,_=l[Symbol.iterator]();!(m=(x=_.next()).done);m=!0){var O=x.value;c.push({fieldPrefix:O.as.substring(0,6),titlePrefix:O.calculate.replace(new RegExp('datum\\[\\"',"g"),"").replace(new RegExp('\\"\\]',"g"),"")})}}catch(k){b=!0,w=k}finally{try{m||null==_.return||_.return()}finally{if(b)throw w}}}return{postAggregateCalculates:l,errorBarSpecificAggregate:s,tooltipSummary:c,tooltipTitleWithFieldName:h}}function p2(t,e,n){return KV(t)+" "+n+" "+e}function v2(t){return m2(t)||g2(t)||y2()}function y2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g2(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m2(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var b2="errorband",w2={band:1,borders:1},x2=GV(w2),_2=new $Y(b2,O2);function O2(t,e){var n=e.config,r=h2(t,b2,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,u=r.encodingWithoutContinuousAxis,c=r.markDef,s=r.outerSpec,l=r.tooltipEncoding,f=c,h=T1(f,a,o,u,n.errorband),d=void 0!==t.encoding.x&&void 0!==t.encoding.y,p={type:d?"area":"rect"},v={type:d?"line":"rule"},y=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{interpolate:f.tension}:{});return d?(p=Object.assign(Object.assign({},p),y),v=Object.assign(Object.assign({},v),y)):f.interpolate?CK(kK.errorBand1DNotSupport("interpolate")):f.tension&&CK(kK.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},s),{transform:i,layer:[].concat(v2(h({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),v2(h({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:l})),v2(h({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:l})))})}var k2={};function S2(t,e,n){var r=new $Y(t,e);k2[t]={normalizer:r,parts:n}}function j2(){return GV(k2)}S2(W1,Y1,G1),S2(r2,u2,o2),S2(b2,O2,x2);var A2=["shortTimeLabels"],E2=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],C2={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},M2={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},D2=(GV(M2),"_vgsid_"),F2={single:{on:"click",fields:[D2],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[D2],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function T2(t){return P2(t)||R2(t)||N2(t)}function N2(t){return void 0!==t["concat"]}function P2(t){return void 0!==t["vconcat"]}function R2(t){return void 0!==t["hconcat"]}function I2(t){return void 0!==t["repeat"]}function L2(t){return Object(xe["F"])(t)&&void 0!==t["step"]}var z2=20,B2={align:1,bounds:1,center:1,columns:1,spacing:1},U2=GV(B2);function q2(t,e,n){var r=n[e],i={},o=r.spacing,a=r.columns;void 0!==o&&(i.spacing=o),void 0!==a&&(b0(t)&&!g0(t.facet)||I2(t)&&Object(xe["A"])(t.repeat)||N2(t))&&(i.columns=a);var u=!0,c=!1,s=void 0;try{for(var l,f=U2[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value;if(void 0!==t[h])if("spacing"===h){var d=t[h];i[h]=Object(xe["E"])(d)?d:{row:d.row||o,column:d.column||o}}else i[h]=t[h]}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}return i}function $2(t){var e=t.anchor,n=t.frame,r=t.offset,i=t.orient,o=t.color,a=x(t,["anchor","frame","offset","orient","color"]),u=Object.assign(Object.assign({},a),o?{fill:o}:{}),c=Object.assign(Object.assign(Object.assign(Object.assign({},e?{anchor:e}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{});return{mark:u,nonMark:c}}function W2(t){return X2(t)||G2(t)||H2()}function H2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function G2(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function X2(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function V2(t,e){return t["width"===e?"continuousWidth":"continuousHeight"]}function Y2(t,e){var n=J2(t,e);return L2(n)?n.step:Z2}function J2(t,e){var n=t["width"===e?"discreteWidth":"discreteHeight"];return iY(n,{step:t.step})}var Z2=20,K2={continuousWidth:200,continuousHeight:200,step:Z2};var Q2={padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:K2,mark:TY,area:{},bar:PY,circle:{},geoshape:{},image:{},line:{},point:{},rect:RY,rule:{color:"black"},square:{},text:{color:"black"},tick:IY,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:nQ,projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:C2,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:F2,style:{},title:{},facet:{spacing:z2},repeat:{spacing:z2},concat:{spacing:z2}};function t3(t){return zV(MV(Q2),t)}var e3=["view"].concat(W2(jY)),n3=["padding","facet","concat","repeat","numberFormat","timeFormat","countTitle","header","scale","selection","overlay"],r3=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},FY);function i3(t){t=MV(t);var e=!0,n=!1,r=void 0;try{for(var i,o=n3[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;delete t[a]}}catch(rt){n=!0,r=rt}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}if(t.axis){var u=!0,c=!1,s=void 0;try{for(var l,f=A2[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value;delete t.axis[h]}}catch(rt){c=!0,s=rt}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}if(t.legend){var d=!0,p=!1,v=void 0;try{for(var y,g=A2[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;delete t.legend[m]}}catch(rt){p=!0,v=rt}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}var b=!0,w=!1,x=void 0;try{for(var _,O=E2[Symbol.iterator]();!(b=(_=O.next()).done);b=!0){var k=_.value;delete t.legend[k]}}catch(rt){w=!0,x=rt}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}}if(t.mark){var S=!0,j=!1,A=void 0;try{for(var E,C=DY[Symbol.iterator]();!(S=(E=C.next()).done);S=!0){var M=E.value;delete t.mark[M]}}catch(rt){j=!0,A=rt}finally{try{S||null==C.return||C.return()}finally{if(j)throw A}}}var D=!0,F=!1,T=void 0;try{for(var N,P=e3[Symbol.iterator]();!(D=(N=P.next()).done);D=!0){var R=N.value,I=!0,L=!1,z=void 0;try{for(var B,U=DY[Symbol.iterator]();!(I=(B=U.next()).done);I=!0){var q=B.value;delete t[R][q]}}catch(rt){L=!0,z=rt}finally{try{I||null==U.return||U.return()}finally{if(L)throw z}}var $=r3[R];if($){var W=!0,H=!1,G=void 0;try{for(var X,V=$[Symbol.iterator]();!(W=(X=V.next()).done);W=!0){var Y=X.value;delete t[R][Y]}}catch(rt){H=!0,G=rt}finally{try{W||null==V.return||V.return()}finally{if(H)throw G}}}o3(t,R)}}catch(rt){F=!0,T=rt}finally{try{D||null==P.return||P.return()}finally{if(F)throw T}}var J=!0,Z=!1,K=void 0;try{for(var Q,tt=j2()[Symbol.iterator]();!(J=(Q=tt.next()).done);J=!0){var et=Q.value;delete t[et]}}catch(rt){Z=!0,K=rt}finally{try{J||null==tt.return||tt.return()}finally{if(Z)throw K}}for(var nt in o3(t,"title","group-title"),t)Object(xe["F"])(t[nt])&&0===GV(t[nt]).length&&delete t[nt];return GV(t).length>0?t:void 0}function o3(t,e,n,r){var i="title"===e?$2(t.title).mark:r?t[e][r]:t[e];"view"===e&&(n="cell");var o=Object.assign(Object.assign({},i),t.style[e]);GV(o).length>0&&(t.style[n||e]=o),r||delete t[e]}function a3(t){return void 0!==t["layer"]}function u3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s3(t,e,n){return e&&c3(t.prototype,e),n&&c3(t,n),t}var l3=function(){function t(){u3(this,t)}return s3(t,[{key:"map",value:function(t,e){return b0(t)?this.mapFacet(t,e):I2(t)?this.mapRepeat(t,e):R2(t)?this.mapHConcat(t,e):P2(t)?this.mapVConcat(t,e):N2(t)?this.mapConcat(t,e):this.mapLayerOrUnit(t,e)}},{key:"mapLayerOrUnit",value:function(t,e){if(a3(t))return this.mapLayer(t,e);if(zY(t))return this.mapUnit(t,e);throw new Error(kK.invalidSpec(t))}},{key:"mapLayer",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{layer:t.layer.map((function(t){return n.mapLayerOrUnit(t,e)}))})}},{key:"mapHConcat",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapVConcat",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapConcat",value:function(t,e){var n=this,r=t.concat,i=x(t,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(t){return n.map(t,e)}))})}},{key:"mapFacet",value:function(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}},{key:"mapRepeat",value:function(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}}]),t}(),f3={zero:1,center:1,normalize:1};function h3(t){return!!f3[t]}var d3=[fY,lY,yY,pY,wY,xY,dY,gY,mY],p3=[fY,lY];function v3(t){var e=t.x,n=t.y;if(M0(e)&&M0(n))if("quantitative"===e.type&&"quantitative"===n.type){if(e.stack)return"x";if(n.stack)return"y";if(!!e.aggregate!==!!n.aggregate)return e.aggregate?"x":"y"}else{if("quantitative"===e.type)return"x";if("quantitative"===n.type)return"y"}else{if(M0(e)&&"quantitative"===e.type)return"x";if(M0(n)&&"quantitative"===n.type)return"y"}}function y3(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=AY(t)?t.type:t;if(!RV(d3,r))return null;var i=v3(e);if(!i)return null;var o,a=e[i],u=F0(a)?z0(a,{}):void 0,c="x"===i?"y":"x",s=e[c],l=F0(s)?z0(s,{}):void 0,f=VJ.reduce((function(t,n){if("tooltip"!==n&&g1(e,n)){var r=e[n];(Object(xe["A"])(r)?r:[r]).forEach((function(e){var r=e1(e);if(!r.aggregate){var i=F0(r)?z0(r,{}):void 0;(!i||i!==l&&i!==u)&&t.push({channel:n,fieldDef:r})}}))}return t}),[]);if(void 0!==a.stack?o=Object(xe["B"])(a.stack)?a.stack?"zero":null:a.stack:f.length>0&&RV(p3,r)&&(o="zero"),!o||!h3(o))return null;if(m1(e)&&0===f.length)return null;if(a.scale&&a.scale.type&&a.scale.type!==FK.LINEAR){if(n.disallowNonLinearStack)return null;CK(kK.cannotStackNonLinearScale(a.scale.type))}return g1(e,i===iJ?aJ:uJ)?(void 0!==a.stack&&CK(kK.cannotStackRangedMark(i)),null):(a.aggregate&&!RV(KY,a.aggregate)&&CK(kK.stackNonSummativeAggregate(a.aggregate)),{groupbyChannel:s?c:void 0,fieldChannel:i,impute:kY(r),stackBy:f,offset:o})}function g3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b3(t,e,n){return e&&m3(t.prototype,e),n&&m3(t,n),t}function w3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x3(t){t.point,t.line;var e=x(t,["point","line"]);return GV(e).length>1?e:e.type}function _3(t){for(var e=0,n=["line","area","rule","trail"];e<n.length;e++){var r=n[e];t[r]&&(t=Object.assign(Object.assign({},t),w3({},r,FV(t[r],["point","line"]))))}return t}function O3(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===t.point?{opacity:0}:t.point?Object(xe["F"])(t.point)?t.point:{}:void 0!==t.point?null:e.point||n.shape?Object(xe["F"])(e.point)?e.point:{}:void 0}function k3(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.line?!0===t.line?{}:t.line:void 0!==t.line?null:e.line?!0===e.line?{}:e.line:void 0}var S3=function(){function t(){g3(this,t),this.name="path-overlay"}return b3(t,[{key:"hasMatchingType",value:function(t,e){if(zY(t)){var n=t.mark,r=t.encoding,i=AY(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!O3(i,e[i.type],r);case"area":return!!O3(i,e[i.type],r)||!!k3(i,e[i.type])}}return!1}},{key:"run",value:function(t,e,n){var r=e.config,i=t.selection,o=t.projection,a=t.encoding,u=t.mark,c=x(t,["selection","projection","encoding","mark"]),s=AY(u)?u:{type:u},l=O3(s,r[s.type],a),f="area"===s.type&&k3(s,r[s.type]),h=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:x3(Object.assign(Object.assign({},s),"area"===s.type?{opacity:.7}:{})),encoding:FV(a,["shape"])})],d=y3(s,a),p=a;if(d){var v=d.fieldChannel,y=d.offset;p=Object.assign(Object.assign({},a),w3({},v,Object.assign(Object.assign({},a[v]),y?{stack:y}:{})))}return f&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},DV(s,["clip","interpolate","tension","tooltip"])),f),encoding:p})),l&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},DV(s,["clip","tooltip"])),l),encoding:p})),n(Object.assign(Object.assign({},c),{layer:h}),Object.assign(Object.assign({},e),{config:_3(r)}))}}]),t}();function j3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C3(t,e,n){return e&&E3(t.prototype,e),n&&E3(t,n),t}var M3=function(){function t(){A3(this,t),this.name="RangeStep"}return C3(t,[{key:"hasMatchingType",value:function(t){if(zY(t)&&t.encoding){var e=!0,n=!1,r=void 0;try{for(var i,o=JJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=t.encoding[a];if(u&&M0(u)&&u&&u.scale&&u.scale["rangeStep"])return!0}}catch(c){n=!0,r=c}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}return!1}},{key:"run",value:function(t){var e={},n=Object.assign({},t.encoding),r=!0,i=!1,o=void 0;try{for(var a,u=JJ[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=ZJ(c),l=n[c];if(l&&M0(l)&&l&&l.scale&&l.scale["rangeStep"]){var f=l.scale,h=x(l,["scale"]),d=f,p=(d.rangeStep,x(d,["rangeStep"]));e[s]={step:f["rangeStep"]},CK(kK.RANGE_STEP_DEPRECATED),n=Object.assign(Object.assign({},n),j3({},c,Object.assign(Object.assign({},h),GV(p).length?{scale:p}:{})))}}}catch(v){i=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return Object.assign(Object.assign(Object.assign({},e),t),{encoding:n})}}]),t}();function D3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T3(t,e,n){return e&&F3(t.prototype,e),n&&F3(t,n),t}var N3=function(){function t(){D3(this,t),this.name="RuleForRangedLine"}return T3(t,[{key:"hasMatchingType",value:function(t){if(zY(t)){var e=t.encoding,n=t.mark;if("line"===n){var r=!0,i=!1,o=void 0;try{for(var a,u=$J[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=HJ(c),l=e[s];if(e[c]&&M0(l)&&!p1(l.bin))return!0}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}}return!1}},{key:"run",value:function(t,e,n){var r=t.encoding;return CK(kK.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},t),{mark:"rule"}),e)}}]),t}();function P3(t){return P3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P3(t)}function R3(t){return z3(t)||L3(t)||I3()}function I3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function L3(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function z3(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function B3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q3(t,e,n){return e&&U3(t.prototype,e),n&&U3(t,n),t}function $3(t,e){return!e||"object"!==P3(e)&&"function"!==typeof e?W3(t):e}function W3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H3(t,e,n){return H3="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=G3(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},H3(t,e,n||t)}function G3(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=X3(t),null===t)break;return t}function X3(t){return X3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X3(t)}function V3(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y3(t,e)}function Y3(t,e){return Y3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y3(t,e)}var J3=function(t){function e(){var t;return B3(this,e),t=$3(this,X3(e).apply(this,arguments)),t.nonFacetUnitNormalizers=[X1,a2,_2,new S3,new N3,new M3],t}return V3(e,t),q3(e,[{key:"map",value:function(t,n){if(zY(t)){var r=g1(t.encoding,eJ),i=g1(t.encoding,nJ),o=g1(t.encoding,rJ);if(r||i||o)return this.mapFacetedUnit(t,n)}return H3(X3(e.prototype),"map",this).call(this,t,n)}},{key:"mapUnit",value:function(t,e){var n=e.parentEncoding,r=e.parentProjection;if(n||r)return this.mapUnitWithParentEncodingOrProjection(t,e);var i=this.mapLayerOrUnit.bind(this),o=!0,a=!1,u=void 0;try{for(var c,s=this.nonFacetUnitNormalizers[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;if(l.hasMatchingType(t,e.config))return l.run(t,e,i)}}catch(f){a=!0,u=f}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}return t}},{key:"mapRepeat",value:function(t,e){var n=t,r=n.repeat;return!Object(xe["A"])(r)&&t.columns&&(t=FV(t,["columns"]),CK(kK.columnsNotSupportByRowCol("repeat"))),Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}},{key:"mapFacet",value:function(t,n){var r=t,i=r.facet;return g0(i)&&t.columns&&(t=FV(t,["columns"]),CK(kK.columnsNotSupportByRowCol("facet"))),H3(X3(e.prototype),"mapFacet",this).call(this,t,n)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(t,e){var n=t.encoding,r=t.projection,i=e.parentEncoding,o=e.parentProjection,a=e.config,u=K3({parentProjection:o,projection:r}),c=Z3({parentEncoding:i,encoding:n});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),u?{projection:u}:{}),c?{encoding:c}:{}),{config:a})}},{key:"mapFacetedUnit",value:function(t,e){var n=t.encoding,r=n.row,i=n.column,o=n.facet,a=x(n,["row","column","facet"]),u=t.mark,c=t.width,s=t.projection,l=t.height,f=t.selection,h=(t.encoding,x(t,["mark","width","projection","height","selection","encoding"])),d=this.getFacetMappingAndLayout({row:r,column:i,facet:o}),p=d.facetMapping,v=d.layout;return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),v),{facet:p,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{projection:s}:{}),{mark:u}),c?{width:c}:{}),l?{height:l}:{}),{encoding:a}),f?{selection:f}:{})}),e)}},{key:"getFacetMappingAndLayout",value:function(t){var e=t.row,n=t.column,r=t.facet;if(e||n){r&&CK(kK.facetChannelDropped([].concat(R3(e?[eJ]:[]),R3(n?[nJ]:[]))));for(var i={},o={},a=0,u=[eJ,nJ];a<u.length;a++){var c=u[a],s=t[c];if(s){s.align,s.center,s.spacing,s.columns;var l=x(s,["align","center","spacing","columns"]);i[c]=l;for(var f=0,h=["align","center","spacing"];f<h.length;f++){var d=h[f];void 0!==s[d]&&(o[d]=o[d]||{},o[d][c]=s[d])}}}return{facetMapping:i,layout:o}}var p=r.align,v=r.center,y=r.spacing,g=r.columns,m=x(r,["align","center","spacing","columns"]);return{facetMapping:m,layout:Object.assign(Object.assign(Object.assign(Object.assign({},p?{align:p}:{}),v?{center:v}:{}),y?{spacing:y}:{}),g?{columns:g}:{})}}},{key:"mapLayer",value:function(t,n){var r=n.parentEncoding,i=n.parentProjection,o=x(n,["parentEncoding","parentProjection"]),a=t.encoding,u=t.projection,c=x(t,["encoding","projection"]),s=Object.assign(Object.assign({},o),{parentEncoding:Z3({parentEncoding:r,encoding:a}),parentProjection:K3({parentProjection:i,projection:u})});return H3(X3(e.prototype),"mapLayer",this).call(this,c,s)}}]),e}(l3);function Z3(t){var e=t.parentEncoding,n=t.encoding;if(e&&n){var r=GV(e).reduce((function(t,e){return n[e]&&t.push(e),t}),[]);r.length>0&&CK(kK.encodingOverridden(r))}var i=Object.assign(Object.assign({},e||{}),n||{});return GV(i).length>0?i:void 0}function K3(t){var e=t.parentProjection,n=t.projection;return e&&n&&CK(kK.projectionOverridden({parentProjection:e,projection:n})),n||e}function Q3(t,e){return void 0===e&&(e=t3(t.config)),e5(t,e)}var t5=new J3;function e5(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t5.map(t,{config:e})}function n5(t){return"fit"===t||"fit-x"===t||"fit-y"===t}function r5(t){return t?"fit-".concat(KJ(t)):"fit"}function i5(t){return Object(xe["H"])(t)?{type:t}:t||{}}function o5(t,e){var n=Object.assign(Object.assign({type:"pad"},e?i5(e.autosize):{}),i5(t.autosize));return"fit"===n.type&&(a3(t)||zY(t)||(CK(kK.FIT_NON_SINGLE),n.type="pad")),n}var a5=["background","padding"];function u5(t){return a5.reduce((function(e,n){return t&&void 0!==t[n]&&(e[n]=t[n]),e}),{})}function c5(t){return!!t["url"]}function s5(t){return!!t["values"]}function l5(t){return!!t["name"]&&!c5(t)&&!s5(t)&&!f5(t)}function f5(t){return t&&(h5(t)||d5(t)||p5(t))}function h5(t){return!!t["sequence"]}function d5(t){return!!t["sphere"]}function p5(t){return!!t["graticule"]}var v5="main",y5="raw";function g5(t){return t&&t["selection"]}function m5(t){return t&&!!t.field&&void 0!==t.equal}function b5(t){return t&&!!t.field&&void 0!==t.lt}function w5(t){return t&&!!t.field&&void 0!==t.lte}function x5(t){return t&&!!t.field&&void 0!==t.gt}function _5(t){return t&&!!t.field&&void 0!==t.gte}function O5(t){return!!(t&&t.field&&Object(xe["A"])(t.range)&&2===t.range.length)}function k5(t){return t&&!!t.field&&(Object(xe["A"])(t.oneOf)||Object(xe["A"])(t.in))}function S5(t){return t&&!!t.field&&void 0!==t.valid}function j5(t){return k5(t)||m5(t)||O5(t)||b5(t)||x5(t)||w5(t)||_5(t)}function A5(t,e){return s1(t,{timeUnit:e,time:!0})}function E5(t,e){return t.map((function(t){return A5(t,e)}))}function C5(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.field,r=t.timeUnit,i=r?"time("+qQ(r,n)+")":z0(t,{expr:"datum"});if(m5(t))return i+"==="+A5(t.equal,r);if(b5(t)){var o=t.lt;return"".concat(i,"<").concat(A5(o,r))}if(x5(t)){var a=t.gt;return"".concat(i,">").concat(A5(a,r))}if(w5(t)){var u=t.lte;return"".concat(i,"<=").concat(A5(u,r))}if(_5(t)){var c=t.gte;return"".concat(i,">=").concat(A5(c,r))}if(k5(t))return"indexof([".concat(E5(t.oneOf,r).join(","),"], ").concat(i,") !== -1");if(S5(t))return t.valid?"".concat(i,"!==null&&!isNaN(").concat(i,")"):"".concat(i,"===null||isNaN(").concat(i,")");if(O5(t)){var s=t.range[0],l=t.range[1];if(null!==s&&null!==l&&e)return"inrange("+i+", ["+A5(s,r)+", "+A5(l,r)+"])";var f=[];return null!==s&&f.push("".concat(i," >= ").concat(A5(s,r))),null!==l&&f.push("".concat(i," <= ").concat(A5(l,r))),f.length>0?f.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(t)))}function M5(t){return j5(t)&&t.timeUnit?Object.assign(Object.assign({},t),{timeUnit:HQ(t.timeUnit)}):t}function D5(t){return void 0!==t["filter"]}function F5(t){return t&&void 0!==t["stop"]}function T5(t){return void 0!==t["pivot"]}function N5(t){return void 0!==t["density"]}function P5(t){return void 0!==t["regression"]}function R5(t){return void 0!==t["loess"]}function I5(t){return void 0!==t["lookup"]}function L5(t){return void 0!==t["sample"]}function z5(t){return void 0!==t["window"]}function B5(t){return void 0!==t["joinaggregate"]}function U5(t){return void 0!==t["flatten"]}function q5(t){return void 0!==t["calculate"]}function $5(t){return!!t["bin"]}function W5(t){return void 0!==t["impute"]}function H5(t){return void 0!==t["timeUnit"]}function G5(t){return void 0!==t["aggregate"]}function X5(t){return void 0!==t["stack"]}function V5(t){return void 0!==t["fold"]}function Y5(t){return t.map((function(t){return D5(t)?{filter:bV(t.filter,M5)}:t}))}function J5(t){return!!t["signal"]}function Z5(t){return!!t["step"]}function K5(t){return!Object(xe["A"])(t)&&("fields"in t&&!("data"in t))}function Q5(t){return!Object(xe["A"])(t)&&("fields"in t&&"data"in t)}function t6(t){return!Object(xe["A"])(t)&&("field"in t&&"data"in t)}var e6={opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1,x:1,y:1,x2:1,y2:1,width:1,height:1,aspect:1},n6=GV(e6),r6={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"align"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function i6(t){return t["condition"]}var o6=["domain","grid","labels","ticks","title"],a6={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},u6={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},c6=Object.assign(Object.assign({},u6),{labelExpr:1,encoding:1});function s6(t){return!!c6[t]}GV(c6);function l6(t){var e=t.channel,n=t.channelDef,r=t.markDef,i=t.scale,o=x6(t);return M0(n)&&!JY(n.aggregate)&&i&&tQ(i.get("type"))&&!1===i.get("zero")?f6({fieldDef:n,channel:e,markDef:r,ref:o}):o}function f6(t){var e=t.fieldDef,n=t.channel,r=t.markDef,i=t.ref;return kY(r.type)?i:[h6(e,n),i]}function h6(t,e){var n=d6(t,!0),r=HJ(e),i="x"===r?{value:0}:{field:{group:"height"}};return Object.assign({test:n},i)}function d6(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=Object(xe["H"])(t)?t:z0(t,{expr:"datum"});var n=e?"||":"&&",r=e?"===":"!==";return"".concat(t," ").concat(r," null ").concat(n," ").concat(e?"":"!","isNaN(").concat(t,")")}function p6(t){var e=t.channel,n=t.channelDef,r=t.scaleName,i=t.stack,o=t.offset;return M0(n)&&i&&e===i.fieldChannel?P0(n)&&void 0!==n.band?w6({scaleName:r,fieldDef:n,startSuffix:"start",band:n.band,offset:0}):m6(n,r,{suffix:"end"},{offset:o}):l6(t)}function v6(t){var e=t.channel,n=t.channelDef,r=t.channel2Def,i=t.markDef,o=t.config,a=t.scaleName,u=t.scale,c=t.stack,s=t.offset,l=t.defaultRef;return M0(n)&&c&&e.charAt(0)===c.fieldChannel.charAt(0)?m6(n,a,{suffix:"start"},{offset:s}):l6({channel:e,channelDef:r,scaleName:a,scale:u,stack:c,markDef:i,config:o,offset:s,defaultRef:l})}function y6(t,e){var n=t+"Offset",r=e[n];if(r)return r}function g6(t){var e=t.channel,n=t.fieldDef,r=t.scaleName,i=t.markDef,o=t.band,a=t.offset,u=w6({scaleName:r,fieldDef:n,band:o,offset:a});return f6({fieldDef:n,channel:e,markDef:i,ref:u})}function m6(t,e,n,r){var i=Object.assign(Object.assign({},e?{scale:e}:{}),{field:z0(t,n)});if(r){var o=r.offset,a=r.band;return Object.assign(Object.assign(Object.assign({},i),o?{offset:o}:{}),a?{band:a}:{})}return i}function b6(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{scale:t,band:e}}function w6(t){var e=t.scaleName,n=t.fieldDef,r=t.fieldDef2,i=t.offset,o=t.startSuffix,a=t.band,u=void 0===a?.5:a,c=0<u&&u<1?"datum":void 0,s=z0(n,{expr:c,suffix:o}),l=void 0!==r?z0(r,{expr:c}):z0(n,{suffix:"end",expr:c});if(0===u)return Object.assign({scale:e,field:s},i?{offset:i}:{});if(1===u)return Object.assign({scale:e,field:l},i?{offset:i}:{});var f="".concat(u," * ").concat(s," + ").concat(1-u," * ").concat(l);return Object.assign({signal:'scale("'.concat(e,'", ').concat(f,")")},i?{offset:i}:{})}function x6(t){var e=t.channel,n=t.channelDef,r=t.channel2Def,i=t.markDef,o=t.config,a=t.scaleName,u=t.scale,c=t.stack,s=t.offset,l=t.defaultRef;if(n){if(M0(n)){if(D0(n)){var f=S0(e,n,r,i,o,{isMidPoint:!0});if(d1(n.bin)||f&&n.timeUnit)return RV([iJ,oJ],e)&&RV([TK,PK],n.type)?c&&c.impute?m6(n,a,{binSuffix:"mid"},{offset:s}):w6({scaleName:a,fieldDef:n,band:f,offset:s}):m6(n,a,f1(n,e)?{binSuffix:"range"}:{},{offset:s});if(p1(n.bin)){if(M0(r))return w6({scaleName:a,fieldDef:n,fieldDef2:r,band:f,offset:s});var h=e===iJ?aJ:uJ;CK(kK.channelRequiredForBinned(h))}}if(u){var d=u.get("type");if(KK(d)){if("band"===d){var p=iY(P0(n)?n.band:void 0,.5);return m6(n,a,{binSuffix:"range"},{band:p,offset:s})}return m6(n,a,{binSuffix:"range"},{offset:s})}}return m6(n,a,{},{offset:s})}if(T0(n)){var v=n.value,y=s?{offset:s}:{};return Object.assign(Object.assign({},_6(e,v)),y)}}return Object(xe["D"])(l)?l():l}function _6(t,e){return RV(["x","x2"],t)&&"width"===e?{field:{group:"width"}}:RV(["y","y2"],t)&&"height"===e?{field:{group:"height"}}:{value:e}}function O6(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reactiveGeom,i=[],o={},a={},u=r?"datum.datum":"datum",c=[];function s(n,r){var i=HJ(r),o=D0(n)?n:Object.assign(Object.assign({},n),{type:t[i].type}),s=Y0(o,e,{allowDisabling:!1}),l=k6(o,e,u).signal;if("x"===r||"y"===r){var f="x"===r?"x2":"y2",h=t1(t[f]);if(p1(o.bin)&&h){var d=z0(o,{expr:u}),p=z0(h,{expr:u});l=o0(d,p,K0(o),e),a[f]=!0}}c.push({channel:r,key:s,value:l})}O1(t,(function(t,e){M0(t)?s(t,e):E0(t)&&s(t.condition,e)}));for(var l=0,f=c;l<f.length;l++){var h=f[l],d=h.channel,p=h.key,v=h.value;a[d]||o[p]||(i.push("".concat(Object(xe["X"])(p),": ").concat(v)),o[p]=!0)}return i.length?{signal:"{".concat(i.join(", "),"}")}:void 0}function k6(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(t){if(T0(t))return{value:t.value};if(D0(t))return e0(t,K0(t),n,e)}}function S6(t){return Object.assign(Object.assign({},t),{mult:.5})}function j6(t){var e=t.markDef,n=t.config,r=t.defaultRef,i=t.channel,o=t.scaleName,a=t.scale,u=t.mark,c=t.checkBarAreaWithoutZero;return function(){var t=HJ(i),s=iY(e[i],QQ(i,e,n));if(void 0!==s)return _6(i,s);if(Object(xe["H"])(r)){if(o){var l=a.get("type");if(RV([FK.LOG,FK.TIME,FK.UTC],l))!c||"bar"!==u&&"area"!==u||CK(kK.nonZeroScaleUsedWithLengthMark(u,t,{scaleType:l}));else{if(a.domainDefinitelyIncludesZero())return{scale:o,value:0};!c||"bar"!==u&&"area"!==u||CK(kK.nonZeroScaleUsedWithLengthMark(u,t,{zeroFalse:!1===a.explicit.zero}))}}return"zeroOrMin"===r?"x"===t?{value:0}:{field:{group:"height"}}:"x"===t?{field:{group:"width"}}:{value:0}}return r}}function A6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E6(t){return D6(t)||M6(t)||C6()}function C6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function M6(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function D6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function F6(t){var e=t.markDef,n=t.encoding,r=t.config,i=e.filled,o=e.type,a={fill:QQ("fill",e,r),stroke:QQ("stroke",e,r),color:QQ("color",e,r)},u=RV(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,c=iY(e.fill,!0===i?e.color:void 0,a.fill,!0===i?a.color:void 0,u),s=iY(e.stroke,!1===i?e.color:void 0,a.stroke,!1===i?a.color:void 0),l=i?"fill":"stroke",f=Object.assign(Object.assign({},c?{fill:{value:c}}:{}),s?{stroke:{value:s}}:{});return e.color&&(i?e.fill:e.stroke)&&CK(kK.droppingColor("property",{fill:"fill"in e,stroke:"stroke"in e})),Object.assign(Object.assign(Object.assign(Object.assign({},f),z6("color",t,{vgChannel:l,defaultValue:i?c:s})),z6("fill",t,{defaultValue:n.fill?c:void 0})),z6("stroke",t,{defaultValue:n.stroke?s:void 0}))}function T6(t,e){var n="include"===e.color?F6(t):{},r=n.fill,i=void 0===r?void 0:r,o=n.stroke,a=void 0===o?void 0:o;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P6(t.markDef,e)),N6(t,"fill",i)),N6(t,"stroke",a)),z6("opacity",t)),z6("fillOpacity",t)),z6("strokeOpacity",t)),z6("strokeWidth",t)),U6(t)),q6(t,"href"))}function N6(t,e,n){var r=t.config,i=t.mark,o=t.markDef,a=KQ("invalid",o,r);if("hide"===a&&n&&!kY(i)){var u=I6(t,{invalid:!0,channels:iZ});if(u)return A6({},e,[{test:u,value:null}].concat(E6(Object(xe["i"])(n))))}return n?A6({},e,n):{}}function P6(t,e){return n6.reduce((function(n,r){return void 0!==t[r]&&"ignore"!==e[r]&&(n[r]={value:t[r]}),n}),{})}function R6(t,e){if(void 0!==e)return A6({},t,{value:e})}function I6(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels,o=i.reduce((function(e,n){var r=t.getScaleComponent(n);if(r){var i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&QK(i)&&(e[o]=!0)}return e}),{}),a=GV(o);if(a.length>0){var u=r?"||":"&&";return a.map((function(t){return d6(t,r)})).join(" ".concat(u," "))}}function L6(t){var e=t.config,n=t.markDef,r=KQ("invalid",n,e);if(r){var i=I6(t,{channels:["x","y"]});if(i)return{defined:{signal:i}}}return{}}function z6(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.markDef,i=e.encoding,o=e.config,a=n.vgChannel,u=void 0===a?t:a,c=n.defaultRef,s=n.defaultValue;void 0===c&&(s=s||(u===t?r[t]:iY(r[t],r[u],QQ(t,r,o,{vgChannel:u}))),c=s?{value:s}:void 0);var l=i[t];return B6(e,l,u,(function(n){return x6({channel:t,channelDef:n,markDef:r,config:o,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:c})}))}function B6(t,e,n,r){var i=e&&e.condition,o=r(e);if(i){var a=Object(xe["A"])(i)?i:[i],u=a.map((function(e){var n=r(e),i=x0(e)?B8(t,e.selection):U8(t,e.test);return Object.assign({test:i},n)}));return A6({},n,[].concat(E6(u),E6(void 0!==o?[o]:[])))}return void 0!==o?A6({},n,o):{}}function U6(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoding,r=t.markDef,i=t.config,o=n.tooltip;return Object(xe["A"])(o)?{tooltip:O6({tooltip:o},i,e)}:B6(t,o,"tooltip",(function(o){var a=k6(o,t.config,e.reactiveGeom?"datum.datum":"datum");if(a)return a;if(null!==o){var u=iY(r.tooltip,QQ("tooltip",r,i));return!0===u&&(u={content:"encoding"}),Object(xe["H"])(u)?{value:u}:Object(xe["F"])(u)?"encoding"===u.content?O6(n,i,e):{signal:"datum"}:void 0}}))}function q6(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=t.encoding[e];return B6(t,n,e,(function(e){return k6(e,t.config)}))}function $6(t,e,n,r){var i,o=n.scaleName(e),a="x"===e?"width":"height";if(n.encoding.size||void 0!==n.markDef.size||r&&void 0!==r.value){var u=n.markDef.orient;if(u){var c=A6({},e+"c",m6(t,o,{},{band:.5}));if(e1(n.encoding.size))return Object.assign(Object.assign({},c),z6("size",n,{vgChannel:a}));if(T0(n.encoding.size))return Object.assign(Object.assign({},c),z6("size",n,{vgChannel:a}));if(void 0!==n.markDef.size)return Object.assign(Object.assign({},c),A6({},a,{value:n.markDef.size}));if(r&&void 0!==r.value)return Object.assign(Object.assign({},c),A6({},a,r))}else CK(kK.cannotApplySizeToNonOrientedMark(n.markDef.type))}var s=t.band,l=void 0===s?1:s;return i={},A6(i,e,m6(t,o,{binSuffix:"range"},{band:(1-l)/2})),A6(i,a,r||b6(o,l)),i}function W6(t,e,n,r){var i="x"===t?"xc":"yc",o="x"===t?"width":"height";return Object.assign(Object.assign({},G6(t,e,n,{vgChannel:i})),z6("size",e,{defaultRef:r,vgChannel:o}))}function H6(t){var e,n,r=t.fieldDef,i=t.fieldDef2,o=t.channel,a=t.band,u=t.scaleName,c=t.markDef,s=t.spacing,l=void 0===s?0:s,f=t.reverse,h={x:f?l:0,x2:f?0:l,y:f?0:l,y2:f?l:0},d=o===iJ?aJ:uJ;return d1(r.bin)||r.timeUnit?(e={},A6(e,d,g6({channel:o,fieldDef:r,scaleName:u,markDef:c,band:(1-a)/2,offset:h["".concat(o,"2")]})),A6(e,o,g6({channel:o,fieldDef:r,scaleName:u,markDef:c,band:1-(1-a)/2,offset:h[o]})),e):p1(r.bin)&&M0(i)?(n={},A6(n,d,m6(r,u,{},{offset:h["".concat(o,"2")]})),A6(n,o,m6(i,u,{},{offset:h[o]})),n):void CK(kK.channelRequiredForBinned(d))}function G6(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,o=e.encoding,a=e.mark,u=e.markDef,c=e.config,s=e.stack,l=o[t],f=o[t===iJ?aJ:uJ],h=e.scaleName(t),d=e.getScaleComponent(t),p=y6(t,e.markDef),v=l||!o.latitude&&!o.longitude?p6({channel:t,channelDef:l,channel2Def:f,markDef:u,config:c,scaleName:h,scale:d,stack:s,offset:p,defaultRef:j6({markDef:u,config:c,defaultRef:n,channel:t,scaleName:h,scale:d,mark:a,checkBarAreaWithoutZero:!f})}):{field:e.getName(t)};return A6({},i||t,v)}var X6={left:"x",center:"xc",right:"x2"},V6={top:"y",middle:"yc",bottom:"y2"};function Y6(t,e,n){var r=n.defaultRef,i=n.defaultRef2,o=n.range;return o?J6(t,e,{defaultRef:r,defaultRef2:i}):G6(t,e,r)}function J6(t,e,n){var r=n.defaultRef,i=n.defaultRef2,o=e.markDef,a=e.config,u="x"===t?"x2":"y2",c="x"===t?"width":"height",s=K6(e,i,u),l=s[c]?Z6(t,o,a):t;return Object.assign(Object.assign({},G6(t,e,r,{vgChannel:l})),s)}function Z6(t,e,n){var r="x"===t?"align":"baseline",i=iY(e[r],QQ(r,e,n));return"x"===t?X6[i||"center"]:V6[i||"middle"]}function K6(t,e,n){var r,i=t.encoding,o=t.mark,a=t.markDef,u=t.stack,c=t.config,s="x2"===n?"x":"y",l="x2"===n?"width":"height",f=i[s],h=t.scaleName(s),d=t.getScaleComponent(s),p=y6(n,t.markDef);if(!f&&(i.latitude||i.longitude))return A6({},n,{field:t.getName(n)});var v=v6({channel:n,channelDef:f,channel2Def:i[n],markDef:a,config:c,scaleName:h,scale:d,stack:u,offset:p,defaultRef:void 0});return void 0!==v?A6({},n,v):iY(Q6(n,a),Q6(n,(r={},A6(r,n,t0(n,a,c.style)),A6(r,l,t0(l,a,c.style)),r)),Q6(n,c[o]),Q6(n,c.mark),A6({},n,j6({markDef:a,config:c,defaultRef:e,channel:n,scaleName:h,scale:d,mark:o,checkBarAreaWithoutZero:!i[n]})()))}function Q6(t,e){var n="x2"===t?"width":"height";return e[t]?A6({},t,_6(t,e[t])):e[n]?A6({},n,{value:e[n]}):void 0}var t4="voronoi",e4={has:function(t){return"interval"!==t.type&&t.nearest},marks:function(t,e,n){var r=e.project.has,i=r.x,o=r.y,a=t.mark;if(kY(a))return CK(kK.nearestNotSupportForContinuous(a)),n;var u={name:t.getName(t4),type:"path",from:{data:t.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},U6(t,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!i&&!o?"datum.datum.x || 0":"0"},y:{expr:o||!i&&!o?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]},c=0,s=!1;return n.forEach((function(e,n){var r=e.name||"";r===t.component.mark[0].name?c=n:r.indexOf(t4)>=0&&(s=!0)})),s||n.splice(c+1,0,u),n}},n4=e4;function r4(t){return r4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r4(t)}function i4(t,e){return!e||"object"!==r4(e)&&"function"!==typeof e?o4(t):e}function o4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(t){return a4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a4(t)}function u4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c4(t,e)}function c4(t,e){return c4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c4(t,e)}function s4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f4(t,e,n){return e&&l4(t.prototype,e),n&&l4(t,n),t}var h4=function(){function t(e,n){s4(this,t),this.debugName=n,this._children=[],this._parent=null,e&&(this.parent=e)}return f4(t,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(t,e){this._children.indexOf(t)>-1?console.warn("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,t):this._children.push(t)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);return this._children.splice(e,1),e}},{key:"remove",value:function(){var t=this._parent.removeChild(this),e=!0,n=!1,r=void 0;try{for(var i,o=this._children[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a._parent=this._parent,this._parent.addChild(a,t++)}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"insertAsParentOf",value:function(t){var e=t.parent;e.removeChild(this),this.parent=e,t.parent=this}},{key:"swapWithParent",value:function(){var t=this._parent,e=t.parent,n=!0,r=!1,i=void 0;try{for(var o,a=this._children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u.parent=t}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=e,t.parent=this}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t,t&&t.addChild(this)}},{key:"children",get:function(){return this._children}}]),t}(),d4=function(t){function e(t,n,r,i){var o;return s4(this,e),o=i4(this,a4(e).call(this,t,n)),o.type=r,o.refCounts=i,o._source=o._name=n,!o.refCounts||o._name in o.refCounts||(o.refCounts[o._name]=0),o}return u4(e,t),f4(e,[{key:"clone",value:function(){var t=new this.constructor;return t.debugName="clone_"+this.debugName,t._source=this._source,t._name="clone_"+this._name,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(aY())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(t){this._source=t}}]),e}(h4);function p4(t){return p4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p4(t)}function v4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m4(t,e,n){return e&&g4(t.prototype,e),n&&g4(t,n),t}function b4(t,e){return!e||"object"!==p4(e)&&"function"!==typeof e?w4(t):e}function w4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(t){return x4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x4(t)}function _4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O4(t,e)}function O4(t,e){return O4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O4(t,e)}var k4=function(t){function e(t,n){var r;return y4(this,e),r=b4(this,x4(e).call(this,t)),r.formula=n,r}return _4(e,t),m4(e,[{key:"clone",value:function(){return new e(null,MV(this.formula))}},{key:"merge",value:function(t){for(var e in this.formula=Object.assign({},this.formula),t.formula)this.formula[e]&&!t.formula[e].band||(this.formula[e]=t.formula[e]);var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.removeChild(u),u.parent=this}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}t.remove()}},{key:"producedFields",value:function(){return new Set(XV(this.formula).map((function(t){return t.as})))}},{key:"dependentFields",value:function(){return new Set(XV(this.formula).map((function(t){return t.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(NV(this.formula))}},{key:"assemble",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=XV(this.formula)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=a.timeUnit,c=a.field,s=a.as,l=a.band;t.push({type:"formula",as:s,expr:qQ(u,c)}),l&&t.push({type:"formula",as:s+"_end",expr:qQ(u,c,{end:!0})})}}catch(f){n=!0,r=f}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}}],[{key:"makeFromEncoding",value:function(t,n){var r=n.reduceFieldDef((function(t,e,r){var i=e.timeUnit,o=e.field,a=Sot(n)?n.encoding[GJ(r)]:void 0,u=Sot(n)&&j0(r,e,a,n.markDef,n.config);if(i){var c=z0(e,{forAs:!0});t[NV({as:c,timeUnit:i,field:o})]=Object.assign({as:c,timeUnit:i,field:o},u?{band:!0}:{})}return t}),{});return 0===GV(r).length?null:new e(t,r)}},{key:"makeFromTransform",value:function(t,n){var r=Object.assign({},n);return new e(t,v4({},NV(r),r))}}]),e}(h4);function S4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var A4="_tuple_fields",E4=function t(){j4(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.items=n,this.has={}},C4={has:function(){return!0},parse:function(t,e,n){var r=e.name,i=e.project||(e.project=new E4),o={},a={},u=new Set,c=function(t,e){for(var n="visual"===e?t.channel:t.field,i=YV("".concat(r,"_").concat(n)),o=1;u.has(i);o++)i=YV("".concat(r,"_").concat(n,"_").concat(o));return u.add(i),S4({},e,i)};if(!n.fields&&!n.encodings){var s=t.config.selection[n.type];if(n.init){var l=!0,f=!1,h=void 0;try{for(var d,p=Object(xe["i"])(n.init)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value,y=!0,g=!1,m=void 0;try{for(var b,w=GV(v)[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var x=b.value;UJ(x)?(n.encodings||(n.encodings=[])).push(x):"interval"===n.type?(CK('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=s.encodings):(n.fields||(n.fields=[])).push(x)}}catch($){g=!0,m=$}finally{try{y||null==w.return||w.return()}finally{if(g)throw m}}}}catch($){f=!0,h=$}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}else n.encodings=s.encodings,n.fields=s.fields}var _=!0,O=!1,k=void 0;try{for(var S,j=(n.fields||[])[Symbol.iterator]();!(_=(S=j.next()).done);_=!0){var A=S.value,E={type:"E",field:A};E.signals=Object.assign({},c(E,"data")),i.items.push(E)}}catch($){O=!0,k=$}finally{try{_||null==j.return||j.return()}finally{if(O)throw k}}var C=!0,M=!1,D=void 0;try{for(var F,T=(n.encodings||[])[Symbol.iterator]();!(C=(F=T.next()).done);C=!0){var N=F.value,P=t.fieldDef(N);if(P){var R=P.field;if(P.timeUnit){R=t.vgField(N);var I={as:R,field:P.field,timeUnit:P.timeUnit};a[NV(I)]=I}if(!o[R]){var L="E";if("interval"===e.type){var z=t.getScaleComponent(N).get("type");QK(z)&&(L="R")}else P.bin&&(L="R-RE");var B={field:R,channel:N,type:L};B.signals=Object.assign(Object.assign({},c(B,"data")),c(B,"visual")),i.items.push(o[R]=B),i.has[N]=o[R]}}else CK(kK.cannotProjectOnChannelWithoutField(N))}}catch($){M=!0,D=$}finally{try{C||null==T.return||T.return()}finally{if(M)throw D}}if(n.init){var U=function(t){return i.items.map((function(e){return void 0!==t[e.channel]?t[e.channel]:t[e.field]}))};if("interval"===n.type)e.init=U(n.init);else{var q=Object(xe["A"])(n.init)?n.init:[n.init];e.init=q.map(U)}}GV(a).length&&(i.timeUnit=new k4(null,a))},signals:function(t,e,n){var r=e.name+A4,i=n.filter((function(t){return t.name===r}));return i.length?n:n.concat({name:r,value:e.project.items.map((function(t){t.signals;var e=x(t,["signals"]);return e}))})}},M4=C4,D4={has:function(t){return"single"===t.type&&"global"===t.resolve&&t.bind&&"scales"!==t.bind},parse:function(t,e,n,r){r.on||delete e.events,r.clear||delete e.clear},topLevelSignals:function(t,e,n){var r=e.name,i=e.project,o=e.bind,a=e.init&&e.init[0],u=n4.has(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(t,i){var c=YV("".concat(r,"_").concat(t.field)),s=n.filter((function(t){return t.name===c}));s.length||n.unshift(Object.assign(Object.assign({name:c},a?{init:i8(a[i])}:{value:null}),{on:e.events?[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(QV(t.field,u)," : null")}]:[],bind:o[t.field]||o[t.channel]||o}))})),n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.filter((function(t){return t.name===r+C8}))[0],a=r+A4,u=i.items.map((function(t){return YV("".concat(r,"_").concat(t.field))})),c=u.map((function(t){return"".concat(t," !== null")})).join(" && ");return u.length&&(o.update="".concat(c," ? {fields: ").concat(a,", values: [").concat(u.join(", "),"]} : null")),delete o.value,delete o.on,n}},F4=D4,T4="_toggle",N4={has:function(t){return"multi"===t.type&&t.toggle},signals:function(t,e,n){return n.concat({name:e.name+T4,value:!1,on:[{events:e.events,update:e.toggle}]})},modifyExpr:function(t,e){var n=e.name+C8,r=e.name+T4;return"".concat(r," ? null : ").concat(n,", ")+("global"===e.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(R8(t),"}, "))+"".concat(r," ? ").concat(n," : null")}},P4=N4,R4={has:function(t){return void 0!==t.clear&&!1!==t.clear},parse:function(t,e,n){n.clear&&(e.clear=Object(xe["H"])(n.clear)?E$(n.clear,"scope"):n.clear)},topLevelSignals:function(t,e,n){return F4.has(e)&&e.project.items.forEach((function(t){var r=n.findIndex((function(n){return n.name===YV("".concat(e.name,"_").concat(t.field))}));-1!==r&&n[r].on.push({events:e.clear,update:"null"})})),n},signals:function(t,e,n){function r(t,r){-1!==t&&n[t].on&&n[t].on.push({events:e.clear,update:r})}if("interval"===e.type)e.project.items.forEach((function(t){var e=n.findIndex((function(e){return e.name===t.signals.visual}));if(r(e,"[0, 0]"),-1===e){var i=n.findIndex((function(e){return e.name===t.signals.data}));r(i,"null")}}));else{var i=n.findIndex((function(t){return t.name===e.name+C8}));r(i,"null"),P4.has(e)&&(i=n.findIndex((function(t){return t.name===e.name+T4})),r(i,"false"))}return n}},I4=R4,L4={has:function(t){return"interval"===t.type&&"global"===t.resolve&&t.bind&&"scales"===t.bind},parse:function(t,e){var n=YV(e.name),r=e.scales=[],i=!0,o=!1,a=void 0;try{for(var u,c=e.project.items[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=s.channel;if(oZ(l)){var f=t.getScaleComponent(l),h=f?f.get("type"):void 0;if(f&&QK(h)){if(f.set("domainRaw",{signal:QV(s.field,n)},!0),r.push(s),t.repeater&&t.repeater.row===t.repeater.column){var d=t.getScaleComponent(l===iJ?oJ:iJ);d.set("domainRaw",{signal:QV(s.field,n)},!0)}}else CK(kK.SCALE_BINDINGS_CONTINUOUS)}}}catch(p){o=!0,a=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}},topLevelSignals:function(t,e,n){var r=e.scales.filter((function(t){return!n.filter((function(e){return e.name===t.signals.data})).length}));if(!t.parent||U4(t)||!r.length)return n;var i=n.filter((function(t){return t.name===e.name}))[0],o=i.update;if(o.indexOf(F8)>=0)i.update="{".concat(r.map((function(t){return"".concat(Object(xe["X"])(t.field),": ").concat(t.signals.data)})).join(", "),"}");else{var a=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,h="".concat(Object(xe["X"])(f.field),": ").concat(f.signals.data);o.indexOf(h)<0&&(o="".concat(o.substring(0,o.length-1),", ").concat(h,"}"))}}catch(d){u=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}i.update=o}return n.concat(r.map((function(t){return{name:t.signals.data}})))},signals:function(t,e,n){if(t.parent&&!U4(t)){var r=!0,i=!1,o=void 0;try{for(var a,u=function(){var t=a.value,e=n.filter((function(e){return e.name===t.signals.data}))[0];e.push="outer",delete e.value,delete e.update},c=e.scales[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)u()}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}return n}},z4=L4;function B4(t,e){var n=Object(xe["X"])(t.scaleName(e));return"domain(".concat(n,")")}function U4(t){return t.parent&&Cot(t.parent)&&(!t.parent.parent||U4(t.parent.parent))}var q4="_translate_anchor",$4="_translate_delta",W4={has:function(t){return"interval"===t.type&&t.translate},signals:function(t,e,n){var r=e.name,i=z4.has(e),o=r+q4,a=e.project.has,u=a.x,c=a.y,s=E$(e.translate,"scope");return i||(s=s.map((function(t){return t.between[0].markname=r+g8,t}))),n.push({name:o,value:{},on:[{events:s.map((function(t){return t.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(i?B4(t,iJ):"slice(".concat(u.signals.visual,")")):"")+(void 0!==c?", extent_y: "+(i?B4(t,oJ):"slice(".concat(c.signals.visual,")")):"")+"}"}]},{name:r+$4,value:{},on:[{events:s,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==u&&G4(t,e,u,"width",n),void 0!==c&&G4(t,e,c,"height",n),n}},H4=W4;function G4(t,e,n,r,i){var o=e.name,a=o+q4,u=o+$4,c=n.channel,s=z4.has(e),l=i.filter((function(t){return t.name===n.signals[s?"data":"visual"]}))[0],f=t.getSizeSignalRef(r).signal,h=t.getScaleComponent(c),d=h.get("type"),p=s&&c===iJ?"-":"",v="".concat(a,".extent_").concat(c),y="".concat(p).concat(u,".").concat(c," / ")+(s?"".concat(f):"span(".concat(v,")")),g=s?"log"===d?"panLog":"pow"===d?"panPow":"panLinear":"panLinear",m="".concat(g,"(").concat(v,", ").concat(y)+(s&&"pow"===d?", ".concat(h.get("exponent")||1):"")+")";l.on.push({events:{signal:u},update:s?m:"clampRange(".concat(m,", 0, ").concat(f,")")})}var X4="_zoom_anchor",V4="_zoom_delta",Y4={has:function(t){return"interval"===t.type&&t.zoom},signals:function(t,e,n){var r=e.name,i=z4.has(e),o=r+V4,a=e.project.has,u=a.x,c=a.y,s=Object(xe["X"])(t.scaleName(iJ)),l=Object(xe["X"])(t.scaleName(oJ)),f=E$(e.zoom,"scope");return i||(f=f.map((function(t){return t.markname=r+g8,t}))),n.push({name:r+X4,on:[{events:f,update:i?"{"+[s?"x: invert(".concat(s,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(t){return!!t})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&Z4(t,e,u,"width",n),void 0!==c&&Z4(t,e,c,"height",n),n}},J4=Y4;function Z4(t,e,n,r,i){var o=e.name,a=n.channel,u=z4.has(e),c=i.filter((function(t){return t.name===n.signals[u?"data":"visual"]}))[0],s=t.getSizeSignalRef(r).signal,l=t.getScaleComponent(a),f=l.get("type"),h=u?B4(t,a):c.name,d=o+V4,p="".concat(o).concat(X4,".").concat(a),v=u?"log"===f?"zoomLog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear",y="".concat(v,"(").concat(h,", ").concat(p,", ").concat(d)+(u&&"pow"===f?", ".concat(l.get("exponent")||1):"")+")";c.on.push({events:{signal:d},update:u?y:"clampRange(".concat(y,", 0, ").concat(s,")")})}var K4=[M4,P4,z4,H4,J4,F4,n4,I4];function Q4(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=K4[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u.has(t)&&e(u)}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}function t8(t){return r8(t)||n8(t)||e8()}function e8(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n8(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r8(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i8(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe["x"];if(Object(xe["A"])(t)){var r=t.map((function(t){return i8(t,e,n)}));return e?"[".concat(r.join(", "),"]"):r}return vQ(t)?n(kQ(t,!1,!e)):e?n(JSON.stringify(t)):t}function o8(t,e){return N8(t,(function(n,r){var i,o=n.name,a=r.modifyExpr(t,n);(i=e).push.apply(i,t8(r.signals(t,n))),Q4(n,(function(r){r.signals&&(e=r.signals(t,n,e)),r.modifyExpr&&(a=r.modifyExpr(t,n,a))})),e.push({name:o+M8,update:"modify(".concat(Object(xe["X"])(n.name+E8),", ").concat(a,")")})})),h8(e)}function a8(t,e){if(t.component.selection&&GV(t.component.selection).length){var n=Object(xe["X"])(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:E$("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return h8(e)}function u8(t,e){var n=!1;if(N8(t,(function(r,i){var o=r.name,a=Object(xe["X"])(o+E8),u=e.filter((function(t){return t.name===o}));u.length||e.push({name:r.name,update:"".concat(F8,"(").concat(a)+("global"===r.resolve?")":", ".concat(Object(xe["X"])(r.resolve),")"))}),n=!0,i.topLevelSignals&&(e=i.topLevelSignals(t,r,e)),Q4(r,(function(n){n.topLevelSignals&&(e=n.topLevelSignals(t,r,e))}))})),n){var r=e.filter((function(t){return"unit"===t.name}));r.length||e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return h8(e)}function c8(t,e){return N8(t,(function(n){var r={name:n.name+E8};if(n.init){var i=n.project.items.map((function(t){t.signals;var e=x(t,["signals"]);return e})),o=n.init.map((function(t){return i8(t,!1)}));r.values="interval"===n.type?[{unit:R8(t,{escape:!1}),fields:i,values:o}]:o.map((function(e){return{unit:R8(t,{escape:!1}),fields:i,values:e}}))}var a=e.filter((function(t){return t.name===n.name+E8}));a.length||e.push(r)})),e}function s8(t,e){return N8(t,(function(n,r){e=r.marks?r.marks(t,n,e):e,Q4(n,(function(r){r.marks&&(e=r.marks(t,n,e))}))})),e}function l8(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;Sot(u)&&(e=s8(u,e))}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}function f8(t,e){var n=JSON.parse(e.signal.replace(D8,"")),r=YV(n.selection),i=n.encoding,o=n.field,a=t.component.selection&&t.component.selection[r];if(!a){if(a=t.getSelectionComponent(r,n.selection),i||o){if(i&&!o){var u=a.project.items.filter((function(t){return t.channel===i}));!u.length||u.length>1?(o=a.project.items[0].field,CK((u.length?"Multiple ":"No ")+"matching ".concat(Object(xe["X"])(i)," encoding found for selection ").concat(Object(xe["X"])(n.selection),". ")+'Using "field": '.concat(Object(xe["X"])(o),"."))):o=u[0].field}}else o=a.project.items[0].field,a.project.items.length>1&&CK('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Object(xe["X"])(o),"."));return{signal:QV(o,r)}}return CK('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}}function h8(t){return t.map((function(t){return t.on&&!t.on.length&&delete t.on,t}))}function d8(t){return y8(t)||v8(t)||p8()}function p8(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v8(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function y8(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var g8="_brush",m8="_scale_trigger",b8={signals:function(t,e){var n=e.name,r=n+A4,i=z4.has(e),o=[],a=[],u=[];if(e.translate&&!i){var c="!event.item || event.item.mark.name !== ".concat(Object(xe["X"])(n+g8));_8(e,(function(t,e){var n=Object(xe["i"])(e.between[0].filter||(e.between[0].filter=[]));return n.indexOf(c)<0&&n.push(c),t}))}e.project.items.forEach((function(n,r){var i=n.channel;if(i===iJ||i===oJ){var c=e.init?e.init[r]:null,s=x8(t,e,n,c),l=n.signals.data,f=n.signals.visual,h=Object(xe["X"])(t.scaleName(i)),d=t.getScaleComponent(i).get("type"),p=QK(d)?"+":"";o.push.apply(o,d8(s)),a.push(l),u.push({scaleName:t.scaleName(i),expr:"(!isArray(".concat(l,") || ")+"(".concat(p,"invert(").concat(h,", ").concat(f,")[0] === ").concat(p).concat(l,"[0] && ")+"".concat(p,"invert(").concat(h,", ").concat(f,")[1] === ").concat(p).concat(l,"[1]))")})}else CK("Interval selections only support x and y encoding channels.")})),i||o.push({name:n+m8,value:{},on:[{events:u.map((function(t){return{scale:t.scaleName}})),update:u.map((function(t){return t.expr})).join(" && ")+" ? ".concat(n+m8," : {}")}]});var s=e.init,l="unit: ".concat(R8(t),", fields: ").concat(r,", values");return o.concat(Object.assign(Object.assign({name:n+C8},s?{init:"{".concat(l,": ").concat(i8(s),"}")}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+" ? {".concat(l,": [").concat(a,"]} : null")}]}))},modifyExpr:function(t,e){var n=e.name+C8;return n+", "+("global"===e.resolve?"true":"{unit: ".concat(R8(t),"}"))},marks:function(t,e,n){var r=e.name,i=e.project.has,o=i.x,a=i.y,u=o&&o.signals.visual,c=a&&a.signals.visual,s="data(".concat(Object(xe["X"])(e.name+E8),")");if(z4.has(e))return n;var l={x:void 0!==o?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==a?{signal:"".concat(c,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==a?{signal:"".concat(c,"[1]")}:{field:{group:"height"}}};if("global"===e.resolve){var f=!0,h=!1,d=void 0;try{for(var p,v=GV(l)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value;l[y]=[Object.assign({test:"".concat(s,".length && ").concat(s,"[0].unit === ").concat(R8(t))},l[y]),{value:0}]}}catch(O){h=!0,d=O}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}var g=e.mark,m=g.fill,b=g.fillOpacity,w=x(g,["fill","fillOpacity"]),_=GV(w).reduce((function(t,e){return t[e]=[{test:[void 0!==o&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==a&&"".concat(c,"[0] !== ").concat(c,"[1]")].filter((function(t){return t})).join(" && "),value:w[e]},{value:null}],t}),{});return[{name:r+g8+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},fillOpacity:{value:b}},update:l}}].concat(d8(n),[{name:r+g8,type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign(Object.assign({},l),_)}}])}},w8=b8;function x8(t,e,n,r){var i=n.channel,o=n.signals.visual,a=n.signals.data,u=z4.has(e),c=Object(xe["X"])(t.scaleName(i)),s=t.getScaleComponent(i),l=s?s.get("type"):void 0,f=function(t){return"scale(".concat(c,", ").concat(t,")")},h=t.getSizeSignalRef(i===iJ?"width":"height").signal,d="".concat(i,"(unit)"),p=_8(e,(function(t,e){return[].concat(d8(t),[{events:e.between[0],update:"[".concat(d,", ").concat(d,"]")},{events:e,update:"[".concat(o,"[0], clamp(").concat(d,", 0, ").concat(h,")]")}])}));return p.push({events:{signal:e.name+m8},update:QK(l)?"[".concat(f("".concat(a,"[0]")),", ").concat(f("".concat(a,"[1]")),"]"):"[0, 0]"}),u?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:i8(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:i8(r)}:{}),{on:[{events:{signal:o},update:"".concat(o,"[0] === ").concat(o,"[1] ? null : invert(").concat(c,", ").concat(o,")")}]})]}function _8(t,e){return t.events.reduce((function(t,n){return n.between?e(t,n):(CK("".concat(n," is not an ordered event stream for interval selections.")),t)}),[])}function O8(t,e){var n=e.name,r=n+A4,i=e.project,o="(item().isVoronoi ? datum.datum : datum)",a=i.items.map((function(e){var n=t.fieldDef(e.channel);return n&&n.bin?"[".concat(QV(t.vgField(e.channel,{}),o),", ")+"".concat(QV(t.vgField(e.channel,{binSuffix:"end"}),o),"]"):"".concat(QV(e.field,o))})).join(", "),u="unit: ".concat(R8(t),", fields: ").concat(r,", values"),c=[{name:n+C8,on:e.events?[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? {".concat(u,": [").concat(a,"]} : null"),force:!0}]:[]}];return c}var k8={signals:O8,modifyExpr:function(t,e){var n=e.name+C8;return n+", "+("global"===e.resolve?"null":"{unit: ".concat(R8(t),"}"))}},S8=k8,j8={signals:O8,modifyExpr:function(t,e){var n=e.name+C8;return n+", "+("global"===e.resolve?"true":"{unit: ".concat(R8(t),"}"))}},A8=j8,E8="_store",C8="_tuple",M8="_modify",D8="_selection_domain_",F8="vlSelectionResolve",T8={single:A8,multi:S8,interval:w8};function N8(t,e){var n=t.component.selection;for(var r in n)if(Object(xe["v"])(n,r)){var i=n[r];e(i,T8[i.type])}}function P8(t){var e=t.parent;while(e){if(jot(e))break;e=e.parent}return e}function R8(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=e.escape,r=n?Object(xe["X"])(t.name):t.name,i=P8(t);if(i){var o=i.facet,a=!0,u=!1,c=void 0;try{for(var s,l=RJ[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;o[f]&&(r+=" + '__facet_".concat(f,"_' + (").concat(QV(i.vgField(f),"facet"),")"))}}catch(h){u=!0,c=h}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}}return r}function I8(t){var e=!1;return N8(t,(function(t){e=e||t.project.items.some((function(t){return t.field===D2}))})),e}function L8(t){return t.signal.indexOf(D8)>=0}function z8(t,e){var n={},r=t.config.selection,i=function(i){if(!Object(xe["v"])(e,i))return o=i,"continue";var a=MV(e[i]),u=r[a.type],c=(u.fields,u.encodings,x(u,["fields","encodings"]));for(var s in c)"encodings"===s&&a.fields||"fields"===s&&a.encodings||("mark"===s&&(a[s]=Object.assign(Object.assign({},c[s]),a[s])),void 0!==a[s]&&!0!==a[s]||(a[s]=c[s]||a[s]));i=YV(i);var l=n[i]=Object.assign(Object.assign({},a),{name:i,events:Object(xe["H"])(a.on)?E$(a.on,"scope"):a.on});Q4(l,(function(n){n.parse&&n.parse(t,l,a,e[i])})),o=i};for(var o in e)i(o);return n}function B8(t,e,n){var r=[];function i(e){var i=YV(e),o=t.getSelectionComponent(i,e),a=Object(xe["X"])(i+E8);if(o.project.timeUnit){var u=n||t.component.data.raw,c=o.project.timeUnit.clone();u.parent?c.insertAsParentOf(u):u.parent=c}return"none"!==o.empty&&r.push(a),"vlSelectionTest(".concat(a,", datum")+("global"===o.resolve?")":", ".concat(Object(xe["X"])(o.resolve),")"))}var o=JV(e,i);return(r.length?"!("+r.map((function(t){return"length(data(".concat(t,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function U8(t,e,n){return JV(e,(function(e){return Object(xe["H"])(e)?e:g5(e)?B8(t,e.selection,n):C5(e)}))}function q8(t){return H8(t)||W8(t)||$8()}function $8(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function W8(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function H8(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function G8(t,e){return Object(xe["A"])(t)?t.map((function(t){return Z0(t,e)})).join(", "):t}function X8(t,e,n,r){t.encode=t.encode||{},t.encode[e]=t.encode[e]||{},t.encode[e].update=t.encode[e].update||{},t.encode[e].update[n]=r}function V8(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},i=t.combine(),o=i.orient,a=i.scale,u=i.labelExpr,c=i.title,s=i.zindex,l=x(i,["orient","scale","labelExpr","title","zindex"]);if(GV(l).forEach((function(t){var n=a6[t],r=l[t];if(n&&n!==e&&"both"!==n)delete l[t];else if(i6(r)){var i=r6[t],o=i.vgProp,a=i.part,u=r.condition,c=r.value,s=[].concat(q8((Object(xe["A"])(u)?u:[u]).map((function(t){var e=t.value,n=t.test;return{test:U8(null,n),value:e}}))),[{value:c}]);X8(l,a,o,s),delete l[t]}})),"grid"===e){if(!l.grid)return;if(l.encode){var f=l.encode.grid;l.encode=Object.assign({},f?{grid:f}:{}),0===GV(l.encode).length&&delete l.encode}return Object.assign(Object.assign({scale:a,orient:o},l),{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:iY(s,0)})}if(r.header||!t.mainExtracted){if(void 0!==u){var h=u;l.encode&&l.encode.labels&&l.encode.labels.update&&J5(l.encode.labels.update.text)&&(h=u.replace("datum.label",l.encode.labels.update.text.signal)),X8(l,"labels","text",{signal:h})}if(l.encode){var d=!0,p=!1,v=void 0;try{for(var y,g=o6[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;t.hasAxisPart(m)||delete l.encode[m]}}catch(w){p=!0,v=w}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}0===GV(l.encode).length&&delete l.encode}var b=G8(c,n);return Object.assign(Object.assign(Object.assign({scale:a,orient:o,grid:!1},b?{title:b}:{}),l),{zindex:iY(s,0)})}}function Y8(t){var e=t.component.axes,n=!0,r=!1,i=void 0;try{for(var o,a=JJ[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(e[u]){var c=!0,s=!1,l=void 0;try{for(var f,h=e[u][Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;if(!d.get("gridScale")){var p="x"===u?"height":"width";return[{name:p,update:t.getSizeSignalRef(p).signal}]}}}catch(v){s=!0,l=v}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}}}}catch(v){r=!0,i=v}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[]}function J8(t,e){var n=t.x,r=void 0===n?[]:n,i=t.y,o=void 0===i?[]:i;return[].concat(q8(r.map((function(t){return V8(t,"grid",e)}))),q8(o.map((function(t){return V8(t,"grid",e)}))),q8(r.map((function(t){return V8(t,"main",e)}))),q8(o.map((function(t){return V8(t,"main",e)})))).filter((function(t){return t}))}var Z8={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleOrient:"orient",titlePadding:"offset"},K8={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},Q8=GV(Z8),t9=GV(K8);function e9(t){return i9(t)||r9(t)||n9()}function n9(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r9(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function i9(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function o9(t,e,n,r,i){var o=[].concat(e9("band"===i?["axisBand"]:[]),["x"===n?"axisX":"axisY"],e9(r?["axis"+r.substr(0,1).toUpperCase()+r.substr(1)]:[]),["axis"]),a=!0,u=!1,c=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;if(e[f]&&void 0!==e[f][t])return e[f][t]}}catch(h){u=!0,c=h}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}}function a9(t,e){return!KK(t)&&!d1(e.bin)}function u9(t,e){var n="x"===e?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n)}function c9(t,e,n,r){if(void 0!==e.labelAngle)return sY(e.labelAngle);var i=o9("labelAngle",t.config,n,d9(n),t.getScaleComponent(n).get("type"));return void 0!==i?sY(i):n===iJ&&RV([RK,NK],r.type)?270:void 0}function s9(t,e){if(void 0!==t)return t=sY(t),"top"===e||"bottom"===e?t<=45||315<=t?"top"===e?"bottom":"top":135<=t&&t<=225?"top"===e?"top":"bottom":"middle":t<=45||315<=t||135<=t&&t<=225?"middle":45<=t&&t<=135?"left"===e?"top":"bottom":"left"===e?"bottom":"top"}function l9(t,e){if(void 0!==t)return t=sY(t),"top"===e||"bottom"===e?t%180===0?"center":0<t&&t<180?"top"===e?"right":"left":"top"===e?"left":"right":(t+90)%180===0?"center":90<=t&&t<270?"left"===e?"left":"right":"left"===e?"right":"left"}function f9(t,e){if("x"===e&&RV(["quantitative","temporal"],t.type))return!0}function h9(t,e){if("nominal"!==t.type)return"log"!==e||"greedy"}function d9(t){switch(t){case iJ:return"bottom";case oJ:return"left"}throw new Error(kK.INVALID_CHANNEL_FOR_AXIS)}function p9(t){var e=t.fieldDef,n=t.scaleType,r=t.size;if(!KK(n)&&"log"!==n&&!RV(["month","hours","day","quarter"],e.timeUnit))return d1(e.bin)?{signal:"ceil(".concat(r.signal,"/10)")}:{signal:"ceil(".concat(r.signal,"/40)")}}function v9(t,e,n){var r=t.values;if(r)return l1(n,r)}function y9(t,e){return"rect"===t&&B0(e)?1:0}function g9(t){return w9(t)||b9(t)||m9()}function m9(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b9(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function w9(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function x9(t){var e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push.apply(e,g9(x9(t.object))),e.push.apply(e,g9(x9(t.property)))),e)}function _9(t){return"MemberExpression"===t.object.type?_9(t.object):"datum"===t.object.name}function O9(t){var e=Yz(t),n=new Set;return e.visit((function(t){"MemberExpression"===t.type&&_9(t)&&n.add(x9(t).slice(1).join("."))})),n}function k9(t){return k9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k9(t)}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A9(t,e,n){return e&&j9(t.prototype,e),n&&j9(t,n),t}function E9(t,e){return!e||"object"!==k9(e)&&"function"!==typeof e?C9(t):e}function C9(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M9(t){return M9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M9(t)}function D9(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F9(t,e)}function F9(t,e){return F9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F9(t,e)}var T9=function(t){function e(t,n){var r;return S9(this,e),r=E9(this,M9(e).call(this,t)),r.transform=n,r._dependentFields=O9(r.transform.calculate),r}return D9(e,t),A9(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(NV(this.transform))}}],[{key:"parseAllForSortIndex",value:function(t,n){return n.forEachFieldDef((function(n,r){if(N0(n)&&y0(n.sort)){var i=n.field,o=n.timeUnit,a=n.sort,u=a.map((function(t,e){return"".concat(C5({field:i,timeUnit:o,equal:t})," ? ").concat(e," : ")})).join("")+a.length;t=new e(t,{calculate:u,as:N9(n,r,{forAs:!0})})}})),t}}]),e}(h4);function N9(t,e,n){return z0(t,Object.assign({prefix:e,suffix:"sort_index"},n||{}))}function P9(t,e){return RV(["top","bottom"],e)?"column":RV(["left","right"],e)?"row":"row"===t?"row":"column"}function R9(t,e,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return iY(e&&e.header?e.header[t]:void 0,i[t],n.header[t])}function I9(t,e,n,r){var i={},o=!0,a=!1,u=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=R9(l,e,n,r);void 0!==f&&(i[l]=f)}}catch(h){a=!0,u=h}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}return i}var L9=["row","column"],z9=["header","footer"];function B9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t,e){var n=t.component.layoutHeaders[e].title,r=t.config?t.config:void 0,i=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,o=I9(["titleAnchor","titleAngle","titleOrient"],i,r,e),a=o.titleAnchor,u=o.titleAngle,c=o.titleOrient,s=P9(e,c);return{name:"".concat(e,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===e?{orient:"left"}:{}),{style:"guide-title"}),$9(u,s)),q9(s,u,a)),Z9(r,i,e,Q8,Z8))}}function q9(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=l9(e,"row"===t?"left":"top");return r?{align:r}:{}}function $9(t,e){var n=s9(t,"row"===e?"left":"top");return n?{baseline:n}:{}}function W9(t,e){var n=t.component.layoutHeaders[e],r=[],i=!0,o=!1,a=void 0;try{for(var u,c=z9[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(n[s]){var l=!0,f=!1,h=void 0;try{for(var d,p=n[s][Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;r.push(X9(t,e,s,n,v))}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}}}catch(y){o=!0,a=y}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return r}function H9(t,e){var n=t.sort;return v0(n)?{field:z0(n,{expr:"datum"}),order:n.order||"ascending"}:Object(xe["A"])(n)?{field:N9(t,e,{expr:"datum"}),order:"ascending"}:{field:z0(t,{expr:"datum"}),order:n||"ascending"}}function G9(t,e,n){var r=I9(["format","labelAngle","labelAnchor","labelOrient","labelExpr"],t,n,e),i=r.format,o=r.labelAngle,a=r.labelAnchor,u=r.labelOrient,c=r.labelExpr,s=e0(t,i,"parent",n).signal,l=P9(e,u);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?c.replace("datum.label",s).replace("datum.value",z0(t,{expr:"parent"})):s}},"row"===e?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),$9(o,l)),q9(l,o,a)),Z9(n,t,e,t9,K8))}function X9(t,e,n,r,i){if(i){var o=null,a=r.facetFieldDef,u=t.config?t.config:void 0;if(a&&i.labels){var c=I9(["labelOrient"],a,u,e),s=c.labelOrient;("row"===e&&!RV(["top","bottom"],s)||"column"===e&&!RV(["left","right"],s))&&(o=G9(a,e,u))}var l=jot(t)&&!g0(t.facet),f=i.axes,h=f&&f.length>0;if(o||h){var d="row"===e?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName("".concat(e,"_").concat(n)),type:"group",role:"".concat(e,"-").concat(n)},r.facetFieldDef?{from:{data:t.getName(e+"_domain")},sort:H9(a,e)}:{}),h&&l?{from:{data:t.getName("facet_domain_".concat(e))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:B9({},d,i.sizeSignal)}}:{}),h?{axes:f}:{})}}return null}var V9={column:{start:0,end:1},row:{start:1,end:0}};function Y9(t,e){return V9[e][t]}function J9(t,e){var n={},r=!0,i=!1,o=void 0;try{for(var a,u=RJ[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=t[c];if(s&&s.facetFieldDef){var l=I9(["titleAnchor","titleOrient"],s.facetFieldDef,e,c),f=l.titleAnchor,h=l.titleOrient,d=P9(c,h),p=Y9(f,d);void 0!==p&&(n[d]=p)}}}catch(v){i=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return GV(n).length>0?n:void 0}function Z9(t,e,n,r,i){var o={},a=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;if(i[f]){var h=R9(f,e,t,n);void 0!==h&&(o[i[f]]=h)}}}catch(d){u=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}return o}function K9(t){return e7(t)||t7(t)||Q9()}function Q9(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t7(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function e7(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function n7(t){return[].concat(K9(r7(t,"width")),K9(r7(t,"height")))}function r7(t,e){var n="width"===e?"x":"y",r=t.component.layoutSize.get(e);if(!r||"merged"===r)return[];var i=t.getSizeSignalRef(e).signal;if("step"===r){var o=t.getScaleComponent(n);if(o){var a=o.get("type"),u=o.get("range");if(KK(a)&&Z5(u)){var c=t.scaleName(n);if(jot(t.parent)){var s=t.parent.component.resolve;if("independent"===s.scale[n])return[i7(c,u)]}return[i7(c,u),{name:i,update:o7(c,o,"domain('".concat(c,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}return[{name:i,value:r}]}function i7(t,e){return{name:t+"_step",value:e.step}}function o7(t,e,n){var r=e.get("type"),i=e.get("padding"),o=iY(e.get("paddingOuter"),i),a=e.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(a,", ").concat(o,") * ").concat(t,"_step")}function a7(t,e){return GV(t).reduce((function(n,r){var i=t[r];return Object.assign(Object.assign({},n),B6(e,i,r,(function(t){return{value:t.value}})))}),{})}function u7(t,e){if(Cot(e)||jot(e))return"shared";if(Eot(e)||Aot(e))return RV(JJ,t)?"independent":"shared";throw new Error("invalid model type for resolve")}function c7(t,e){var n=t.scale[e],r=RV(JJ,e)?"axis":"legend";return"independent"===n?("shared"===t[r][e]&&CK(kK.independentScaleMeansIndependentGuide(e)),"independent"):t[r][e]||"shared"}function s7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f7(t,e,n){return e&&l7(t.prototype,e),n&&l7(t,n),t}var h7=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s7(this,t),this.explicit=e,this.implicit=n}return f7(t,[{key:"clone",value:function(){return new t(MV(this.explicit),MV(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(t){return iY(this.explicit[t],this.implicit[t])}},{key:"getWithExplicit",value:function(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(t,e){void 0!==e.value&&this.set(t,e.value,e.explicit)}},{key:"set",value:function(t,e,n){return delete this[n?"implicit":"explicit"][t],this[n?"explicit":"implicit"][t]=e,this}},{key:"copyKeyFromSplit",value:function(t,e){void 0!==e.explicit[t]?this.set(t,e.explicit[t],!0):void 0!==e.implicit[t]&&this.set(t,e.implicit[t],!1)}},{key:"copyKeyFromObject",value:function(t,e){void 0!==e[t]&&this.set(t,e[t],!0)}},{key:"copyAll",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=GV(t.combine())[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=t.getWithExplicit(a);this.setWithExplicit(a,u)}}catch(c){n=!0,r=c}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}}]),t}();function d7(t){return{explicit:!0,value:t}}function p7(t){return{explicit:!1,value:t}}function v7(t){return function(e,n,r,i){var o=t(e.value,n.value);return o>0?e:o<0?n:y7(e,n,r,i)}}function y7(t,e,n,r){return t.explicit&&e.explicit&&CK(kK.mergeConflictingProperty(n,r,t.value,e.value)),t}function g7(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y7;return void 0===t||void 0===t.value?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:TV(t.value)===TV(e.value)?t:i(t,e,n,r)}function m7(t){return m7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m7(t)}function b7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){return!e||"object"!==m7(e)&&"function"!==typeof e?x7(t):e}function x7(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _7(t){return _7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_7(t)}function O7(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k7(t,e)}function k7(t,e){return k7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k7(t,e)}var S7=Object.assign(Object.assign({},M2),{labelExpr:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),j7=GV(S7),A7=function(t){function e(){return b7(this,e),w7(this,_7(e).apply(this,arguments))}return O7(e,t),e}(h7);function E7(t,e){var n=t.values;if(n)return l1(e,n)}function C7(t,e,n,r){if("shape"!==e){var i=q7(n)||r;if(i)return i}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function M7(t){var e=t.legend;return iY(e.type,D7(t))}function D7(t){var e=t.channel,n=t.timeUnit,r=t.scaleType,i=t.alwaysReturn;if(NJ(e)){if(RV(["quarter","month","day"],n))return"symbol";if(tQ(r))return i?"gradient":void 0}return i?"symbol":void 0}function F7(t){var e=t.legend,n=t.legendConfig,r=t.timeUnit,i=t.channel,o=t.scaleType,a=iY(e.orient,n.orient,"right"),u=M7({legend:e,channel:i,timeUnit:r,scaleType:o,alwaysReturn:!0});return iY(e.direction,n[u?"gradientDirection":"symbolDirection"],T7(a,u))}function T7(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===e?"horizontal":void 0}}function N7(t){var e=t.legend,n=t.legendConfig,r=t.model,i=t.channel,o=t.scaleType,a=n.gradientHorizontalMaxLength,u=n.gradientHorizontalMinLength,c=n.gradientVerticalMaxLength,s=n.gradientVerticalMinLength,l=F7({legend:e,legendConfig:n,channel:i,scaleType:o});if("horizontal"===l){var f=iY(e.orient,n.orient);return"top"===f||"bottom"===f?P7(r,"width",u,a):u}return P7(r,"height",s,c)}function P7(t,e,n,r){var i=t.getSizeSignalRef(e).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function R7(t){if(RV(["quantile","threshold","log"],t))return"greedy"}function I7(t,e,n){var r=e.getScaleComponent(n).get("type");return iY(t.get("type"),D7({channel:n,scaleType:r,alwaysReturn:!0}))}function L7(t,e,n,r,i){if("symbol"===I7(i,n,r)){var o=Object.assign(Object.assign({},JQ({},n,MY)),F6(n)),a=n.markDef,u=n.encoding,c=n.config,s=a.filled,l=U7(u.opacity)||a.opacity;if(o.fill)if("fill"===r||s&&r===hJ)delete o.fill;else if(o.fill["field"])i.get("symbolFillColor")?delete o.fill:(o.fill={value:c.legend.symbolBaseFillColor||"black"},o.fillOpacity={value:l||1});else if(Object(xe["A"])(o.fill)){var f=q7(u.fill||u.color)||a.fill||s&&a.color;f&&(o.fill={value:f})}if(o.stroke)if("stroke"===r||!s&&r===hJ)delete o.stroke;else if(o.stroke["field"])delete o.stroke;else if(Object(xe["A"])(o.stroke)){var h=iY(q7(u.stroke||u.color),a.stroke,s?a.color:void 0);h&&(o.stroke={value:h})}return r!==gJ&&l&&(o.opacity={value:l}),o=Object.assign(Object.assign({},o),e),GV(o).length>0?o:void 0}}function z7(t,e,n,r,i){if("gradient"===I7(i,n,r)){var o={},a=U7(n.encoding.opacity)||n.markDef.opacity;return a&&(o.opacity={value:a}),o=Object.assign(Object.assign({},o),e),GV(o).length>0?o:void 0}}function B7(t,e,n,r){var i=n.legend(r),o=n.config,a={};if(u1(t)){var u=n.getScaleComponent(r).get("type")===FK.UTC,c=a0("datum.value",t.timeUnit,i.format,o.legend.shortTimeLabels,o.timeFormat,u);e=Object.assign(Object.assign({},c?{text:{signal:c}}:{}),e)}return a=Object.assign(Object.assign({},a),e),GV(a).length>0?a:void 0}function U7(t){return $7(t,(function(t,e){return Math.max(t,e.value)}))}function q7(t){return $7(t,(function(t,e){return iY(t,e.value)}))}function $7(t,e){return C0(t)?(Object(xe["A"])(t.condition)?t.condition:[t.condition]).reduce(e,t.value):T0(t)?t.value:void 0}function W7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H7(t){Sot(t)?t.component.legends=G7(t):t.component.legends=Z7(t)}function G7(t){var e=t.encoding;return[hJ,dJ,pJ,wJ,yJ,vJ,gJ,mJ,bJ].reduce((function(n,r){var i=e[r];return!t.legend(r)||!t.getScaleComponent(r)||M0(i)&&r===vJ&&i.type===IK||(n[r]=Y7(t,r)),n}),{})}function X7(t,e){var n=t.scaleName(hJ);return"color"===e?t.markDef.filled?{fill:n}:{stroke:n}:W7({},e,t.scaleName(e))}function V7(t,e,n,r){switch(e){case"values":return!!n.values;case"title":if("title"===e&&t===r.title)return!0}return t===n[e]}function Y7(t,e){var n=t.fieldDef(e),r=t.legend(e),i=new A7({},X7(t,e)),o=!0,a=!1,u=void 0;try{for(var c,s=j7[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=J7(l,r,e,t);if(void 0!==f){var h=V7(f,l,r,n);(h||void 0===t.config.legend[l])&&i.set(l,f,h)}}}catch(v){a=!0,u=v}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var d=r.encoding||{},p=["labels","legend","title","symbols","gradient"].reduce((function(r,o){var a=a7(d[o]||{},t),u=y[o]?y[o](n,a,t,e,i):a;return void 0!==u&&GV(u).length>0&&(r[o]={update:u}),r}),{});return GV(p).length>0&&i.set("encode",p,!!r.encoding),i}function J7(t,e,n,r){var i=r.encoding,o=r.mark,a=e1(i[n]),u=r.config.legend,c=a.timeUnit,s=r.getScaleComponent(n).get("type");switch(t){case"direction":return F7({legend:e,legendConfig:u,timeUnit:c,channel:n,scaleType:s});case"format":if(u1(a))return;return n0(a,e.format,r.config);case"formatType":if(u1(a))return;return e.formatType;case"gradientLength":return iY(e.gradientLength,u.gradientLength,N7({model:r,legend:e,legendConfig:u,channel:n,scaleType:s}));case"labelOverlap":return iY(e.labelOverlap,R7(s));case"symbolType":return iY(e.symbolType,C7(o,n,i.shape,r.markDef.shape));case"title":return Y0(a,r.config,{allowDisabling:!0})||void 0;case"type":return M7({legend:e,channel:n,timeUnit:c,scaleType:s,alwaysReturn:!1});case"values":return E7(e,a)}return e[t]}function Z7(t){var e=t.component,n=e.legends,r=e.resolve,i=!0,o=!1,a=void 0;try{for(var u,c=function(){var e=u.value;H7(e),GV(e.component.legends).forEach((function(i){r.legend[i]=c7(t.component.resolve,i),"shared"===r.legend[i]&&(n[i]=K7(n[i],e.component.legends[i]),n[i]||(r.legend[i]="independent",delete n[i]))}))},s=t.children[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c()}catch(l){o=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return GV(n).forEach((function(e){var n=!0,i=!1,o=void 0;try{for(var a,u=t.children[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;c.component.legends[e]&&("shared"===r.legend[e]&&delete c.component.legends[e])}}catch(l){i=!0,o=l}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}})),n}function K7(t,e){if(!t)return e.clone();var n=t.getWithExplicit("orient"),r=e.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){var i=!1,o=!0,a=!1,u=void 0;try{for(var c,s=function(){var n=c.value,r=g7(t.getWithExplicit(n),e.getWithExplicit(n),n,"legend",(function(t,e){switch(n){case"symbolType":return Q7(t,e);case"title":return l0(t,e);case"type":return i=!0,p7("symbol")}return y7(t,e,n,"legend")}));t.setWithExplicit(n,r)},l=j7[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)s()}catch(f){a=!0,u=f}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return i&&(((t.implicit||{}).encode||{}).gradient&&ZV(t.implicit,["encode","gradient"]),((t.explicit||{}).encode||{}).gradient&&ZV(t.explicit,["encode","gradient"])),t}}function Q7(t,e){return"circle"===e.value?e:t}function ttt(t,e,n,r){t.encode=t.encode||{},t.encode[e]=t.encode[e]||{},t.encode[e].update=t.encode[e].update||{},t.encode[e].update[n]=r}function ett(t){var e=t.component.legends,n={},r=!0,i=!1,o=void 0;try{for(var a,u=GV(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=t.getScaleComponent(c),l=TV(s.get("domains"));if(n[l]){var f=!0,h=!1,d=void 0;try{for(var p,v=n[l][Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,g=K7(y,e[c]);g||n[l].push(e[c])}}catch(m){h=!0,d=m}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}else n[l]=[e[c].clone()]}}catch(m){i=!0,o=m}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return XV(n).flat().map((function(t){var e=t.combine(),n=e.labelExpr,r=x(e,["labelExpr"]);if(r.encode&&r.encode.symbols){var i=r.encode.symbols.update;!i.fill||"transparent"===i.fill["value"]||i.stroke||r.stroke||(i.stroke={value:"transparent"}),r.fill&&delete i.fill}if(void 0!==n){var o=n;r.encode&&r.encode.labels&&r.encode.labels.update&&J5(r.encode.labels.update.text)&&(o=n.replace("datum.label",r.encode.labels.update.text.signal)),ttt(r,"labels","text",{signal:o})}return r}))}function ntt(t){return Cot(t)||Eot(t)||Aot(t)?rtt(t):itt(t)}function rtt(t){return t.children.reduce((function(t,e){return t.concat(e.assembleProjections())}),itt(t))}function itt(t){var e=t.component.projection;if(!e||e.merged)return[];var n=e.combine(),r=n.name,i=x(n,["name"]);if(e.data){var o={signal:"[".concat(e.size.map((function(t){return t.signal})).join(", "),"]")},a=e.data.reduce((function(e,n){var r=J5(n)?n.signal:"data('".concat(t.lookupDataSource(n),"')");return RV(e,r)||e.push(r),e}),[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:o,fit:{signal:a.length>1?"[".concat(a.join(", "),"]"):a[0]}},i)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),i)]}var ott=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function att(t){return att="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},att(t)}function utt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ctt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function stt(t,e,n){return e&&ctt(t.prototype,e),n&&ctt(t,n),t}function ltt(t,e){return!e||"object"!==att(e)&&"function"!==typeof e?ftt(t):e}function ftt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function htt(t){return htt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},htt(t)}function dtt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ptt(t,e)}function ptt(t,e){return ptt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ptt(t,e)}var vtt=function(t){function e(t,n,r,i){var o;return utt(this,e),o=ltt(this,htt(e).call(this,Object.assign({},n),{name:t})),o.specifiedProjection=n,o.size=r,o.data=i,o.merged=!1,o}return dtt(e,t),stt(e,[{key:"isFit",get:function(){return!!this.data}}]),e}(h7);function ytt(t){return btt(t)||mtt(t)||gtt()}function gtt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function mtt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function btt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function wtt(t){t.component.projection=Sot(t)?xtt(t):ktt(t)}function xtt(t){if(t.hasProjection){var e=t.specifiedProjection,n=!(e&&(null!=e.scale||null!=e.translate)),r=n?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,i=n?_tt(t):void 0;return new vtt(t.projectionName(!0),Object.assign(Object.assign({},t.config.projection||{}),e||{}),r,i)}}function _tt(t){var e=[];return[[sJ,cJ],[fJ,lJ]].forEach((function(n){(t.channelHasField(n[0])||t.channelHasField(n[1]))&&e.push({signal:t.getName("geojson_".concat(e.length))})})),t.channelHasField(vJ)&&t.fieldDef(vJ).type===IK&&e.push({signal:t.getName("geojson_".concat(e.length))}),0===e.length&&e.push(t.requestDataName(v5)),e}function Ott(t,e){var n=LV(ott,(function(n){return!Object(xe["v"])(t.explicit,n)&&!Object(xe["v"])(e.explicit,n)||!(!Object(xe["v"])(t.explicit,n)||!Object(xe["v"])(e.explicit,n)||TV(t.get(n))!==TV(e.get(n)))})),r=TV(t.size)===TV(e.size);if(r){if(n)return t;if(TV(t.explicit)===TV({}))return e;if(TV(e.explicit)===TV({}))return t}return null}function ktt(t){if(0!==t.children.length){var e;t.children.forEach((function(t){return wtt(t)}));var n=LV(t.children,(function(t){var n=t.component.projection;if(n){if(e){var r=Ott(e,n);return r&&(e=r),!!r}return e=n,!0}return!0}));if(e&&n){var r=t.projectionName(!0),i=new vtt(r,e.specifiedProjection,e.size,MV(e.data));return t.children.forEach((function(t){var e=t.component.projection;if(e){var n;if(e.isFit)(n=i.data).push.apply(n,ytt(t.component.projection.data));t.renameProjection(e.get("name"),r),e.merged=!0}})),i}}}function Stt(t){return Stt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Stt(t)}function jtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Att(t){return Ctt(t)||Ftt(t)||Ett()}function Ett(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ctt(t){if(Array.isArray(t))return t}function Mtt(t){return Ttt(t)||Ftt(t)||Dtt()}function Dtt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ftt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Ttt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Ntt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ptt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rtt(t,e,n){return e&&Ptt(t.prototype,e),n&&Ptt(t,n),t}function Itt(t,e){return!e||"object"!==Stt(e)&&"function"!==typeof e?Ltt(t):e}function Ltt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ztt(t){return ztt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ztt(t)}function Btt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Utt(t,e)}function Utt(t,e){return Utt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Utt(t,e)}function qtt(t,e,n,r){if(f1(e,n)){var i=Sot(t)&&(t.axis(n)||t.legend(n))||{},o=z0(e,{expr:"datum"}),a=z0(e,{expr:"datum",binSuffix:"end"});return{formulaAs:z0(e,{binSuffix:"range",forAs:!0}),formula:o0(o,a,i.format,r)}}return{}}function $tt(t,e){return"".concat(h1(t),"_").concat(e)}function Wtt(t,e){return{signal:t.getName("".concat(e,"_bins")),extentSignal:t.getName("".concat(e,"_extent"))}}function Htt(t,e,n){var r=i1(n,void 0)||{},i=$tt(r,e);return t.getName("".concat(i,"_bins"))}function Gtt(t){return"as"in t}function Xtt(t,e,n){var r;r=Gtt(t)?Object(xe["H"])(t.as)?[t.as,"".concat(t.as,"_end")]:[t.as[0],t.as[1]]:[z0(t,{forAs:!0}),z0(t,{binSuffix:"end",forAs:!0})];var i=i1(e,void 0)||{},o=$tt(i,t.field),a=Wtt(n,o),u=a.signal,c=a.extentSignal,s=Object.assign(Object.assign({bin:i,field:t.field,as:[r]},u?{signal:u}:{}),c?{extentSignal:c}:{});return{key:o,binComponent:s}}var Vtt=function(t){function e(t,n){var r;return Ntt(this,e),r=Itt(this,ztt(e).call(this,t)),r.bins=n,r}return Btt(e,t),Rtt(e,[{key:"clone",value:function(){return new e(null,MV(this.bins))}},{key:"merge",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=GV(t.bins)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u in this.bins?(e(t.bins[u].signal,this.bins[u].signal),this.bins[u].as=UV([].concat(Mtt(this.bins[u].as),Mtt(t.bins[u].as)),NV)):this.bins[u]=t.bins[u]}}catch(p){r=!0,i=p}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var c=!0,s=!1,l=void 0;try{for(var f,h=t.children[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;t.removeChild(d),d.parent=this}}catch(p){s=!0,l=p}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}t.remove()}},{key:"producedFields",value:function(){return new Set(XV(this.bins).map((function(t){return t.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(XV(this.bins).map((function(t){return t.field})))}},{key:"hash",value:function(){return"Bin ".concat(NV(this.bins))}},{key:"assemble",value:function(){return XV(this.bins).flatMap((function(t){var e=[],n=Att(t.as),r=n[0],i=n.slice(1),o=Object.assign({type:"bin",field:eY(t.field),as:r,signal:t.signal},t.bin);!t.bin.extent&&t.extentSignal&&(e.push({type:"extent",field:eY(t.field),signal:t.extentSignal}),o.extent={signal:t.extentSignal}),e.push(o);var a=!0,u=!1,c=void 0;try{for(var s,l=i[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)for(var f=s.value,h=0;h<2;h++)e.push({type:"formula",expr:z0({field:r[h]},{expr:"datum"}),as:f[h]})}catch(d){u=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}return t.formula&&e.push({type:"formula",expr:t.formula,as:t.formulaAs}),e}))}}],[{key:"makeFromEncoding",value:function(t,n){var r=n.reduceFieldDef((function(t,e,r){if(D0(e)&&d1(e.bin)){var i=Xtt(e,e.bin,n),o=i.key,a=i.binComponent;t[o]=Object.assign(Object.assign(Object.assign({},a),t[o]),qtt(n,e,r,n.config))}return t}),{});return 0===GV(r).length?null:new e(t,r)}},{key:"makeFromTransform",value:function(t,n,r){var i=Xtt(n,n.bin,r),o=i.key,a=i.binComponent;return new e(t,jtt({},o,a))}}]),e}(h4);function Ytt(t){return Ytt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ytt(t)}function Jtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ztt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ktt(t,e,n){return e&&Ztt(t.prototype,e),n&&Ztt(t,n),t}function Qtt(t,e){return!e||"object"!==Ytt(e)&&"function"!==typeof e?tet(t):e}function tet(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eet(t){return eet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eet(t)}function net(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ret(t,e)}function ret(t,e){return ret=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ret(t,e)}var iet=function(t){function e(t){var n,r;if(Jtt(this,e),n=Qtt(this,eet(e).call(this,null)),t=t||{name:"source"},f5(t)||(r=t.format?Object.assign({},FV(t.format,["parse"])):{}),s5(t))n._data={values:t.values};else if(c5(t)){if(n._data={url:t.url},!r.type){var i=/(?:\.([^.]+))?$/.exec(t.url)[1];RV(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else d5(t)?n._data={values:[{type:"Sphere"}]}:(l5(t)||f5(t))&&(n._data={});return n._generator=f5(t),t.name&&(n._name=t.name),r&&GV(r).length>0&&(n._data.format=r),n}return net(e,t),Ktt(e,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(t){this._name=t}},{key:"parent",set:function(t){throw new Error("Source nodes have to be roots.")}}]),e}(h4);function oet(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=a.children[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value;if(h.parent!==a)return console.error("Dataflow graph is inconsistent.",a,h),!1}}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(!oet(a.children))return!1}}catch(d){n=!0,r=d}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!0}function aet(t){return aet="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aet(t)}function uet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function set(t,e,n){return e&&cet(t.prototype,e),n&&cet(t,n),t}function fet(t,e){return!e||"object"!==aet(e)&&"function"!==typeof e?het(t):e}function het(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function det(t){return det=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},det(t)}function pet(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vet(t,e)}function vet(t,e){return vet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vet(t,e)}var yet=function(t){function e(t,n){var r;return uet(this,e),r=fet(this,det(e).call(this,t)),r.params=n,r}return pet(e,t),set(e,[{key:"clone",value:function(){return new e(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(NV(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),e}(h4);function get(t){return get="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},get(t)}function met(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wet(t,e,n){return e&&bet(t.prototype,e),n&&bet(t,n),t}function xet(t,e){return!e||"object"!==get(e)&&"function"!==typeof e?_et(t):e}function _et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oet(t){return Oet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oet(t)}function ket(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jet(t,e)}function jet(t,e){return jet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jet(t,e)}var Aet=function(t){function e(t,n){var r;return met(this,e),r=xet(this,Oet(e).call(this,t)),r.params=n,r}return ket(e,t),wet(e,[{key:"clone",value:function(){return new e(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([this.params.as||"data"])}},{key:"hash",value:function(){return"Hash ".concat(NV(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),e}(h4);function Eet(t){return Eet="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eet(t)}function Cet(t,e){return!e||"object"!==Eet(e)&&"function"!==typeof e?Met(t):e}function Met(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Det(t){return Det=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Det(t)}function Fet(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tet(t,e)}function Tet(t,e){return Tet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tet(t,e)}function Net(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ret(t,e,n){return e&&Pet(t.prototype,e),n&&Pet(t,n),t}function Iet(t){return t instanceof iet||t instanceof yet||t instanceof Aet}var Let=function(){function t(){Net(this,t),this._mutated=!1}return Ret(t,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),t}(),zet=function(t){function e(){var t;return Net(this,e),t=Cet(this,Det(e).call(this)),t._continue=!1,t}return Fet(e,t),Ret(e,[{key:"setContinue",value:function(){this._continue=!0}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(t){if(Iet(t))return!1;var e=t.parent,n=this.run(t),r=n.continueFlag;return r&&this.optimizeNextFromLeaves(e),this.mutatedFlag}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(t){var e=t.continueFlag,n=t.mutatedFlag;e&&this.setContinue(),n&&this.setMutated()}}]),e}(Let),Bet=function(t){function e(){return Net(this,e),Cet(this,Det(e).apply(this,arguments))}return Fet(e,t),e}(Let);function Uet(t){return Uet="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uet(t)}function qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wet(t,e,n){return e&&$et(t.prototype,e),n&&$et(t,n),t}function Het(t,e){return!e||"object"!==Uet(e)&&"function"!==typeof e?Get(t):e}function Get(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xet(t){return Xet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xet(t)}function Vet(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yet(t,e)}function Yet(t,e){return Yet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yet(t,e)}function Jet(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zet(t){return tnt(t)||Qet(t)||Ket()}function Ket(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Qet(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function tnt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function ent(t,e,n,r){var i=Sot(r)?r.encoding[GJ(e)]:void 0;if(D0(n)&&Sot(r)&&j0(e,n,i,r.markDef,r.config))t.add(z0(n,{})),t.add(z0(n,{suffix:"end"})),f1(n,e)&&t.add(z0(n,{binSuffix:"range"}));else if(DJ(e)){var o=CJ(e);t.add(r.getName(o))}else t.add(z0(n));return t}function nnt(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=GV(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,c=e[u],s=!0,l=!1,f=void 0;try{for(var h,d=GV(c)[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var p=h.value;u in t?t[u][p]=new Set([].concat(Zet(t[u][p]||[]),Zet(c[p]))):t[u]=Jet({},p,c[p])}}catch(v){l=!0,f=v}finally{try{s||null==d.return||d.return()}finally{if(l)throw f}}}}catch(v){r=!0,i=v}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var rnt=function(t){function e(t,n,r){var i;return qet(this,e),i=Het(this,Xet(e).call(this,t)),i.dimensions=n,i.measures=r,i}return Vet(e,t),Wet(e,[{key:"clone",value:function(){return new e(null,new Set(this.dimensions),MV(this.measures))}},{key:"merge",value:function(t){return qV(this.dimensions,t.dimensions)?(nnt(this.measures,t.measures),!0):(MK("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(t){t.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Zet(this.dimensions),Zet(GV(this.measures))))}},{key:"producedFields",value:function(){var t=new Set,e=!0,n=!1,r=void 0;try{for(var i,o=GV(this.measures)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=GV(this.measures[a])[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value,d=this.measures[a][h];0===d.size?t.add("".concat(h,"_").concat(a)):d.forEach(t.add,t)}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(p){n=!0,r=p}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"hash",value:function(){return"Aggregate ".concat(NV({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var t=[],e=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,u=GV(this.measures)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=!0,l=!1,f=void 0;try{for(var h,d=GV(this.measures[c])[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var p=h.value,v=!0,y=!1,g=void 0;try{for(var m,b=this.measures[c][p][Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value;n.push(w),t.push(p),e.push("*"===c?null:eY(c))}}catch(_){y=!0,g=_}finally{try{v||null==b.return||b.return()}finally{if(y)throw g}}}}catch(_){l=!0,f=_}finally{try{s||null==d.return||d.return()}finally{if(l)throw f}}}}catch(_){i=!0,o=_}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var x={type:"aggregate",groupby:Zet(this.dimensions),ops:t,fields:e,as:n};return x}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(t,n){var r=!1;n.forEachFieldDef((function(t){t.aggregate&&(r=!0)}));var i={},o=new Set;return r?(n.forEachFieldDef((function(t,e){var r=t.aggregate,a=t.field;if(r)if("count"===r)i["*"]=i["*"]||{},i["*"]["count"]=new Set([z0(t,{forAs:!0})]);else{if(GY(r)||XY(r)){var u=GY(r)?"argmin":"argmax",c=r[u];i[c]=i[c]||{},i[c][u]=new Set([z0({op:u,field:c},{forAs:!0})])}else i[a]=i[a]||{},i[a][r]=new Set([z0(t,{forAs:!0})]);oZ(e)&&"unaggregated"===n.scaleDomain(e)&&(i[a]=i[a]||{},i[a]["min"]=new Set([z0({field:a,aggregate:"min"},{forAs:!0})]),i[a]["max"]=new Set([z0({field:a,aggregate:"max"},{forAs:!0})]))}else ent(o,e,t,n)})),o.size+GV(i).length===0?null:new e(t,o,i)):null}},{key:"makeFromTransform",value:function(t,n){var r=new Set,i={},o=!0,a=!1,u=void 0;try{for(var c,s=n.aggregate[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=l.op,h=l.field,d=l.as;f&&("count"===f?(i["*"]=i["*"]||{},i["*"]["count"]=new Set([d||z0(l,{forAs:!0})])):(i[h]=i[h]||{},i[h][f]=new Set([d||z0(l,{forAs:!0})])))}}catch(w){a=!0,u=w}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var p=!0,v=!1,y=void 0;try{for(var g,m=(n.groupby||[])[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=g.value;r.add(b)}}catch(w){v=!0,y=w}finally{try{p||null==m.return||m.return()}finally{if(v)throw y}}return r.size+GV(i).length===0?null:new e(t,r,i)}}]),e}(h4);function int(t){return int="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},int(t)}function ont(t){return cnt(t)||unt(t)||ant()}function ant(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function unt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function cnt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function snt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fnt(t,e,n){return e&&lnt(t.prototype,e),n&&lnt(t,n),t}function hnt(t,e){return!e||"object"!==int(e)&&"function"!==typeof e?dnt(t):e}function dnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pnt(t){return pnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pnt(t)}function vnt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ynt(t,e)}function ynt(t,e){return ynt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ynt(t,e)}var gnt=function(t){function e(t,n,r,i){var o;snt(this,e),o=hnt(this,pnt(e).call(this,t)),o.model=n,o.name=r,o.data=i;var a=!0,u=!1,c=void 0;try{for(var s,l=RJ[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,h=n.facet[f];if(h){var d=h.bin,p=h.sort;o[f]=Object.assign({name:n.getName("".concat(f,"_domain")),fields:[z0(h)].concat(ont(d1(d)?[z0(h,{binSuffix:"end"})]:[]))},v0(p)?{sortField:p}:Object(xe["A"])(p)?{sortIndexField:N9(h,f)}:{})}}}catch(v){u=!0,c=v}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}return o.childModel=n.child,o}return vnt(e,t),fnt(e,[{key:"hash",value:function(){var t="Facet",e=!0,n=!1,r=void 0;try{for(var i,o=RJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this[a]&&(t+=" ".concat(a.charAt(0),":").concat(NV(this[a])))}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"dependentFields",value:function(){var t=new Set(this.fields),e=!0,n=!1,r=void 0;try{for(var i,o=RJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this[a]&&(this[a].sortField&&t.add(this[a].sortField.field),this[a].sortIndexField&&t.add(this[a].sortIndexField))}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){for(var t={},e=0,n=["x","y"];e<n.length;e++){var r=n[e],i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(KK(o)&&Z5(a)){var u=_it(this.childModel,r),c=xit(u);c?t[r]=c:CK("Unknown field for ${channel}.  Cannot calculate view size.")}}}return t}},{key:"assembleRowColumnHeaderData",value:function(t,e,n){var r={row:"y",column:"x"}[t],i=[],o=[],a=[];n&&n[r]&&(e?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));var u=this[t],c=u.sortField,s=u.sortIndexField;if(c){var l=c.op,f=void 0===l?f0:l,h=c.field;i.push(h),o.push(f),a.push(z0(c,{forAs:!0}))}else s&&(i.push(s),o.push("max"),a.push(s));return{name:this[t].name,source:e||this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},i.length?{fields:i,ops:o,as:a}:{})]}}},{key:"assembleFacetHeaderData",value:function(t){var e=this.model.layout.columns,n=this.model.component.layoutHeaders,r=[],i={},o=!0,a=!1,u=void 0;try{for(var c,s=L9[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=!0,h=!1,d=void 0;try{for(var p,v=z9[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,g=n[l]&&n[l][y]||[],m=!0,b=!1,w=void 0;try{for(var x,_=g[Symbol.iterator]();!(m=(x=_.next()).done);m=!0){var O=x.value;if(O.axes&&O.axes.length>0){i[l]=!0;break}}}catch(E){b=!0,w=E}finally{try{m||null==_.return||_.return()}finally{if(b)throw w}}}}catch(E){h=!0,d=E}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}if(i[l]){var k='length(data("'.concat(this.facet.name,'"))'),S="row"===l?e?{signal:"ceil(".concat(k," / ").concat(e,")")}:1:e?{signal:"min(".concat(k,", ").concat(e,")")}:{signal:k};r.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:S}]})}}}catch(E){a=!0,u=E}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var j=i.row,A=i.column;return(j||A)&&r.unshift(this.assembleRowColumnHeaderData("facet",null,t)),r}},{key:"assemble",value:function(){var t=[],e=null,n=this.getChildIndependentFieldsWithStep(),r=this.column,i=this.row,o=this.facet;if(r&&i&&(n.x||n.y)){e="cross_".concat(this.column.name,"_").concat(this.row.name);var a=[].concat(n.x||[],n.y||[]),u=a.map((function(){return"distinct"}));t.push({name:e,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:u}]})}for(var c=0,s=[nJ,eJ];c<s.length;c++){var l=s[c];this[l]&&t.push(this.assembleRowColumnHeaderData(l,e,n))}if(o){var f=this.assembleFacetHeaderData(n);f&&t.push.apply(t,ont(f))}return t}},{key:"fields",get:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=RJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this[a]&&this[a].fields&&t.push.apply(t,ont(this[a].fields))}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}}]),e}(h4);function mnt(t){return mnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mnt(t)}function bnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xnt(t,e,n){return e&&wnt(t.prototype,e),n&&wnt(t,n),t}function _nt(t,e){return!e||"object"!==mnt(e)&&"function"!==typeof e?knt(t):e}function Ont(t){return Ont=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ont(t)}function knt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Snt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jnt(t,e)}function jnt(t,e){return jnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jnt(t,e)}var Ant=function(t){function e(t,n,r){var i;return bnt(this,e),i=_nt(this,Ont(e).call(this,t)),i.model=n,i.filter=r,i.expr=U8(i.model,i.filter,knt(i)),i._dependentFields=O9(i.expr),i}return Snt(e,t),xnt(e,[{key:"clone",value:function(){return new e(null,this.model,MV(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),e}(h4);function Ent(t){return Ent="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ent(t)}function Cnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dnt(t,e,n){return e&&Mnt(t.prototype,e),n&&Mnt(t,n),t}function Fnt(t,e){return!e||"object"!==Ent(e)&&"function"!==typeof e?Tnt(t):e}function Tnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nnt(t){return Nnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nnt(t)}function Pnt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rnt(t,e)}function Rnt(t,e){return Rnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rnt(t,e)}function Int(t){return"'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]?t.slice(1,-1):t}function Lnt(t,e){var n=QV(t);if("number"===e)return"toNumber(".concat(n,")");if("boolean"===e)return"toBoolean(".concat(n,")");if("string"===e)return"toString(".concat(n,")");if("date"===e)return"toDate(".concat(n,")");if("flatten"===e)return n;if(0===e.indexOf("date:")){var r=Int(e.slice(5,e.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===e.indexOf("utc:")){var i=Int(e.slice(4,e.length));return"utcParse(".concat(n,",'").concat(i,"')")}return CK(kK.unrecognizedParse(e)),null}var znt=function(t){function e(t,n){var r;return Cnt(this,e),r=Fnt(this,Nnt(e).call(this,t)),r._parse=n,r}return Pnt(e,t),Dnt(e,[{key:"clone",value:function(){return new e(null,MV(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(NV(this._parse))}},{key:"merge",value:function(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}},{key:"assembleFormatParse",value:function(){var t={},e=!0,n=!1,r=void 0;try{for(var i,o=GV(this._parse)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=this._parse[a];1===rY(a)&&(t[a]=u)}}catch(c){n=!0,r=c}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"producedFields",value:function(){return new Set(GV(this._parse))}},{key:"dependentFields",value:function(){return new Set(GV(this._parse))}},{key:"assembleTransforms",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return GV(this._parse).filter((function(t){return!e||rY(t)>1})).map((function(e){var n=Lnt(e,t._parse[e]);if(!n)return null;var r={type:"formula",expr:n,as:nY(e)};return r})).filter((function(t){return null!==t}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(t,e,n){var r={},i=e.data;return!f5(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(t,r,{},n)}},{key:"makeImplicitFromFilterTransform",value:function(t,e,n){var r={};return mV(e.filter,(function(t){if(j5(t)){var e=null;m5(t)?e=t.equal:O5(t)?e=t.range[0]:k5(t)&&(e=(t.oneOf||t["in"])[0]),e&&(vQ(e)?r[t.field]="date":Object(xe["E"])(e)?r[t.field]="number":Object(xe["H"])(e)&&(r[t.field]="string")),t.timeUnit&&(r[t.field]="date")}})),0===GV(r).length?null:this.makeWithAncestors(t,{},r,n)}},{key:"makeImplicitFromEncoding",value:function(t,e,n){var r={};function i(t){u1(t)?r[t.field]="date":"quantitative"===t.type&&ZY(t.aggregate)?r[t.field]="number":rY(t.field)>1?t.field in r||(r[t.field]="flatten"):N0(t)&&v0(t.sort)&&rY(t.sort.field)>1&&(t.sort.field in r||(r[t.sort.field]="flatten"))}if((Sot(e)||jot(e))&&e.forEachFieldDef((function(t,n){if(D0(t))i(t);else{var r=HJ(n),o=e.fieldDef(r);i(Object.assign(Object.assign({},t),{type:o.type}))}})),Sot(e)){var o=e.mark,a=e.markDef,u=e.encoding;if(kY(o)&&!e.encoding.order){var c="horizontal"===a.orient?"y":"x",s=u[c];!M0(s)||"quantitative"!==s.type||s.field in r||(r[s.field]="number")}}return this.makeWithAncestors(t,{},r,n)}},{key:"makeWithAncestors",value:function(t,n,r,i){var o=!0,a=!1,u=void 0;try{for(var c,s=GV(r)[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=i.getWithExplicit(l);void 0!==f.value&&(f.explicit||f.value===r[l]||"derived"===f.value||"flatten"===r[l]?delete r[l]:CK(kK.differentParse(l,r[l],f.value)))}}catch(E){a=!0,u=E}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var h=!0,d=!1,p=void 0;try{for(var v,y=GV(n)[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var g=v.value,m=i.get(g);void 0!==m&&(m===n[g]?delete n[g]:CK(kK.differentParse(g,n[g],m)))}}catch(E){d=!0,p=E}finally{try{h||null==y.return||y.return()}finally{if(d)throw p}}var b=new h7(n,r);i.copyAll(b);var w={},x=!0,_=!1,O=void 0;try{for(var k,S=GV(b.combine())[Symbol.iterator]();!(x=(k=S.next()).done);x=!0){var j=k.value,A=b.get(j);null!==A&&(w[j]=A)}}catch(E){_=!0,O=E}finally{try{x||null==S.return||S.return()}finally{if(_)throw O}}return 0===GV(w).length||i.parseNothing?null:new e(t,w)}}]),e}(h4);function Bnt(t){return Bnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bnt(t)}function Unt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $nt(t,e,n){return e&&qnt(t.prototype,e),n&&qnt(t,n),t}function Wnt(t,e){return!e||"object"!==Bnt(e)&&"function"!==typeof e?Hnt(t):e}function Hnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gnt(t){return Gnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gnt(t)}function Xnt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vnt(t,e)}function Vnt(t,e){return Vnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vnt(t,e)}var Ynt=function(t){function e(t,n){var r;return Unt(this,e),r=Wnt(this,Gnt(e).call(this,t)),r.transform=n,r}return Xnt(e,t),$nt(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=UV(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t=new Set;return this.transform.groupby&&this.transform.groupby.forEach((function(e){return t.add(e)})),this.transform.joinaggregate.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach((function(e){return t.add(e)})),t}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){return t.as||z0(t)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=[],e=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,u=this.transform.joinaggregate[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;e.push(c.op),n.push(this.getDefaultName(c)),t.push(void 0===c.field?null:c.field)}}catch(l){i=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var s=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:e,fields:t},void 0!==s?{groupby:s}:{})}}]),e}(h4);function Jnt(t){return Jnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jnt(t)}function Znt(t){return trt(t)||Qnt(t)||Knt()}function Knt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Qnt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function trt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function ert(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rrt(t,e,n){return e&&nrt(t.prototype,e),n&&nrt(t,n),t}function irt(t,e){return!e||"object"!==Jnt(e)&&"function"!==typeof e?ort(t):e}function ort(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function art(t){return art=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},art(t)}function urt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&crt(t,e)}function crt(t,e){return crt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},crt(t,e)}function srt(t){return t.stack.stackBy.reduce((function(t,e){var n=e.fieldDef,r=z0(n);return r&&t.push(r),t}),[])}function lrt(t){return Object(xe["A"])(t)&&t.every((function(t){return Object(xe["H"])(t)}))&&t.length>1}var frt=function(t){function e(t,n){var r;return ert(this,e),r=irt(this,art(e).call(this,t)),r._stack=n,r}return urt(e,t),rrt(e,[{key:"clone",value:function(){return new e(null,MV(this._stack))}},{key:"addDimensions",value:function(t){var e;(e=this._stack.facetby).push.apply(e,Znt(t))}},{key:"dependentFields",value:function(){var t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach((function(e){return t.add(e)})),this._stack.facetby.forEach((function(e){return t.add(e)})),this._stack.sort.field.forEach((function(e){return t.add(e)})),t}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(NV(this._stack))}},{key:"getGroupbyFields",value:function(){var t=this._stack,e=t.dimensionFieldDef,n=t.impute,r=t.groupby;return e?e.bin?n?[z0(e,{binSuffix:"mid"})]:[z0(e,{}),z0(e,{binSuffix:"end"})]:[z0(e)]:r||[]}},{key:"assemble",value:function(){var t=[],e=this._stack,n=e.facetby,r=e.dimensionFieldDef,i=e.stackField,o=e.stackby,a=e.sort,u=e.offset,c=e.impute,s=e.as;if(c&&r){var l=r.band,f=void 0===l?.5:l,h=r.bin;h&&t.push({type:"formula",expr:"".concat(f,"*")+z0(r,{expr:"datum"})+"+".concat(1-f,"*")+z0(r,{expr:"datum",binSuffix:"end"}),as:z0(r,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:i,groupby:[].concat(Znt(o),Znt(n)),key:z0(r,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[].concat(Znt(this.getGroupbyFields()),Znt(n)),field:i,sort:a,as:s,offset:u}),t}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(t,n){var r=n.stack,i=n.groupby,o=n.as,a=n.offset,u=void 0===a?"zero":a,c=[],s=[];if(void 0!==n.sort){var l=!0,f=!1,h=void 0;try{for(var d,p=n.sort[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;c.push(v.field),s.push(iY(v.order,"ascending"))}}catch(m){f=!0,h=m}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}var y,g={field:c,order:s};return y=lrt(o)?o:Object(xe["H"])(o)?[o,o+"_end"]:[n.stack+"_start",n.stack+"_end"],new e(t,{stackField:r,groupby:i,offset:u,sort:g,facetby:[],as:y})}},{key:"makeFromEncoding",value:function(t,n){var r,i=n.stack,o=n.encoding;if(!i)return null;if(i.groupbyChannel){var a=o[i.groupbyChannel];r=e1(a)}var u,c=srt(n),s=n.encoding.order;return u=Object(xe["A"])(s)||M0(s)?u0(s):c.reduce((function(t,e){return t.field.push(e),t.order.push("descending"),t}),{field:[],order:[]}),new e(t,{dimensionFieldDef:r,stackField:n.vgField(i.fieldChannel),facetby:[],stackby:c,sort:u,offset:i.offset,impute:i.impute,as:[n.vgField(i.fieldChannel,{suffix:"start",forAs:!0}),n.vgField(i.fieldChannel,{suffix:"end",forAs:!0})]})}}]),e}(h4);function hrt(t){return hrt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hrt(t)}function drt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function prt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vrt(t,e,n){return e&&prt(t.prototype,e),n&&prt(t,n),t}function yrt(t,e){return!e||"object"!==hrt(e)&&"function"!==typeof e?grt(t):e}function grt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mrt(t){return mrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mrt(t)}function brt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wrt(t,e)}function wrt(t,e){return wrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wrt(t,e)}var xrt=function(t){function e(t,n){var r;return drt(this,e),r=yrt(this,mrt(e).call(this,t)),r.transform=n,r}return brt(e,t),vrt(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=UV(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t=new Set;return(this.transform.groupby||[]).forEach((function(e){return t.add(e)})),(this.transform.sort||[]).forEach((function(e){return t.add(e.field)})),this.transform.window.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach((function(e){return t.add(e)})),t}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){return t.as||z0(t)}},{key:"hash",value:function(){return"WindowTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=[],e=[],n=[],r=[],i=!0,o=!1,a=void 0;try{for(var u,c=this.transform.window[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;e.push(s.op),n.push(this.getDefaultName(s)),r.push(void 0===s.param?null:s.param),t.push(void 0===s.field?null:s.field)}}catch(_){o=!0,a=_}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}var l=this.transform.frame,f=this.transform.groupby;if(l&&null===l[0]&&null===l[1]&&e.every((function(t){return VY(t)})))return Object.assign({type:"joinaggregate",as:n,ops:e,fields:t},void 0!==f?{groupby:f}:{});var h=[],d=[];if(void 0!==this.transform.sort){var p=!0,v=!1,y=void 0;try{for(var g,m=this.transform.sort[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=g.value;h.push(b.field),d.push(b.order||"ascending")}}catch(_){v=!0,y=_}finally{try{p||null==m.return||m.return()}finally{if(v)throw y}}}var w={field:h,order:d},x=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:r,as:n,ops:e,fields:t,sort:w},void 0!==x?{ignorePeers:x}:{}),void 0!==f?{groupby:f}:{}),void 0!==l?{frame:l}:{})}}]),e}(h4);function _rt(t){return _rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_rt(t)}function Ort(t){return jrt(t)||Srt(t)||krt()}function krt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Srt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function jrt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Art(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ert(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Crt(t,e,n){return e&&Ert(t.prototype,e),n&&Ert(t,n),t}function Mrt(t,e){return!e||"object"!==_rt(e)&&"function"!==typeof e?Drt(t):e}function Drt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Frt(t){return Frt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Frt(t)}function Trt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nrt(t,e)}function Nrt(t,e){return Nrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nrt(t,e)}var Prt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){var e=t.parent;if(t instanceof znt){if(Iet(e))return this.flags;if(e.numChildren()>1)return this.setContinue(),this.flags;if(e instanceof znt)this.setMutated(),e.merge(t);else{if(HV(e.producedFields(),t.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),t.swapWithParent()}}return this.setContinue(),this.flags}}]),e}(zet),Rrt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"mergeNodes",value:function(t,e){var n=e.shift(),r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;t.removeChild(c),c.parent=n,c.remove()}}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}},{key:"run",value:function(t){for(var e=t.children.map((function(t){return t.hash()})),n={},r=0;r<e.length;r++)void 0===n[e[r]]?n[e[r]]=[t.children[r]]:n[e[r]].push(t.children[r]);var i=!0,o=!1,a=void 0;try{for(var u,c=GV(n)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;n[s].length>1&&(this.setMutated(),this.mergeNodes(t,n[s]))}}catch(y){o=!0,a=y}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}var l=!0,f=!1,h=void 0;try{for(var d,p=t.children[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;this.run(v)}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}return this.mutatedFlag}}]),e}(Bet),Irt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){return t instanceof d4||t.numChildren()>0||t instanceof gnt?this.flags:(this.setMutated(),t.remove(),this.flags)}}]),e}(zet),Lrt=function(t){function e(){var t;return Art(this,e),t=Mrt(this,Frt(e).apply(this,arguments)),t.fields=new Set,t}return Trt(e,t),Crt(e,[{key:"run",value:function(t){if(this.setContinue(),t instanceof k4){var e=t.producedFields();$V(e,this.fields)?(this.setMutated(),t.remove()):this.fields=new Set([].concat(Ort(this.fields),Ort(e)))}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),e}(zet),zrt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){this.setContinue();var e=t.parent,n=e.children.filter((function(t){return t instanceof k4})),r=n.pop(),i=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;this.setMutated(),r.merge(s)}}catch(l){o=!0,a=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return this.flags}}]),e}(zet);function Brt(t){function e(n){if(!(n instanceof gnt)){var r=n.clone();if(r instanceof d4){var i=Vrt+r.getSource();r.setSource(i),t.model.component.data.outputNodes[i]=r}else(r instanceof rnt||r instanceof frt||r instanceof xrt||r instanceof Ynt)&&r.addDimensions(t.fields);return n.children.flatMap(e).forEach((function(t){return t.parent=r})),[r]}return n.children.flatMap(e)}return e}function Urt(t){if(t instanceof gnt)if(1!==t.numChildren()||t.children[0]instanceof d4){var e=t.model.component.data.main;qrt(e);var n=Brt(t),r=t.children.map(n).flat(),i=!0,o=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;s.parent=e}}catch(f){o=!0,a=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}else{var l=t.children[0];(l instanceof rnt||l instanceof frt||l instanceof xrt||l instanceof Ynt)&&l.addDimensions(t.fields),l.swapWithParent(),Urt(t)}else t.children.map(Urt)}function qrt(t){if(t instanceof d4&&t.type===v5&&1===t.numChildren()){var e=t.children[0];e instanceof gnt||(e.swapWithParent(),qrt(t))}}var $rt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){t instanceof d4&&!t.isRequired()&&(this.setMutated(),t.remove());var e=!0,n=!1,r=void 0;try{for(var i,o=t.children[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this.run(a)}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return this.mutatedFlag}}]),e}(Bet),Wrt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){var e=t.parent,n=Ort(e.children),r=e.children.filter((function(t){return t instanceof znt}));if(e.numChildren()>1&&r.length>=1){var i={},o=new Set,a=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,h=f.parse,d=!0,p=!1,v=void 0;try{for(var y,g=GV(h)[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;m in i?i[m]!==h[m]&&o.add(m):i[m]=h[m]}}catch(L){p=!0,v=L}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}}}catch(L){u=!0,c=L}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}var b=!0,w=!1,x=void 0;try{for(var _,O=o[Symbol.iterator]();!(b=(_=O.next()).done);b=!0){var k=_.value;delete i[k]}}catch(L){w=!0,x=L}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}if(0!==GV(i).length){this.setMutated();var S=new znt(e,i),j=!0,A=!1,E=void 0;try{for(var C,M=n[Symbol.iterator]();!(j=(C=M.next()).done);j=!0){var D=C.value;if(D instanceof znt){var F=!0,T=!1,N=void 0;try{for(var P,R=GV(i)[Symbol.iterator]();!(F=(P=R.next()).done);F=!0){var I=P.value;delete D.parse[I]}}catch(L){T=!0,N=L}finally{try{F||null==R.return||R.return()}finally{if(T)throw N}}}e.removeChild(D),D.parent=S,D instanceof znt&&0===GV(D.parse).length&&D.remove()}}catch(L){A=!0,E=L}finally{try{j||null==M.return||M.return()}finally{if(A)throw E}}}}return this.setContinue(),this.flags}}]),e}(zet),Hrt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){var e=t.parent,n=e.children.filter((function(t){return t instanceof rnt})),r={},i=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=NV(s.groupBy);l in r||(r[l]=[]),r[l].push(s)}}catch(S){o=!0,a=S}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}var f=!0,h=!1,d=void 0;try{for(var p,v=GV(r)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,g=r[y];if(g.length>1){var m=g.pop(),b=!0,w=!1,x=void 0;try{for(var _,O=g[Symbol.iterator]();!(b=(_=O.next()).done);b=!0){var k=_.value;m.merge(k)&&(e.removeChild(k),k.parent=m,k.remove(),this.setMutated())}}catch(S){w=!0,x=S}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}}}}catch(S){h=!0,d=S}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}return this.setContinue(),this.flags}}]),e}(zet),Grt=function(t){function e(t){var n;return Art(this,e),n=Mrt(this,Frt(e).call(this)),n.model=t,n}return Trt(e,t),Crt(e,[{key:"run",value:function(t){var e=t.parent,n=!(Iet(e)||e instanceof Ant||e instanceof znt),r=[],i=[],o=!0,a=!1,u=void 0;try{for(var c,s=e.children[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;l instanceof Vtt&&(n&&!HV(e.producedFields(),l.dependentFields())?r.push(l):i.push(l))}}catch(S){a=!0,u=S}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}if(r.length>0){var f=r.pop(),h=!0,d=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var g=v.value;f.merge(g,this.model.renameSignal.bind(this.model))}}catch(S){d=!0,p=S}finally{try{h||null==y.return||y.return()}finally{if(d)throw p}}this.setMutated(),e instanceof Vtt?e.merge(f,this.model.renameSignal.bind(this.model)):f.swapWithParent()}if(i.length>1){var m=i.pop(),b=!0,w=!1,x=void 0;try{for(var _,O=i[Symbol.iterator]();!(b=(_=O.next()).done);b=!0){var k=_.value;m.merge(k,this.model.renameSignal.bind(this.model))}}catch(S){w=!0,x=S}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}this.setMutated()}return this.setContinue(),this.flags}}]),e}(zet),Xrt=function(t){function e(){return Art(this,e),Mrt(this,Frt(e).apply(this,arguments))}return Trt(e,t),Crt(e,[{key:"run",value:function(t){var e=t.parent,n=Ort(e.children),r=IV(n,(function(t){return t instanceof d4}));if(!r||e.numChildren()<=1)return this.setContinue(),this.flags;var i,o=[],a=!0,u=!1,c=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;if(f instanceof d4){var h=f;while(1===h.numChildren()){var d=h.children[0];if(!(d instanceof d4))break;h=d}o.push.apply(o,Ort(h.children)),i?(e.removeChild(f),f.parent=i.parent,i.parent.removeChild(i),i.parent=h,this.setMutated()):i=h}else o.push(f)}}catch(w){u=!0,c=w}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}if(o.length){this.setMutated();var p=!0,v=!1,y=void 0;try{for(var g,m=o[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=g.value;b.parent.removeChild(b),b.parent=i}}catch(w){v=!0,y=w}finally{try{p||null==m.return||m.return()}finally{if(v)throw y}}}return this.setContinue(),this.flags}}]),e}(zet),Vrt="scale_",Yrt=5;function Jrt(t){var e=[];function n(t){0===t.numChildren()?e.push(t):t.children.forEach(n)}return t.forEach(n),e}function Zrt(t){return t}function Krt(t,e){var n=e.map((function(e){if(t instanceof zet){var n=t.optimizeNextFromLeaves(e);return t.reset(),n}return t.run(e)}));return n.some(Zrt)}function Qrt(t,e){var n=t.sources,r=new Set;return r.add(Krt(new $rt,n)),n=n.filter((function(t){return t.numChildren()>0})),r.add(Krt(new Irt,Jrt(n))),n=n.filter((function(t){return t.numChildren()>0})),r.add(Krt(new Prt,Jrt(n))),r.add(Krt(new Grt(e),Jrt(n))),r.add(Krt(new Lrt,Jrt(n))),r.add(Krt(new Wrt,Jrt(n))),r.add(Krt(new Hrt,Jrt(n))),r.add(Krt(new zrt,Jrt(n))),r.add(Krt(new Rrt,n)),r.add(Krt(new Xrt,Jrt(n))),t.sources=n,r.has(!0)}function tit(t,e){oet(t.sources);for(var n=0,r=0,i=0;i<Yrt;i++){if(!Qrt(t,e))break;n++}t.sources.map(Urt);for(var o=0;o<Yrt;o++){if(!Qrt(t,e))break;r++}oet(t.sources),Math.max(n,r)===Yrt&&CK("Maximum optimization runs(".concat(Yrt,") reached."))}function eit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rit(t,e,n){return e&&nit(t.prototype,e),n&&nit(t,n),t}var iit=function(){function t(e){eit(this,t),Object.defineProperty(this,"signal",{enumerable:!0,get:e})}return rit(t,null,[{key:"fromName",value:function(e,n){return new t((function(){return e(n)}))}}]),t}();function oit(t){return cit(t)||uit(t)||ait()}function ait(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function uit(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function cit(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function sit(t){Sot(t)?lit(t):fit(t)}function lit(t){var e=t.specifiedScales,n=t.component.scales;GV(n).forEach((function(r){var i=e[r],o=i?i.domain:void 0,a=dit(t,r),u=n[r];if(u.setWithExplicit("domains",a),iQ(o)&&u.set("domainRaw",{signal:D8+NV(o)},!0),t.component.data.isFaceted){var c=t;while(!jot(c)&&c.parent)c=c.parent;var s=c.component.resolve.scale[r];if("shared"===s){var l=!0,f=!1,h=void 0;try{for(var d,p=a.value[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;t6(v)&&(v.data=Vrt+v.data.replace(Vrt,""))}}catch(y){f=!0,h=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw h}}}}}))}function fit(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t.children[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;sit(a)}}catch(c){n=!0,r=c}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}var u=t.component.scales;GV(u).forEach((function(e){var n,r=null,i=!0,o=!1,a=void 0;try{for(var s,l=t.children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value,h=f.component.scales[e];if(h){n=void 0===n?h.getWithExplicit("domains"):g7(n,h.getWithExplicit("domains"),"domains","scale",bit);var d=h.get("domainRaw");r&&d&&r.signal!==d.signal&&CK("The same selection must be used to override scale domains in a layered view."),r=d}}}catch(c){o=!0,a=c}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}u[e].setWithExplicit("domains",n),r&&u[e].set("domainRaw",r,!0)}))}function hit(t,e,n,r){if("unaggregated"===t){var i=mit(e,n),o=i.valid,a=i.reason;if(!o)return void CK(a)}else if(void 0===t&&r.useUnaggregatedDomain){var u=mit(e,n),c=u.valid;if(c)return"unaggregated"}return t}function dit(t,e){var n=t.getScaleComponent(e).get("type"),r=hit(t.scaleDomain(e),t.fieldDef(e),n,t.config.scale);return r!==t.scaleDomain(e)&&(t.specifiedScales[e]=Object.assign(Object.assign({},t.specifiedScales[e]),{domain:r})),"x"===e&&t.channelHasField("x2")?t.channelHasField("x")?g7(vit(n,r,t,"x"),vit(n,r,t,"x2"),"domain","scale",bit):vit(n,r,t,"x2"):"y"===e&&t.channelHasField("y2")?t.channelHasField("y")?g7(vit(n,r,t,"y"),vit(n,r,t,"y2"),"domain","scale",bit):vit(n,r,t,"y2"):vit(n,r,t,e)}function pit(t,e,n){return t.map((function(t){var r=s1(t,{timeUnit:n,type:e});return{signal:"{data: ".concat(r,"}")}}))}function vit(t,e,n,r){var i=n.fieldDef(r);if(e&&"unaggregated"!==e&&!iQ(e)){var o=i.type,a=i.timeUnit;return d7("temporal"===o||a?pit(e,o,a):[e])}var u=n.stack;if(u&&r===u.fieldChannel){if("normalize"===u.offset)return p7([[0,1]]);var c=n.requestDataName(v5);return p7([{data:c,field:n.vgField(r,{suffix:"start"})},{data:c,field:n.vgField(r,{suffix:"end"})}])}var s=oZ(r)?git(n,r,t):void 0;if("unaggregated"===e){var l=n.requestDataName(v5),f=i.field;return p7([{data:l,field:z0({field:f,aggregate:"min"})},{data:l,field:z0({field:f,aggregate:"max"})}])}if(d1(i.bin)){if(KK(t))return p7("bin-ordinal"===t?[]:[{data:VV(s)?n.requestDataName(v5):n.requestDataName(y5),field:n.vgField(r,f1(i,r)?{binSuffix:"range"}:{}),sort:!0!==s&&Object(xe["F"])(s)?s:{field:n.vgField(r,{}),op:"min"}}]);var h=i.bin;if(d1(h)){var d=Htt(n,i.field,h);return p7([new iit((function(){var t=n.getSignalName(d);return"[".concat(t,".start, ").concat(t,".stop]")}))])}return p7([{data:n.requestDataName(v5),field:n.vgField(r,{})}])}if(i.timeUnit&&RV(["time","utc"],t)&&j0(r,i,Sot(n)?n.encoding[GJ(r)]:void 0,n.markDef,n.config)){var p=n.requestDataName(v5);return p7([{data:p,field:n.vgField(r)},{data:p,field:n.vgField(r,{suffix:"end"})}])}return p7(s?[{data:VV(s)?n.requestDataName(v5):n.requestDataName(y5),field:n.vgField(r),sort:s}]:[{data:n.requestDataName(v5),field:n.vgField(r)}])}function yit(t,e){var n=t.op,r=t.field,i=t.order;return Object.assign(Object.assign({op:n||(e?"sum":f0)},r?{field:eY(r)}:{}),i?{order:i}:{})}function git(t,e,n){if(KK(n)){var r=t.fieldDef(e),i=r.sort;if(y0(i))return{op:"min",field:N9(r,e),order:"ascending"};var o=null!==t.stack;if(v0(i))return yit(i,o);if(p0(i)){var a=i.encoding,u=i.order,c=t.fieldDef(a),s=c.aggregate,l=c.field;if(GY(s)||XY(s))return yit({field:z0(c),order:u},o);if(VY(s)||!s)return yit({op:s,field:l,order:u},o)}else{if("descending"===i)return{op:"min",field:t.vgField(e),order:"descending"};if(RV(["ascending",void 0],i))return!0}}}function mit(t,e){var n=t.aggregate,r=t.type;return n?Object(xe["H"])(n)&&!tJ[n]?{valid:!1,reason:kK.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===e?{valid:!1,reason:kK.unaggregatedDomainWithLogScale(t)}:{valid:!0}:{valid:!1,reason:kK.unaggregateDomainHasNoEffectForRawField(t)}}function bit(t,e,n,r){return t.explicit&&e.explicit&&CK(kK.mergeConflictingDomainProperty(n,r,t.value,e.value)),{explicit:t.explicit,value:[].concat(oit(t.value),oit(e.value))}}function wit(t){var e=UV(t.map((function(t){if(t6(t)){t.sort;var e=x(t,["sort"]);return e}return t})),NV),n=UV(t.map((function(t){if(t6(t)){var e=t.sort;return void 0===e||VV(e)||("count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}})).filter((function(t){return void 0!==t})),NV);if(0!==e.length){if(1===e.length){var r=t[0];if(t6(r)&&n.length>0){var i=n[0];return n.length>1&&(CK(kK.MORE_THAN_ONE_SORT),i=!0),Object.assign(Object.assign({},r),{sort:i})}return r}var o,a=UV(n.map((function(t){return VV(t)||t.op in HY?t:(CK(kK.domainSortDropped(t)),!0)})),NV);1===a.length?o=a[0]:a.length>1&&(CK(kK.MORE_THAN_ONE_SORT),o=!0);var u=UV(t.map((function(t){return t6(t)?t.data:null})),(function(t){return t}));if(1===u.length&&null!==u[0]){var c=Object.assign({data:u[0],fields:e.map((function(t){return t.field}))},o?{sort:o}:{});return c}return Object.assign({fields:e},o?{sort:o}:{})}}function xit(t){if(t6(t)&&Object(xe["H"])(t.field))return t.field;if(K5(t)){var e,n=!0,r=!1,i=void 0;try{for(var o,a=t.fields[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(t6(u)&&Object(xe["H"])(u.field))if(e){if(e!==u.field)return CK("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),e}else e=u.field}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return CK("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),e}if(Q5(t)){CK("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");var c=t.fields[0];return Object(xe["H"])(c)?c:void 0}}function _it(t,e){var n=t.component.scales[e],r=n.get("domains").map((function(e){return t6(e)&&(e.data=t.lookupDataSource(e.data)),e}));return wit(r)}function Oit(t){return Cot(t)||Eot(t)||Aot(t)?t.children.reduce((function(t,e){return t.concat(Oit(e))}),kit(t)):kit(t)}function kit(t){return GV(t.component.scales).reduce((function(e,n){var r=t.component.scales[n];if(r.merged)return e;var i=r.combine(),o=i.domainRaw,a=i.name,u=i.type,c=(i.domains,i.domainRaw,i.range,x(i,["name","type","domains","domainRaw","range"])),s=Sit(i.range,a,n);o&&L8(o)&&(o=f8(t,o));var l=_it(t,n);return e.push(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:u},l?{domain:l}:{}),o?{domainRaw:o}:{}),{range:s}),c)),e}),[])}function Sit(t,e,n){return"x"!==n&&"y"!==n||!Z5(t)?t:{step:{signal:e+"_step"}}}function jit(t){return jit="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jit(t)}function Ait(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cit(t,e,n){return e&&Eit(t.prototype,e),n&&Eit(t,n),t}function Mit(t,e){return!e||"object"!==jit(e)&&"function"!==typeof e?Dit(t):e}function Dit(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fit(t){return Fit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fit(t)}function Tit(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nit(t,e)}function Nit(t,e){return Nit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nit(t,e)}var Pit=function(t){function e(t,n){var r;return Ait(this,e),r=Mit(this,Fit(e).call(this,{},{name:t})),r.merged=!1,r.setWithExplicit("type",n),r}return Tit(e,t),Cit(e,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||IV(this.get("domains"),(function(t){return Object(xe["A"])(t)&&2===t.length&&t[0]<=0&&t[1]>=0}))}}]),e}(h7),Rit=["range","scheme"];function Iit(t){return"x"===t?"width":"y"===t?"height":void 0}function Lit(t){var e=t.component.scales;iZ.forEach((function(n){var r=e[n];if(r){var i=Bit(n,t);r.setWithExplicit("range",i)}}))}function zit(t,e){var n=t.fieldDef(e);if(n&&n.bin&&d1(n.bin)){var r=Htt(t,n.field,n.bin),i=Iit(e),o=t.getName(i);return new iit((function(){var e=t.getSignalName(r),n="(".concat(e,".stop - ").concat(e,".start) / ").concat(e,".step");return"".concat(t.getSignalName(o)," / (").concat(n,")")}))}}function Bit(t,e){var n=e.specifiedScales[t],r=e.size,i=e.getScaleComponent(t),o=i.get("type"),a=!0,u=!1,c=void 0;try{for(var s,l=Rit[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;if(void 0!==n[f]){var h=cQ(o,f),d=sQ(t,f);if(h)if(d)CK(d);else switch(f){case"range":return d7(n[f]);case"scheme":return d7(Uit(n[f]))}else CK(kK.scalePropertyNotWorkWithScaleType(o,f,t))}}}catch(y){u=!0,c=y}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}if(t===iJ||t===oJ){var p=t===iJ?"width":"height",v=r[p];if(L2(v)){if(KK(o))return d7({step:v.step});CK(kK.stepDropped(p))}}return p7(qit(t,e))}function Uit(t){return rQ(t)?Object.assign({scheme:t.name},FV(t,["name"])):{scheme:t}}function qit(t,e){var n=e.size,r=e.config,i=e.mark,o=e.getSignalName.bind(e),a=e.fieldDef(t),u=a.type,c=e.getScaleComponent(t),s=c.get("type"),l=e.specifiedScales[t].domain;switch(t){case iJ:case oJ:if(RV(["point","band"],s))if(t!==iJ||n.width){if(t===oJ&&!n.height){var f=J2(r.view,"height");if(L2(f))return f}}else{var h=J2(r.view,"width");if(L2(h))return h}var d=Iit(t),p=e.getName(d);return t===oJ&&QK(s)?[iit.fromName(o,p),0]:[0,iit.fromName(o,p)];case yJ:var v=e.component.scales[t].get("zero"),y=Hit(i,v,r),g=Xit(i,n,e,r);return eQ(s)?Wit(y,g,$it(s,r,l,t)):[y,g];case wJ:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case vJ:return"symbol";case hJ:case dJ:case pJ:return"ordinal"===s?"nominal"===u?"category":"ordinal":"rect"===i||"geoshape"===i?"heatmap":"ramp";case gJ:case mJ:case bJ:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(t))}function $it(t,e,n,r){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return void 0!==n&&Object(xe["A"])(n)?n.length+1:(CK(kK.domainRequiredForThresholdScale(r)),3)}}function Wit(t,e,n){var r=function(){var r=J5(e)?e.signal:e,i="(".concat(r," - ").concat(t,") / (").concat(n," - 1)");return"sequence(".concat(t,", ").concat(e," + ").concat(i,", ").concat(i,")")};return J5(e)?new iit(r):{signal:r()}}function Hit(t,e,n){if(e)return 0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(kK.incompatibleChannel("size",t))}var Git=.95;function Xit(t,e,n,r){var i={x:zit(n,"x"),y:zit(n,"y")};switch(t){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var o=Vit(e,i,r.view);return Object(xe["E"])(o)?o-1:new iit((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var a=Vit(e,i,r.view);return Object(xe["E"])(a)?Math.pow(Git*a,2):new iit((function(){return"pow(".concat(Git," * ").concat(a.signal,", 2)")}))}throw new Error(kK.incompatibleChannel("size",t))}function Vit(t,e,n){var r=L2(t.width)?t.width.step:Y2(n,"width"),i=L2(t.height)?t.height.step:Y2(n,"height");return e.x||e.y?new iit((function(){var t=[e.x?e.x.signal:r,e.y?e.y.signal:i];return"min(".concat(t.join(", "),")")})):Math.min(r,i)}function Yit(t,e){Sot(t)?Jit(t,e):Qit(t,e)}function Jit(t,e){var n=t.component.scales;GV(n).forEach((function(r){var i=t.specifiedScales[r],o=n[r],a=t.getScaleComponent(r),u=t.fieldDef(r),c=t.config,s=i[e],l=a.get("type"),f=cQ(l,e),h=sQ(r,e);if(void 0!==s&&(f?h&&CK(h):CK(kK.scalePropertyNotWorkWithScaleType(l,e,r))),f&&void 0===h)if(void 0!==s)o.copyKeyFromObject(e,i);else{var d=Zit(e,t,r,u,a.get("type"),a.get("padding"),a.get("paddingInner"),i.domain,t.markDef,c);void 0!==d&&o.set(e,d,!1)}}))}function Zit(t,e,n,r,i,o,a,u,c,s){var l=s.scale,f=r.type,h=r.sort;switch(t){case"bins":return tot(e,r);case"interpolate":return eot(n,f);case"nice":return not(i,n,r);case"padding":return rot(n,i,l,r,c,s.bar);case"paddingInner":return iot(o,n,c.type,l);case"paddingOuter":return oot(o,n,i,c.type,a,l);case"reverse":return aot(i,h);case"zero":return uot(n,r,u,c,i)}return l[t]}function Kit(t){Sot(t)?Lit(t):Qit(t,"range")}function Qit(t,e){var n=t.component.scales,r=!0,i=!1,o=void 0;try{for(var a,u=t.children[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;"range"===e?Kit(c):Yit(c,e)}}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}GV(n).forEach((function(r){var i,o=!0,a=!1,u=void 0;try{for(var c,l=t.children[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value,h=f.component.scales[r];if(h){var d=h.getWithExplicit(e);i=g7(i,d,e,"scale",v7((function(t,n){switch(e){case"range":return t.step&&n.step?t.step-n.step:0}return 0})))}}}catch(s){a=!0,u=s}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}n[r].setWithExplicit(e,i)}))}function tot(t,e){var n=e.bin;if(d1(n)){var r=Htt(t,e.field,n);return new iit((function(){return t.getSignalName(r)}))}if(p1(n)&&v1(n)&&void 0!==n.step)return{step:n.step}}function eot(t,e){if(RV([hJ,dJ,pJ],t)&&"nominal"!==e)return"hcl"}function not(t,e,n){if(!n.bin&&!RV([FK.TIME,FK.UTC],t))return!!RV([iJ,oJ],e)||void 0}function rot(t,e,n,r,i,o){if(RV([iJ,oJ],t)){if(tQ(e)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,u=i.orient;if("bar"===a&&!r.bin&&!r.timeUnit&&("vertical"===u&&"x"===t||"horizontal"===u&&"y"===t))return o.continuousBandSize}if(e===FK.POINT)return n.pointPadding}}function iot(t,e,n,r){if(void 0===t&&RV([iJ,oJ],e)){var i=r.bandPaddingInner,o=r.barBandPaddingInner,a=r.rectBandPaddingInner;return iY(i,"bar"===n?o:a)}}function oot(t,e,n,r,i,o){if(void 0===t&&RV([iJ,oJ],e)&&n===FK.BAND){var a=o.bandPaddingOuter;return iY(a,i/2)}}function aot(t,e){if(QK(t)&&"descending"===e)return!0}function uot(t,e,n,r,i){var o=!!n&&"unaggregated"!==n;if(o&&QK(i)){if(Object(xe["A"])(n)){var a=n[0],u=n[n.length-1];if(a<=0&&u>=0)return!0}return!1}if("size"===t&&"quantitative"===e.type&&!eQ(i))return!0;if(!e.bin&&RV([iJ,oJ],t)){var c=r.orient,s=r.type;return!RV(["bar","area","line","trail"],s)||!("horizontal"===c&&"y"===t||"vertical"===c&&"x"===t)}return!1}function cot(t,e,n,r){var i=sot(e,n,r),o=t.type;return oZ(e)?void 0!==o?fQ(e,o)?lQ(o,n.type)?o:(CK(kK.scaleTypeNotWorkWithFieldDef(o,i)),i):(CK(kK.scaleTypeNotWorkWithChannel(e,o,i)),i):i:null}function sot(t,e,n){switch(e.type){case"nominal":case"ordinal":return NJ(t)||"discrete"===lZ(t)?("shape"===t&&"ordinal"===e.type&&CK(kK.discreteChannelCannotEncode(t,"ordinal")),"ordinal"):RV(["x","y"],t)&&RV(["rect","bar","image","rule"],n)?"band":"point";case"temporal":return NJ(t)?"time":"discrete"===lZ(t)?(CK(kK.discreteChannelCannotEncode(t,"temporal")),"ordinal"):"time";case"quantitative":return NJ(t)?d1(e.bin)?"bin-ordinal":"linear":"discrete"===lZ(t)?(CK(kK.discreteChannelCannotEncode(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(kK.invalidFieldType(e.type))}function lot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ignoreRange;fot(t),sit(t);var r=!0,i=!1,o=void 0;try{for(var a,u=uQ[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;Yit(t,c)}}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}n||Kit(t)}function fot(t){Sot(t)?t.component.scales=hot(t):t.component.scales=pot(t)}function hot(t){var e=t.encoding,n=t.mark;return iZ.reduce((function(r,i){var o,a,u=e[i];if(M0(u)&&n===_Y&&i===vJ&&u.type===IK)return r;if(M0(u)?(o=u,a=u.scale):E0(u)&&(o=u.condition,a=u.condition["scale"]),o&&null!==a&&!1!==a){a=a||{};var c=cot(a,i,o,n);r[i]=new Pit(t.scaleName(i+"",!0),{value:c,explicit:a.type===c})}return r}),{})}var dot=v7((function(t,e){return $K(t)-$K(e)}));function pot(t){var e=t.component.scales={},n={},r=t.component.resolve,i=!0,o=!1,a=void 0;try{for(var u,c=function(){var e=u.value;fot(e),GV(e.component.scales).forEach((function(i){if(r.scale[i]=r.scale[i]||u7(i,t),"shared"===r.scale[i]){var o=n[i],a=e.component.scales[i].getWithExplicit("type");o?UK(o.value,a.value)?n[i]=g7(o,a,"type","scale",dot):(r.scale[i]="independent",delete n[i]):n[i]=a}}))},s=t.children[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c()}catch(l){o=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return GV(n).forEach((function(r){var i=t.scaleName(r,!0),o=n[r];e[r]=new Pit(i,o);var a=!0,u=!1,c=void 0;try{for(var s,f=t.children[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var h=s.value,d=h.component.scales[r];d&&(h.renameScale(d.get("name"),i),d.merged=!0)}}catch(l){u=!0,c=l}finally{try{a||null==f.return||f.return()}finally{if(u)throw c}}})),e}function vot(t){return vot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vot(t)}function yot(t,e){return!e||"object"!==vot(e)&&"function"!==typeof e?got(t):e}function got(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mot(t){return mot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mot(t)}function bot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wot(t,e)}function wot(t,e){return wot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wot(t,e)}function xot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oot(t,e,n){return e&&_ot(t.prototype,e),n&&_ot(t,n),t}var kot=function(){function t(){xot(this,t),this.nameMap={}}return Oot(t,[{key:"rename",value:function(t,e){this.nameMap[t]=e}},{key:"has",value:function(t){return void 0!==this.nameMap[t]}},{key:"get",value:function(t){while(this.nameMap[t]&&t!==this.nameMap[t])t=this.nameMap[t];return t}}]),t}();function Sot(t){return t&&"unit"===t.type}function jot(t){return t&&"facet"===t.type}function Aot(t){return t&&"repeat"===t.type}function Eot(t){return t&&"concat"===t.type}function Cot(t){return t&&"layer"===t.type}var Mot=function(){function t(e,n,r,i,o,a,u,c){var s=this;xot(this,t),this.type=n,this.parent=r,this.config=o,this.repeater=a,this.view=c,this.children=[],this.correctDataNames=function(t){return t.from&&t.from.data&&(t.from.data=s.lookupDataSource(t.from.data)),t.from&&t.from.facet&&t.from.facet.data&&(t.from.facet.data=s.lookupDataSource(t.from.facet.data)),t},this.parent=r,this.config=o,this.repeater=a,this.name=e.name||i,this.title=Object(xe["H"])(e.title)?{text:e.title}:e.title,this.scaleNameMap=r?r.scaleNameMap:new kot,this.projectionNameMap=r?r.projectionNameMap:new kot,this.signalNameMap=r?r.signalNameMap:new kot,this.data=e.data,this.description=e.description,this.transforms=Y5(e.transform||[]),this.layout=zY(e)||a3(e)?{}:q2(e,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:b0(e)||r&&r.component.data.isFaceted&&void 0===e.data},layoutSize:new h7,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},u?MV(u):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Oot(t,[{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){lot(this)}},{key:"parseProjection",value:function(){wtt(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){H7(this)}},{key:"assembleGroupStyle",value:function(){if("unit"===this.type||"layer"===this.type)return this.view&&this.view.style||"cell"}},{key:"assembleEncodeFromView",value:function(t){t.style;var e=x(t,["style"]),n={};for(var r in e)if(Object(xe["v"])(e,r)){var i=e[r];void 0!==i&&(n[r]={value:i})}return n}},{key:"assembleGroupEncodeEntry",value:function(t){var e=void 0;return this.view&&(e=this.assembleEncodeFromView(this.view)),t||"unit"!==this.type&&"layer"!==this.type?e:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},e||{})}},{key:"assembleLayout",value:function(){if(this.layout){var t=this.layout,e=t.spacing,n=x(t,["spacing"]),r=this.component,i=this.config,o=J9(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:e},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var t=this.component.layoutHeaders,e=[],n=!0,r=!1,i=void 0;try{for(var o,a=RJ[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t[u].title&&e.push(U9(this,u))}}catch(p){r=!0,i=p}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var c=!0,s=!1,l=void 0;try{for(var f,h=L9[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;e=e.concat(W9(this,d))}}catch(p){s=!0,l=p}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}return e}},{key:"assembleAxes",value:function(){return J8(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return ett(this)}},{key:"assembleProjections",value:function(){return ntt(this)}},{key:"assembleTitle",value:function(){var t=this.title||{},e=t.encoding,n=x(t,["encoding"]),r=Object.assign(Object.assign(Object.assign({},$2(this.config.title).nonMark),n),e?{encode:{update:e}}:{});if(r.text)return RV(["unit","layer"],this.type)?RV(["middle",void 0],r.anchor)&&(r.frame=r.frame||"group"):r.anchor=r.anchor||"start",GV(r).length>0?r:void 0}},{key:"assembleGroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};t=t.concat(this.assembleSignals()),t.length>0&&(e.signals=t);var n=this.assembleLayout();n&&(e.layout=n),e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||jot(this.parent)?Oit(this):[];r.length>0&&(e.scales=r);var i=this.assembleAxes();i.length>0&&(e.axes=i);var o=this.assembleLegends();return o.length>0&&(e.legends=o),e}},{key:"hasDescendantWithFieldOnChannel",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.children[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(Sot(a)){if(a.channelHasField(t))return!0}else if(a.hasDescendantWithFieldOnChannel(t))return!0}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!1}},{key:"getName",value:function(t){return YV((this.name?this.name+"_":"")+t)}},{key:"requestDataName",value:function(t){var e=this.getName(t),n=this.component.data.outputNodeRefCounts;return n[e]=(n[e]||0)+1,e}},{key:"getSizeSignalRef",value:function(t){if(jot(this.parent)){var e=KJ(t),n=this.component.scales[e];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(KK(r)&&Z5(i)){var o=n.get("name"),a=_it(this,e),u=xit(a);if(u){var c=z0({aggregate:"distinct",field:u},{expr:"datum"});return{signal:o7(o,n,c)}}return CK("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}},{key:"lookupDataSource",value:function(t){var e=this.component.data.outputNodes[t];return e?e.getSource():t}},{key:"getSignalName",value:function(t){return this.signalNameMap.get(t)}},{key:"renameSignal",value:function(t,e){this.signalNameMap.rename(t,e)}},{key:"renameScale",value:function(t,e){this.scaleNameMap.rename(t,e)}},{key:"renameProjection",value:function(t,e){this.projectionNameMap.rename(t,e)}},{key:"scaleName",value:function(t,e){return e?this.getName(t):qJ(t)&&oZ(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}},{key:"projectionName",value:function(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var e=this.component.scales[t];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(t):void 0}},{key:"getSelectionComponent",value:function(t,e){var n=this.component.selection[t];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(t,e)),!n)throw new Error(kK.selectionNotFound(e));return n}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),t}(),Dot=function(t){function e(){return xot(this,e),yot(this,mot(e).apply(this,arguments))}return bot(e,t),Oot(e,[{key:"vgField",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(t);if(n)return z0(n,e)}},{key:"reduceFieldDef",value:function(t,e,n){return k1(this.getMapping(),(function(e,n,r){var i=t1(n);return i?t(e,i,r):e}),e,n)}},{key:"forEachFieldDef",value:function(t,e){O1(this.getMapping(),(function(e,n){var r=t1(e);r&&t(r,n)}),e)}}]),e}(Mot);function Fot(t){return Fot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fot(t)}function Tot(t){return Rot(t)||Pot(t)||Not()}function Not(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pot(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Rot(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Iot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zot(t,e,n){return e&&Lot(t.prototype,e),n&&Lot(t,n),t}function Bot(t,e){return!e||"object"!==Fot(e)&&"function"!==typeof e?Uot(t):e}function Uot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qot(t){return qot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qot(t)}function $ot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wot(t,e)}function Wot(t,e){return Wot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wot(t,e)}var Hot=function(t){function e(t,n){var r;Iot(this,e),r=Bot(this,qot(e).call(this,t)),r.transform=n,r.transform=MV(n);var i=r.transform.as||[void 0,void 0];return r.transform.as=[i[0]||"value",i[1]||"density"],r}return $ot(e,t),zot(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set([this.transform.density].concat(Tot(this.transform.groupby||[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.density,n=x(t,["density"]),r=Object.assign({type:"kde",field:e},n);return r}}]),e}(h4);function Got(t){return Got="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Got(t)}function Xot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yot(t,e,n){return e&&Vot(t.prototype,e),n&&Vot(t,n),t}function Jot(t,e){return!e||"object"!==Got(e)&&"function"!==typeof e?Zot(t):e}function Zot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kot(t){return Kot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kot(t)}function Qot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tat(t,e)}function tat(t,e){return tat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tat(t,e)}var eat=function(t){function e(t,n){var r;return Xot(this,e),r=Jot(this,Kot(e).call(this,t)),r.filter=n,r}return Qot(e,t),Yot(e,[{key:"clone",value:function(){return new e(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(GV(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(NV(this.filter))}},{key:"assemble",value:function(){var t=this,e=GV(this.filter).reduce((function(e,n){var r=t.filter[n],i=z0(r,{expr:"datum"});return null!==r&&(e.push("".concat(i," !== null")),e.push("!isNaN(".concat(i,")"))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}],[{key:"make",value:function(t,n){var r=n.config,i=n.mark,o=n.markDef,a=KQ("invalid",o,r);if("filter"!==a)return null;var u=n.reduceFieldDef((function(t,e,r){var o=oZ(r)&&n.getScaleComponent(r);if(o){var a=o.get("type");!QK(a)||e.aggregate||kY(i)||(t[e.field]=e)}return t}),{});return GV(u).length?new e(t,u):null}}]),e}(h4);function nat(t){return nat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nat(t)}function rat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oat(t,e,n){return e&&iat(t.prototype,e),n&&iat(t,n),t}function aat(t,e){return!e||"object"!==nat(e)&&"function"!==typeof e?uat(t):e}function uat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cat(t){return cat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cat(t)}function sat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lat(t,e)}function lat(t,e){return lat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lat(t,e)}var fat=function(t){function e(t,n){var r;rat(this,e),r=aat(this,cat(e).call(this,t)),r.transform=n,r.transform=MV(n);var i=r.transform,o=i.flatten,a=i.as,u=void 0===a?[]:a;return r.transform.as=o.map((function(t,e){return u[e]||t})),r}return sat(e,t),oat(e,[{key:"clone",value:function(){return new e(this.parent,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.flatten,n=t.as,r={type:"flatten",fields:e,as:n};return r}}]),e}(h4);function hat(t){return hat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hat(t)}function dat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vat(t,e,n){return e&&pat(t.prototype,e),n&&pat(t,n),t}function yat(t,e){return!e||"object"!==hat(e)&&"function"!==typeof e?gat(t):e}function gat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mat(t){return mat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mat(t)}function bat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wat(t,e)}function wat(t,e){return wat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wat(t,e)}var xat=function(t){function e(t,n){var r;dat(this,e),r=yat(this,mat(e).call(this,t)),r.transform=n,r.transform=MV(n);var i=r.transform.as||[void 0,void 0];return r.transform.as=[i[0]||"key",i[1]||"value"],r}return bat(e,t),vat(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.fold,n=t.as,r={type:"fold",fields:e,as:n};return r}}]),e}(h4);function _at(t){return _at="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_at(t)}function Oat(t){return jat(t)||Sat(t)||kat()}function kat(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Sat(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function jat(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Aat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cat(t,e,n){return e&&Eat(t.prototype,e),n&&Eat(t,n),t}function Mat(t,e){return!e||"object"!==_at(e)&&"function"!==typeof e?Dat(t):e}function Dat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fat(t){return Fat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fat(t)}function Tat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nat(t,e)}function Nat(t,e){return Nat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nat(t,e)}var Pat=function(t){function e(t,n,r,i){var o;return Aat(this,e),o=Mat(this,Fat(e).call(this,t)),o.fields=n,o.geojson=r,o.signal=i,o}return Tat(e,t),Cat(e,[{key:"clone",value:function(){return new e(null,MV(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){return new Set([].concat(Oat(this.geojson?[this.geojson]:[]),Oat((this.fields||[]).filter(xe["H"]))))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(NV(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;var r=0;if([[sJ,cJ],[fJ,lJ]].forEach((function(i){var o=i.map((function(t){return n.channelHasField(t)?n.fieldDef(t).field:T0(n.encoding[t])?{expr:n.encoding[t].value+""}:void 0}));(o[0]||o[1])&&(t=new e(t,o,null,n.getName("geojson_".concat(r++))))})),n.channelHasField(vJ)){var i=n.fieldDef(vJ);i.type===IK&&(t=new e(t,null,i.field,n.getName("geojson_".concat(r++))))}return t}}]),e}(h4);function Rat(t){return Rat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rat(t)}function Iat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zat(t,e,n){return e&&Lat(t.prototype,e),n&&Lat(t,n),t}function Bat(t,e){return!e||"object"!==Rat(e)&&"function"!==typeof e?Uat(t):e}function Uat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qat(t){return qat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qat(t)}function $at(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wat(t,e)}function Wat(t,e){return Wat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wat(t,e)}var Hat=function(t){function e(t,n,r,i){var o;return Iat(this,e),o=Bat(this,qat(e).call(this,t)),o.projection=n,o.fields=r,o.as=i,o}return $at(e,t),zat(e,[{key:"clone",value:function(){return new e(null,this.projection,MV(this.fields),MV(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(xe["H"]))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(NV(this.fields)," ").concat(NV(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(t,n){return n.projectionName()?([[sJ,cJ],[fJ,lJ]].forEach((function(r){var i=r.map((function(t){return n.channelHasField(t)?n.fieldDef(t).field:T0(n.encoding[t])?{expr:n.encoding[t].value+""}:void 0})),o=r[0]===fJ?"2":"";(i[0]||i[1])&&(t=new e(t,n.projectionName(),i,[n.getName("x"+o),n.getName("y"+o)]))})),t):t}}]),e}(h4);function Gat(t){return Gat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gat(t)}function Xat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vat(t,e){return!e||"object"!==Gat(e)&&"function"!==typeof e?Yat(t):e}function Yat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jat(t){return Jat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jat(t)}function Zat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kat(t,e,n){return e&&Zat(t.prototype,e),n&&Zat(t,n),t}function Qat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tut(t,e)}function tut(t,e){return tut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tut(t,e)}var eut=function(t){function e(t){return Xat(this,e),Vat(this,Jat(e).call(this,t))}return Qat(e,t),Kat(e,[{key:"clone",value:function(){return new e(null)}}]),Kat(e,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([D2])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:D2}}}]),e}(h4);function nut(t){return nut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nut(t)}function rut(t){return aut(t)||out(t)||iut()}function iut(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function out(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function aut(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function uut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sut(t,e,n){return e&&cut(t.prototype,e),n&&cut(t,n),t}function lut(t,e){return!e||"object"!==nut(e)&&"function"!==typeof e?fut(t):e}function fut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hut(t){return hut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hut(t)}function dut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&put(t,e)}function put(t,e){return put=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},put(t,e)}var vut=function(t){function e(t,n){var r;return uut(this,e),r=lut(this,hut(e).call(this,t)),r.transform=n,r}return dut(e,t),sut(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set([this.transform.impute,this.transform.key].concat(rut(this.transform.groupby||[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(t){var e=t.start,n=void 0===e?0:e,r=t.stop,i=t.step,o=[n,r].concat(rut(i?[i]:[])).join(",");return{signal:"sequence(".concat(o,")")}}},{key:"hash",value:function(){return"Impute ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t,e=this.transform,n=e.impute,r=e.key,i=e.keyvals,o=e.method,a=e.groupby,u=e.value,c=e.frame,s=void 0===c?[null,null]:c,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:F5(i)?this.processSequence(i):i}:{}),{method:"value"}),a?{groupby:a}:{}),{value:null});if(o&&"value"!==o){var f=Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[o],fields:[n],frame:s,ignorePeers:!1},a?{groupby:a}:{}),h={type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n};t=[f,h]}else{var d={type:"formula",expr:"datum.".concat(n," === null ? ").concat(u," : datum.").concat(n),as:n};t=[d]}return[l].concat(rut(t))}}],[{key:"makeFromTransform",value:function(t,n){return new e(t,n)}},{key:"makeFromEncoding",value:function(t,n){var r=n.encoding,i=r.x,o=r.y;if(M0(i)&&M0(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var u=i.impute?o:o.impute?i:void 0,c=a.impute,s=c.method,l=c.value,f=c.frame,h=c.keyvals,d=S1(n.mark,r);return new e(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:a.field,key:u.field},s?{method:s}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==h?{keyvals:h}:{}),d.length?{groupby:d}:{}))}return null}}]),e}(h4);function yut(t){return yut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yut(t)}function gut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function but(t,e,n){return e&&mut(t.prototype,e),n&&mut(t,n),t}function wut(t,e){return!e||"object"!==yut(e)&&"function"!==typeof e?xut(t):e}function xut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ut(t,e,n){return _ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Out(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},_ut(t,e,n||t)}function Out(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=kut(t),null===t)break;return t}function kut(t){return kut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kut(t)}function Sut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jut(t,e)}function jut(t,e){return jut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jut(t,e)}var Aut=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gut(this,e),t=wut(this,kut(e).call(this,n,r)),t.explicit=n,t.implicit=r,t.parseNothing=i,t}return Sut(e,t),but(e,[{key:"clone",value:function(){var t=_ut(kut(e.prototype),"clone",this).call(this);return t.parseNothing=this.parseNothing,t}}]),e}(h7);function Eut(t){return Eut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eut(t)}function Cut(t){return Fut(t)||Dut(t)||Mut()}function Mut(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Dut(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Fut(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Tut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Put(t,e,n){return e&&Nut(t.prototype,e),n&&Nut(t,n),t}function Rut(t,e){return!e||"object"!==Eut(e)&&"function"!==typeof e?Iut(t):e}function Iut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lut(t){return Lut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lut(t)}function zut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&But(t,e)}function But(t,e){return But=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},But(t,e)}var Uut=function(t){function e(t,n){var r;Tut(this,e),r=Rut(this,Lut(e).call(this,t)),r.transform=n,r.transform=MV(n);var i=r.transform.as||[void 0,void 0];return r.transform.as=[i[0]||n.on,i[1]||n.loess],r}return zut(e,t),Put(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set([this.transform.loess,this.transform.on].concat(Cut(this.transform.groupby||[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.loess,n=t.on,r=x(t,["loess","on"]),i=Object.assign({type:"loess",x:n,y:e},r);return i}}]),e}(h4);function qut(t){return qut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qut(t)}function $ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hut(t,e,n){return e&&Wut(t.prototype,e),n&&Wut(t,n),t}function Gut(t,e){return!e||"object"!==qut(e)&&"function"!==typeof e?Xut(t):e}function Xut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vut(t){return Vut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vut(t)}function Yut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jut(t,e)}function Jut(t,e){return Jut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jut(t,e)}var Zut=function(t){function e(t,n,r){var i;return $ut(this,e),i=Gut(this,Vut(e).call(this,t)),i.transform=n,i.secondary=r,i}return Yut(e,t),Hut(e,[{key:"clone",value:function(){return new e(null,MV(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Object(xe["i"])(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(NV({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(xe["i"])(this.transform.as)}:{});else{var e=this.transform.as;Object(xe["H"])(e)||(CK(kK.NO_FIELDS_NEEDS_AS),e="_lookup"),t={as:[e]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(t,n,r,i){var o=n.component.data.sources,a=Est(r.from.data,o);a||(a=new iet(r.from.data),o.push(a));var u=n.getName("lookup_".concat(i)),c=new d4(a,u,"lookup",n.component.data.outputNodeRefCounts);return n.component.data.outputNodes[u]=c,new e(t,r,c.getSource())}}]),e}(h4);function Kut(t){return Kut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kut(t)}function Qut(t){return nct(t)||ect(t)||tct()}function tct(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ect(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function nct(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function rct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ict(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oct(t,e,n){return e&&ict(t.prototype,e),n&&ict(t,n),t}function act(t,e){return!e||"object"!==Kut(e)&&"function"!==typeof e?uct(t):e}function uct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cct(t){return cct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cct(t)}function sct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lct(t,e)}function lct(t,e){return lct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lct(t,e)}var fct=function(t){function e(t,n){var r;rct(this,e),r=act(this,cct(e).call(this,t)),r.transform=n,r.transform=MV(n);var i=r.transform.as||[void 0,void 0];return r.transform.as=[i[0]||n.on,i[1]||n.regression],r}return sct(e,t),oct(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set([this.transform.regression,this.transform.on].concat(Qut(this.transform.groupby||[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.regression,n=t.on,r=x(t,["regression","on"]),i=Object.assign({type:"regression",x:n,y:e},r);return i}}]),e}(h4);function hct(t){return hct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hct(t)}function dct(t){return yct(t)||vct(t)||pct()}function pct(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function vct(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function yct(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function gct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bct(t,e,n){return e&&mct(t.prototype,e),n&&mct(t,n),t}function wct(t,e){return!e||"object"!==hct(e)&&"function"!==typeof e?xct(t):e}function xct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ct(t){return _ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_ct(t)}function Oct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kct(t,e)}function kct(t,e){return kct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kct(t,e)}var Sct=function(t){function e(t,n){var r;return gct(this,e),r=wct(this,_ct(e).call(this,t)),r.transform=n,r}return Oct(e,t),bct(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=UV((this.transform.groupby||[]).concat(t),(function(t){return t}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){return new Set([this.transform.pivot,this.transform.value].concat(dct(this.transform.groupby||[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.pivot,n=t.value,r=t.groupby,i=t.limit,o=t.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:e,value:n},void 0!==i?{limit:i}:{}),void 0!==o?{op:o}:{}),void 0!==r?{groupby:r}:{})}}]),e}(h4);function jct(t){return jct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jct(t)}function Act(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ect(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cct(t,e,n){return e&&Ect(t.prototype,e),n&&Ect(t,n),t}function Mct(t,e){return!e||"object"!==jct(e)&&"function"!==typeof e?Dct(t):e}function Dct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fct(t){return Fct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fct(t)}function Tct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nct(t,e)}function Nct(t,e){return Nct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nct(t,e)}var Pct=function(t){function e(t,n){var r;return Act(this,e),r=Mct(this,Fct(e).call(this,t)),r.transform=n,r}return Tct(e,t),Cct(e,[{key:"clone",value:function(){return new e(null,MV(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(NV(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),e}(h4);function Rct(t,e){return zct(t)||Lct(t,e)||Ict()}function Ict(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Lct(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}function zct(t){if(Array.isArray(t))return t}function Bct(t){return $ct(t)||qct(t)||Uct()}function Uct(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function qct(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function $ct(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Wct(t){var e=0;function n(r,i){if(r instanceof iet&&!r.isGenerator&&!c5(r.data)){t.push(i);var o={name:null,source:i.name,transform:[]};i=o}var a,u,c;r instanceof znt&&(r.parent instanceof iet&&!i.source?(i.format=Object.assign(Object.assign({},i.format||{}),{parse:r.assembleFormatParse()}),(a=i.transform).push.apply(a,Bct(r.assembleTransforms(!0)))):(u=i.transform).push.apply(u,Bct(r.assembleTransforms())));if(r instanceof gnt)return i.name||(i.name="data_".concat(e++)),!i.source||i.transform.length>0?(t.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach((function(e){return t.push(e)}));((r instanceof yet||r instanceof Aet||r instanceof eat||r instanceof Ant||r instanceof T9||r instanceof Hat||r instanceof Pat||r instanceof rnt||r instanceof Zut||r instanceof xrt||r instanceof Ynt||r instanceof xat||r instanceof fat||r instanceof Hot||r instanceof Uut||r instanceof fct||r instanceof eut||r instanceof Pct||r instanceof Sct)&&i.transform.push(r.assemble()),r instanceof Vtt||r instanceof k4||r instanceof vut||r instanceof frt)&&(c=i.transform).push.apply(c,Bct(r.assemble()));if(r instanceof d4)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof d4)r.setSource(i.name);else if(i.name||(i.name="data_".concat(e++)),r.setSource(i.name),1===r.numChildren()){t.push(i);var s={name:null,source:i.name,transform:[]};i=s}switch(r.numChildren()){case 0:r instanceof d4&&(!i.source||i.transform.length>0)&&t.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(e++));var l=i.name;!i.source||i.transform.length>0?t.push(i):l=i.source,r.children.forEach((function(t){var e={name:null,source:l,transform:[]};n(t,e)}));break}}return n}function Hct(t){var e=[],n=Wct(e);return t.children.forEach((function(e){return n(e,{source:t.name,name:null,transform:[]})})),e}function Gct(t,e){var n=[],r=Wct(n),i=0;t.sources.forEach((function(t){t.hasName()||(t.dataName="source_".concat(i++));var e=t.assemble();r(t,e)})),n.forEach((function(t){0===t.transform.length&&delete t.transform}));var o=0,a=!0,u=!1,c=void 0;try{for(var s,l=n.entries()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=Rct(s.value,2),h=f[0],d=f[1];0!==(d.transform||[]).length||d.source||n.splice(o++,0,n.splice(h,1)[0])}}catch(S){u=!0,c=S}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}for(var p=0,v=n;p<v.length;p++){d=v[p];var y=!0,g=!1,m=void 0;try{for(var b,w=(d.transform||[])[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var x=b.value;"lookup"===x.type&&(x.from=t.outputNodes[x.from].getSource())}}catch(S){g=!0,m=S}finally{try{y||null==w.return||w.return()}finally{if(g)throw m}}}for(var _=0,O=n;_<O.length;_++){var k=O[_];k.name in e&&(k.values=e[k.name])}return n}function Xct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vct(t){return"top"===t||"left"===t?"header":"footer"}function Yct(t){var e=!0,n=!1,r=void 0;try{for(var i,o=RJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;Jct(t,a)}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}Kct(t,"x"),Kct(t,"y")}function Jct(t,e){if(t.channelHasField(e)){var n=t.facet[e],r=R9("title",null,t.config,e),i=Y0(n,t.config,{allowDisabling:!0,includeDefault:void 0===r||!!r});t.child.component.layoutHeaders[e].title&&(i+=" / "+t.child.component.layoutHeaders[e].title,t.child.component.layoutHeaders[e].title=null);var o=R9("labelOrient",n,t.config,e),a=n.header||{},u=iY(a.labels,!0),c=RV(["bottom","right"],o)?"footer":"header";t.component.layoutHeaders[e]=Xct({title:i,facetFieldDef:n},c,"facet"===e?[]:[Zct(t,e,u)])}}function Zct(t,e,n){var r="row"===e?"height":"width";return{labels:n,sizeSignal:t.child.component.layoutSize.get(r)?t.child.getSizeSignalRef(r):void 0,axes:[]}}function Kct(t,e){var n=t.child;if(n.component.axes[e]){var r=t.component,i=r.layoutHeaders,o=r.resolve;if(o.axis[e]=c7(o,e),"shared"===o.axis[e]){var a="x"===e?"column":"row",u=i[a],c=!0,s=!1,l=void 0;try{for(var f,h=n.component.axes[e][Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value,p=Vct(d.get("orient"));u[p]=u[p]||[Zct(t,a,!1)];var v=V8(d,"main",t.config,{header:!0});u[p][0].axes.push(v),d.mainExtracted=!0}}catch(y){s=!0,l=y}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}}}}function Qct(t){rst(t);var e=t.component.layoutSize;e.setWithExplicit("width",ist(t,"width")),e.setWithExplicit("height",ist(t,"height"))}var tst=Qct,est={vconcat:"width",hconcat:"height"};function nst(t){rst(t);var e=t.component.layoutSize,n=est[t.concatType];n&&e.setWithExplicit(n,ist(t,n))}function rst(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t.children[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.parseLayoutSize()}}catch(u){n=!0,r=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}function ist(t,e){var n,r="width"===e?"x":"y",i=t.component.resolve,o=!0,a=!1,u=void 0;try{for(var c,s=t.children[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=l.component.layoutSize.getWithExplicit(e),h=i.scale[r];if("independent"===h&&"step"===f.value){n=void 0;break}if(n){if("independent"===h&&n.value!==f.value){n=void 0;break}n=g7(n,f,e,"")}else n=f}}catch(b){a=!0,u=b}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}if(n){var d=!0,p=!1,v=void 0;try{for(var y,g=t.children[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;t.renameSignal(m.getName(e),t.getName(e)),m.component.layoutSize.set(e,"merged",!1)}}catch(b){p=!0,v=b}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}return n}return{explicit:!1,value:void 0}}function ost(t){var e=t.size,n=t.component,r=!0,i=!1,o=void 0;try{for(var a,u=JJ[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=ZJ(c);if(e[s]){var l=e[s];n.layoutSize.set(s,L2(l)?"step":l,!0)}else{var f=ast(t,s);n.layoutSize.set(s,f,!1)}}}catch(h){i=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}function ast(t,e){var n="width"===e?"x":"y",r=t.config,i=t.getScaleComponent(n);if(i){var o=i.get("type"),a=i.get("range");if(KK(o)){var u=J2(r.view,e);return Z5(a)||L2(u)?"step":u}return V2(r.view,e)}if(t.hasProjection)return V2(r.view,e);var c=J2(r.view,e);return L2(c)?c.step:c}function ust(t,e){return g0(t)?hst(t,e):lst(t,e)}function cst(t,e){return hst(t,e)}function sst(t,e){return _0(t.field)?t.field.repeat in e?Object.assign(Object.assign({},t),{field:e[t.field.repeat]}):void CK(kK.noSuchRepeatedValue(t.field.repeat)):t}function lst(t,e){if(t=sst(t,e),void 0!==t){if(null===t)return null;if(k0(t)&&v0(t.sort)){var n=sst(t.sort,e);t=Object.assign(Object.assign({},t),n?{sort:n}:{})}return t}}function fst(t,e){if(!M0(t)){if(E0(t)){var n=lst(t.condition,e);if(n)return Object.assign(Object.assign({},t),{condition:n});t.condition;var r=x(t,["condition"]);return r}return t}var i=lst(t,e);return i||(A0(t)?{condition:t.condition}:void 0)}function hst(t,e){var n={};for(var r in t)if(Object(xe["v"])(t,r)){var i=t[r];if(Object(xe["A"])(i))n[r]=i.map((function(t){return fst(t,e)})).filter((function(t){return t}));else{var o=fst(i,e);void 0!==o&&(n[r]=o)}}return n}function dst(t){return dst="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dst(t)}function pst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yst(t,e,n){return e&&vst(t.prototype,e),n&&vst(t,n),t}function gst(t,e){return!e||"object"!==dst(e)&&"function"!==typeof e?mst(t):e}function mst(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bst(t,e,n){return bst="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=wst(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},bst(t,e,n||t)}function wst(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=xst(t),null===t)break;return t}function xst(t){return xst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xst(t)}function _st(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ost(t,e)}function Ost(t,e){return Ost=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ost(t,e)}function kst(t,e,n){return z0(e,Object.assign({suffix:"by_".concat(z0(t))},n||{}))}var Sst=function(t){function e(t,n,r,i,o){var a;pst(this,e),a=gst(this,xst(e).call(this,t,"facet",n,r,o,i,t.resolve)),a.child=qft(t.spec,mst(a),a.getName("child"),void 0,i,o),a.children=[a.child];var u=ust(t.facet,i);return a.facet=a.initFacet(u),a}return _st(e,t),yst(e,[{key:"initFacet",value:function(t){return g0(t)?k1(t,(function(t,e,n){return RV([eJ,nJ],n)?void 0===e.field?(CK(kK.emptyFieldDef(e,n)),t):(t[n]=n1(e,n),t):(CK(kK.incompatibleChannel(n,"facet")),t)}),{}):{facet:n1(t,"facet")}}},{key:"channelHasField",value:function(t){return!!this.facet[t]}},{key:"fieldDef",value:function(t){return this.facet[t]}},{key:"parseData",value:function(){this.component.data=Dst(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){rst(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),Yct(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.child.assembleSelectionTopLevelSignals(t)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(t){return this.child.assembleSelectionData(t)}},{key:"getHeaderLayoutMixins",value:function(){var t={},e=!0,n=!1,r=void 0;try{for(var i,o=RJ[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=z9[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value,d=this.component.layoutHeaders[a],p=d[h],v=d.facetFieldDef;if(v){var y=R9("titleOrient",v,this.config,a);if(RV(["right","bottom"],y)){var g=P9(a,y);t.titleAnchor=t.titleAnchor||{},t.titleAnchor[g]="end"}}if(p&&p[0]){var m="row"===a?"height":"width",b="header"===h?"headerBand":"footerBand";"facet"===a||this.child.component.layoutSize.get(m)||(t[b]=t[b]||{},t[b][a]=.5),d.title&&(t.offset=t.offset||{},t.offset["row"===a?"rowTitle":"columnTitle"]=10)}}}catch(w){c=!0,s=w}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(w){n=!0,r=w}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"assembleDefaultLayout",value:function(){var t=this.facet,e=t.column,n=t.row,r=e?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof e)){var t=this.getName("column_domain");return{signal:"length(data('".concat(t,"'))")}}}},{key:"assembleGroup",value:function(t){return this.parent&&this.parent instanceof e?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:z0(this.facet.column,{prefix:"distinct"})}}}}:{}),bst(xst(e.prototype),"assembleGroup",this).call(this,t)):bst(xst(e.prototype),"assembleGroup",this).call(this,t)}},{key:"getCardinalityAggregateForChild",value:function(){var t=[],n=[],r=[];if(this.child instanceof e){if(this.child.channelHasField("column")){var i=z0(this.child.facet.column);t.push(i),n.push("distinct"),r.push("distinct_".concat(i))}}else for(var o=0,a=["x","y"];o<a.length;o++){var u=a[o],c=this.child.component.scales[u];if(c&&!c.merged){var s=c.get("type"),l=c.get("range");if(KK(s)&&Z5(l)){var f=_it(this.child,u),h=xit(f);h?(t.push(h),n.push("distinct"),r.push("distinct_".concat(h))):CK("Unknown field for ${channel}.  Cannot calculate view size.")}}}return{fields:t,ops:n,as:r}}},{key:"assembleFacet",value:function(){var t=this.component.data.facetRoot,e=t.name,n=t.data,r=this.facet,i=r.row,o=r.column,a=this.getCardinalityAggregateForChild(),u=a.fields,c=a.ops,s=a.as,l=[],f=!0,h=!1,d=void 0;try{for(var p,v=RJ[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value,g=this.facet[y];if(g){l.push(z0(g));var m=g.bin,b=g.sort;if(d1(m)&&l.push(z0(g,{binSuffix:"end"})),v0(b)){var w=b.field,x=b.op,_=void 0===x?f0:x,O=kst(g,b);i&&o?(u.push(O),c.push("max"),s.push(O)):(u.push(w),c.push(_),s.push(O))}else if(Object(xe["A"])(b)){var k=N9(g,y);u.push(k),c.push("max"),s.push(k)}}}}catch(j){h=!0,d=j}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}var S=!!i&&!!o;return Object.assign({name:e,data:n,groupby:l},S||u.length?{aggregate:Object.assign(Object.assign({},S?{cross:S}:{}),u.length?{fields:u,ops:c,as:s}:{})}:{})}},{key:"facetSortFields",value:function(t){var e=this.facet,n=e[t];return n?v0(n.sort)?[kst(n,n.sort,{expr:"datum"})]:Object(xe["A"])(n.sort)?[N9(n,t,{expr:"datum"})]:[z0(n,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(t){var e=this.facet,n=e[t];if(n){var r=n.sort,i=(v0(r)?r.order:!Object(xe["A"])(r)&&r)||"ascending";return[i]}return[]}},{key:"assembleLabelTitle",value:function(){var t=this.facet,e=this.config;if(t.facet)return G9(t.facet,"facet",e);var n={row:["top","bottom"],column:["left","right"]},r=!0,i=!1,o=void 0;try{for(var a,u=L9[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;if(t[c]){var s=R9("labelOrient",t[c],e,c);if(RV(n[c],s))return G9(t[c],c,e)}}}catch(l){i=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}},{key:"assembleMarks",value:function(){var t=this,e=this.child,n=this.component.data.facetRoot,r=Hct(n),i=e.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||e.assembleTitle(),a=e.assembleGroupStyle(),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},o?{title:o}:{}),a?{style:a}:{}),{from:{facet:this.assembleFacet()},sort:{field:RJ.map((function(e){return t.facetSortFields(e)})).flat(),order:RJ.map((function(e){return t.facetSortOrder(e)})).flat()}}),r.length>0?{data:r}:{}),i?{encode:{update:i}}:{}),e.assembleGroup(a8(this,[])));return[u]}},{key:"getMapping",value:function(){return this.facet}}]),e}(Dot);function jst(t,e){var n=e.row,r=e.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var u=a[o];if(v0(u.sort)){var c=u.sort,s=c.field,l=c.op,f=void 0===l?f0:l;t=i=new Ynt(t,{joinaggregate:[{op:f,field:s,as:kst(u,u.sort,{forAs:!0})}],groupby:[z0(u)]})}}return i}return null}function Ast(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Est(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,c=u.data;if((!t.name||!u.hasName()||t.name===u.dataName)&&!(t["format"]&&t["format"].mesh&&c.format&&c.format.feature))if(s5(t)&&s5(c)){if(CV(t.values,c.values))return u}else if(c5(t)&&c5(c)){if(t.url===c.url)return u}else if(l5(t)&&t.name===u.dataName)return u}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}function Cst(t,e){if(void 0===t.data&&t.parent)return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main;if(null===t.data){var n=new iet([]);return e.push(n),n}var r=Est(t.data,e);if(r)return f5(t.data)||(r.data.format=zV({},t.data.format,r.data.format)),!r.hasName()&&t.data.name&&(r.dataName=t.data.name),r;var i=new iet(t.data);return e.push(i),i}function Mst(t,e,n){var r=0,i=!0,o=!1,a=void 0;try{for(var u,c=e.transforms[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=void 0,f=void 0;if(q5(s))f=t=new T9(t,s),l="derived";else if(D5(s))f=t=znt.makeImplicitFromFilterTransform(t,s,n)||t,t=new Ant(t,e,s.filter);else if($5(s))f=t=Vtt.makeFromTransform(t,s,e),l="number";else if(H5(s)){l="date";var h=n.getWithExplicit(s.field);void 0===h.value&&(t=new znt(t,Ast({},s.field,l)),n.set(s.field,l,!1)),f=t=k4.makeFromTransform(t,s)}else if(G5(s))f=t=rnt.makeFromTransform(t,s),l="number",I8(e)&&(t=new eut(t));else if(I5(s))f=t=Zut.make(t,e,s,r++),l="derived";else if(z5(s))f=t=new xrt(t,s),l="number";else if(B5(s))f=t=new Ynt(t,s),l="number";else if(X5(s))f=t=frt.makeFromTransform(t,s),l="derived";else if(V5(s))f=t=new xat(t,s),l="derived";else if(U5(s))f=t=new fat(t,s),l="derived";else if(T5(s))f=t=new Sct(t,s),l="derived";else if(L5(s))t=new Pct(t,s);else if(W5(s))f=t=vut.makeFromTransform(t,s),l="derived";else if(N5(s))f=t=new Hot(t,s),l="derived";else if(P5(s))f=t=new fct(t,s),l="derived";else{if(!R5(s)){CK(kK.invalidTransformIgnored(s));continue}f=t=new Uut(t,s),l="derived"}if(f&&void 0!==l){var d=!0,p=!1,v=void 0;try{for(var y,g=(f.producedFields()||[])[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value;n.set(m,l,!1)}}catch(b){p=!0,v=b}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}}}}catch(b){o=!0,a=b}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return t}function Dst(t){var e=Cst(t,t.component.data.sources),n=t.component.data,r=n.outputNodes,i=n.outputNodeRefCounts,o=t.parent?t.parent.component.data.ancestorParse.clone():new Aut,a=t.data;f5(a)?(h5(a)?e=new Aet(e,a.sequence):p5(a)&&(e=new yet(e,a.graticule)),o.parseNothing=!0):a&&a.format&&null===a.format.parse&&(o.parseNothing=!0),e=znt.makeExplicit(e,t,o)||e,!I8(t)||!Sot(t)&&!Cot(t)||t.parent&&Cot(t.parent)||(e=new eut(e));var u=t.parent&&Cot(t.parent);(Sot(t)||jot(t))&&u&&(e=Vtt.makeFromEncoding(e,t)||e),t.transforms.length>0&&(e=Mst(e,t,o)),e=znt.makeImplicitFromEncoding(e,t,o)||e,Sot(t)&&(e=Pat.parseAll(e,t),e=Hat.parseAll(e,t)),(Sot(t)||jot(t))&&(u||(e=Vtt.makeFromEncoding(e,t)||e),e=k4.makeFromEncoding(e,t)||e,e=T9.parseAllForSortIndex(e,t));var c=t.getName(y5),s=new d4(e,c,y5,i);if(r[c]=s,e=s,Sot(t)){var l=rnt.makeFromEncoding(e,t);l&&(e=l,I8(t)&&(e=new eut(e))),e=vut.makeFromEncoding(e,t)||e,e=frt.makeFromEncoding(e,t)||e}Sot(t)&&(e=eat.make(e,t)||e);var f=t.getName(v5),h=new d4(e,f,v5,i);r[f]=h,e=h;var d=null;if(jot(t)){var p=t.getName("facet");e=T9.parseAllForSortIndex(e,t),e=jst(e,t.facet)||e,d=new gnt(e,t,p,h.getSource()),r[p]=d,e=d}return Object.assign(Object.assign({},t.component.data),{outputNodes:r,outputNodeRefCounts:i,raw:s,main:h,facetRoot:d,ancestorParse:o})}function Fst(t){return Fst="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fst(t)}function Tst(t){return Rst(t)||Pst(t)||Nst()}function Nst(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pst(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Rst(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Ist(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zst(t,e,n){return e&&Lst(t.prototype,e),n&&Lst(t,n),t}function Bst(t,e){return!e||"object"!==Fst(e)&&"function"!==typeof e?Ust(t):e}function Ust(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qst(t){return qst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qst(t)}function $st(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wst(t,e)}function Wst(t,e){return Wst=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wst(t,e)}var Hst=function(t){function e(t,n,r,i,o,a,u){return Ist(this,e),Bst(this,qst(e).call(this,t,n,r,i,o,a,u))}return $st(e,t),zst(e,[{key:"parseData",value:function(){this.component.data=Dst(this),this.children.forEach((function(t){t.parseData()}))}},{key:"parseSelections",value:function(){var t=this;this.component.selection={};var e=!0,n=!1,r=void 0;try{for(var i,o=function(){var e=i.value;e.parseSelections(),GV(e.component.selection).forEach((function(n){t.component.selection[n]=e.component.selection[n]}))},a=this.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)o()}catch(u){n=!0,r=u}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"parseMarkGroup",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.parseMarkGroup()}}catch(a){e=!0,n=a}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"parseAxesAndHeaders",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.parseAxesAndHeaders()}}catch(a){e=!0,n=a}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(t){return t.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(t,e){return[].concat(Tst(t),Tst(e.assembleLayoutSignals()))}),n7(this))}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleMarks",value:function(){return this.children.map((function(t){var e=t.assembleTitle(),n=t.assembleGroupStyle(),r=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},e?{title:e}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup())}))}}]),e}(Mot);function Gst(t){return Gst="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gst(t)}function Xst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yst(t,e,n){return e&&Vst(t.prototype,e),n&&Vst(t,n),t}function Jst(t,e){return!e||"object"!==Gst(e)&&"function"!==typeof e?Kst(t):e}function Zst(t){return Zst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zst(t)}function Kst(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qst(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tlt(t,e)}function tlt(t,e){return tlt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tlt(t,e)}var elt=function(t){function e(t,n,r,i,o){var a;return Xst(this,e),a=Jst(this,Zst(e).call(this,t,"concat",n,r,o,i,t.resolve)),t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&CK(kK.CONCAT_CANNOT_SHARE_AXIS),a.concatType=P2(t)?"vconcat":R2(t)?"hconcat":"concat",a.children=a.getChildren(t).map((function(t,e){return qft(t,Kst(a),a.getName("concat_"+e),void 0,i,o)})),a}return Qst(e,t),Yst(e,[{key:"getChildren",value:function(t){return P2(t)?t.vconcat:R2(t)?t.hconcat:t.concat}},{key:"parseLayoutSize",value:function(){nst(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleDefaultLayout",value:function(){return Object.assign(Object.assign({},"vconcat"===this.concatType?{columns:1}:{}),{bounds:"full",align:"each"})}}]),e}(Hst);function nlt(t){return nlt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nlt(t)}function rlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ilt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function olt(t,e,n){return e&&ilt(t.prototype,e),n&&ilt(t,n),t}function alt(t,e){return!e||"object"!==nlt(e)&&"function"!==typeof e?ult(t):e}function ult(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function clt(t){return clt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},clt(t)}function slt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&llt(t,e)}function llt(t,e){return llt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},llt(t,e)}function flt(t){return!1===t||null===t}var hlt=Object.assign(Object.assign({gridScale:1,scale:1},u6),{labelExpr:1,encode:1}),dlt=GV(hlt),plt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rlt(this,e),t=alt(this,clt(e).call(this)),t.explicit=n,t.implicit=r,t.mainExtracted=i,t}return slt(e,t),olt(e,[{key:"clone",value:function(){return new e(MV(this.explicit),MV(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!flt(this.get(t)))}}]),e}(h7);function vlt(t,e,n){var r=t.fieldDef(e)||("x"===e?t.fieldDef("x2"):"y"===e?t.fieldDef("y2"):void 0),i=t.axis(e),o=t.config,a={};if(u1(r)){var u=t.getScaleComponent(e).get("type")===FK.UTC,c=a0("datum.value",r.timeUnit,i.format,o.axis.shortTimeLabels,null,u);c&&(a.text={signal:c})}return a=Object.assign(Object.assign({},a),n),0===GV(a).length?void 0:a}function ylt(t){return JJ.reduce((function(e,n){return t.component.scales[n]&&t.axis(n)&&(e[n]=[Olt(n,t)]),e}),{})}var glt={bottom:"top",top:"bottom",left:"right",right:"left"};function mlt(t){var e=t.component,n=e.axes,r=e.resolve,i={top:0,bottom:0,right:0,left:0},o=!0,a=!1,u=void 0;try{for(var c,s=t.children[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;l.parseAxesAndHeaders();var f=!0,h=!1,d=void 0;try{for(var p,v=GV(l.component.axes)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value;r.axis[y]=c7(t.component.resolve,y),"shared"===r.axis[y]&&(n[y]=blt(n[y],l.component.axes[y]),n[y]||(r.axis[y]="independent",delete n[y]))}}catch(q){h=!0,d=q}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}}catch(q){a=!0,u=q}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}for(var g=0,m=[iJ,oJ];g<m.length;g++){var b=m[g],w=!0,x=!1,_=void 0;try{for(var O,k=t.children[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var S=O.value;if(S.component.axes[b]){if("independent"===r.axis[b]){n[b]=(n[b]||[]).concat(S.component.axes[b]);var j=!0,A=!1,E=void 0;try{for(var C,M=S.component.axes[b][Symbol.iterator]();!(j=(C=M.next()).done);j=!0){var D=C.value,F=D.getWithExplicit("orient"),T=F.value,N=F.explicit;if(i[T]>0&&!N){var P=glt[T];i[T]>i[P]&&D.set("orient",P,!1)}i[T]++}}catch(q){A=!0,E=q}finally{try{j||null==M.return||M.return()}finally{if(A)throw E}}}delete S.component.axes[b]}}}catch(q){x=!0,_=q}finally{try{w||null==k.return||k.return()}finally{if(x)throw _}}if("independent"===r.axis[b]&&n[b]&&n[b].length>1){var R=!0,I=!1,L=void 0;try{for(var z,B=n[b][Symbol.iterator]();!(R=(z=B.next()).done);R=!0){var U=z.value;U.get("grid")&&!U.explicit.grid&&(U.implicit.grid=!1)}}catch(q){I=!0,L=q}finally{try{R||null==B.return||B.return()}finally{if(I)throw L}}}}}function blt(t,e){if(!t)return e.map((function(t){return t.clone()}));if(t.length===e.length){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r];if(!!i!==!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),u=o.getWithExplicit("orient");if(a.explicit&&u.explicit&&a.value!==u.value)return;t[r]=wlt(i,o)}}return t}}function wlt(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=function(){var n=o.value,r=g7(t.getWithExplicit(n),e.getWithExplicit(n),n,"axis",(function(t,e){switch(n){case"title":return l0(t,e);case"gridScale":return{explicit:t.explicit,value:iY(t.value,e.value)}}return y7(t,e,n,"axis")}));t.setWithExplicit(n,r)},u=dlt[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)a()}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}function xlt(t,e){var n="x"===e?"x2":"y2",r=t.fieldDef(e),i=t.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?s0(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function _lt(t,e,n,r,i){switch(e){case"titleAngle":case"labelAngle":return t===sY(n[e]);case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===xlt(r,i))return!0}return t===n[e]}function Olt(t,e){var n=e.axis(t),r=new plt;dlt.forEach((function(i){var o=klt(i,n,t,e);if(void 0!==o){var a=_lt(o,i,n,e,t),u=o9(i,e.config,t,r.get("orient"),e.getScaleComponent(t).get("type"));a||void 0===u?r.set(i,o,a):RV(["grid","orient"],i)&&u&&r.set(i,u,!1)}}));var i=n.encoding||{},o=o6.reduce((function(n,o){if(!r.hasAxisPart(o))return n;var a=a7(i[o]||{},e),u="labels"===o?vlt(e,t,a):a;return void 0!==u&&GV(u).length>0&&(n[o]={update:u}),n}),{});return GV(o).length>0&&r.set("encode",o,!!n.encoding||void 0!==n.labelAngle),r}function klt(t,e,n,r){var i=r.fieldDef(n),o=c9(r,e,n,i),a=iY(e.orient,d9(n)),u=r.mark,c=r.config;switch(t){case"scale":return r.scaleName(n);case"gridScale":return u9(r,n);case"format":if(u1(i))return;return n0(i,e.format,c);case"formatType":if(u1(i))return;return e.formatType;case"grid":if(p1(r.fieldDef(n).bin))return!1;var s=r.getScaleComponent(n).get("type");return iY(e.grid,a9(s,i));case"labelAlign":return iY(e.labelAlign,l9(o,a));case"labelAngle":return o;case"labelBaseline":return iY(e.labelBaseline,s9(o,a));case"labelFlush":return iY(e.labelFlush,f9(i,n));case"labelOverlap":var l=r.getScaleComponent(n).get("type");return iY(e.labelOverlap,h9(i,l));case"orient":return a;case"tickCount":var f=r.getScaleComponent(n).get("type"),h="x"===n?"width":"y"===n?"height":void 0,d=h?r.getSizeSignalRef(h):void 0;return iY(e.tickCount,p9({fieldDef:i,scaleType:f,size:d}));case"title":var p="x"===n?"x2":"y2",v=r.fieldDef(p);return iY(e.title,xlt(r,n),c0([O0(i)],v?[O0(v)]:[]));case"values":return v9(e,r,i);case"zindex":return iY(e.zindex,y9(u,i))}return s6(t)?e[t]:void 0}function Slt(t){var e=t.encoding,n=t.size,r=!0,i=!1,o=void 0;try{for(var a,u=JJ[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=ZJ(c),l=t1(e[c]);L2(n[s])&&l&&U0(l)&&(delete n[s],CK(kK.stepDropped(s)))}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}function jlt(t,e,n,r){var i=r.graticule,o=AY(t)?Object.assign({},t):{type:t},a=o.orient||QQ("orient",o,n);o.orient=Mlt(o.type,e,a),void 0!==a&&a!==o.orient&&CK(kK.orientOverridden(o.orient,a));var u=iY(o.opacity,QQ("opacity",o,n));void 0===u&&(o.opacity=Elt(o.type,e));var c=o.filled;void 0===c&&(o.filled=!i&&Clt(o,n));var s=o.cursor||QQ("cursor",o,n);return void 0===s&&(o.cursor=Alt(o,e,n)),o}function Alt(t,e,n){return e.href||t.href||QQ("href",t,n)?"pointer":t.cursor}function Elt(t,e){if(RV([pY,mY,wY,xY],t)&&!m1(e))return.7}function Clt(t,e){var n=QQ("filled",t,e),r=t.type;return iY(n,r!==pY&&r!==dY&&r!==yY)}function Mlt(t,e,n){switch(t){case pY:case wY:case xY:case gY:case vY:case hY:return}var r=e.x,i=e.y,o=e.x2,a=e.y2;switch(t){case fY:if(M0(r)&&(p1(r.bin)||M0(i)&&i.aggregate&&!r.aggregate))return"vertical";if(M0(i)&&(p1(i.bin)||M0(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&M0(r)&&r.type===TK&&!d1(r.bin))return"horizontal";if(!a&&M0(i)&&i.type===TK&&!d1(i.bin))return"vertical"}case yY:if(o&&a)return;case lY:if(a)return M0(i)&&p1(i.bin)?"horizontal":"vertical";if(o)return M0(r)&&p1(r.bin)?"vertical":"horizontal";if(t===yY){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case dY:case mY:var u=M0(r)&&U0(r),c=M0(i)&&U0(i);if(u&&!c)return"tick"!==t?"horizontal":"vertical";if(!u&&c)return"tick"!==t?"vertical":"horizontal";if(u&&c){var s=r,l=i,f=s.type===PK,h=l.type===PK;return f&&!h?"tick"!==t?"vertical":"horizontal":!f&&h?"tick"!==t?"horizontal":"vertical":!s.aggregate&&l.aggregate?"tick"!==t?"vertical":"horizontal":s.aggregate&&!l.aggregate?"tick"!==t?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}var Dlt={vgMark:"area",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore"})),Y6("x",t,{defaultRef:"zeroOrMin",defaultRef2:"zeroOrMin",range:"horizontal"===t.markDef.orient})),Y6("y",t,{defaultRef:"zeroOrMin",defaultRef2:"zeroOrMin",range:"vertical"===t.markDef.orient})),L6(t))}},Flt={vgMark:"rect",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),Tlt(t,"x","rect")),Tlt(t,"y","rect"))}};function Tlt(t,e,n){var r=t.config,i=t.encoding,o=t.markDef,a="x"===e?"x2":"y2",u="x"===e?"width":"height",c=i[e],s=i[a],l=t.getScaleComponent(e),f=l?l.get("type"):void 0,h=t.scaleName(e),d=o.orient,p=i[u]||i.size||o[u]||o.size||QQ("size",o,r,{vgChannel:u}),v="x"===e?"vertical"===d:"horizontal"===d;if(M0(c)&&(d1(c.bin)||p1(c.bin)||c.timeUnit&&!s)&&!p&&!KK(f)){var y=S0(e,c,void 0,o,r);return H6({fieldDef:c,fieldDef2:s,channel:e,markDef:o,scaleName:h,band:y,spacing:iY(o.binSpacing,r[n].binSpacing),reverse:l.get("reverse")})}if((M0(c)&&KK(f)||v)&&!s){if(M0(c)&&f===FK.BAND){var g=P0(c)?c.band:void 0;return $6(c,e,t,Nlt(n,o,u,h,l,r,g))}return W6(e,t,S6(t[u]),Nlt(n,o,u,h,l,r))}return J6(e,t,{defaultRef:"zeroOrMax",defaultRef2:"zeroOrMin"})}function Nlt(t,e,n,r,i,o,a){var u=iY(e[n],e.size,QQ("size",e,o,{vgChannel:n}));if(void 0!==u)return{value:u};if(i){var c=i.get("type");if("point"===c||"band"===c){if(void 0!==o[t].discreteBandSize)return{value:o[t].discreteBandSize};if(c===FK.POINT){var s=i.get("range");return Z5(s)&&Object(xe["E"])(s.step)?{value:s.step-2}:{value:Z2-2}}return b6(r,a)}return{value:o[t].continuousBandSize}}var l=Y2(o.view,n),f=iY(o[t].discreteBandSize,l-2);return{value:f}}var Plt={vgMark:"rect",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),Tlt(t,"x","bar")),Tlt(t,"y","bar"))}},Rlt={vgMark:"shape",encodeEntry:function(t){return Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore"}))},postEncodingTransform:function(t){var e=t.encoding,n=e.shape,r=Object.assign({type:"geoshape",projection:t.projectionName()},n&&M0(n)&&n.type===IK?{field:z0(n,{expr:"datum"})}:{});return[r]}},Ilt={vgMark:"image",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore"})),Tlt(t,"x","image")),Tlt(t,"y","image")),q6(t,"url"))}},Llt={vgMark:"line",encodeEntry:function(t){var e=t.width,n=t.height;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore"})),G6("x",t,S6(e))),G6("y",t,S6(n))),z6("size",t,{vgChannel:"strokeWidth"})),L6(t))}},zlt={vgMark:"trail",encodeEntry:function(t){var e=t.width,n=t.height;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore"})),G6("x",t,S6(e))),G6("y",t,S6(n))),z6("size",t)),L6(t))}};function Blt(t,e){var n=t.config,r=t.width,i=t.height;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore"})),G6("x",t,S6(r))),G6("y",t,S6(i))),z6("size",t)),Ult(t,n,e))}function Ult(t,e,n){return n?{shape:{value:n}}:z6("shape",t)}var qlt={vgMark:"symbol",encodeEntry:function(t){return Blt(t)}},$lt={vgMark:"symbol",encodeEntry:function(t){return Blt(t,"circle")}},Wlt={vgMark:"symbol",encodeEntry:function(t){return Blt(t,"square")}},Hlt={vgMark:"rule",encodeEntry:function(t){var e=t.markDef,n=t.width,r=t.height,i=e.orient;return t.encoding.x||t.encoding.y||t.encoding.latitude||t.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),Y6("x",t,{defaultRef:"horizontal"===i?"zeroOrMin":S6(n),defaultRef2:"zeroOrMax",range:"vertical"!==i})),Y6("y",t,{defaultRef:"vertical"===i?"zeroOrMin":S6(r),defaultRef2:"zeroOrMax",range:"horizontal"!==i})),z6("size",t,{vgChannel:"strokeWidth"})):{}}},Glt={vgMark:"text",encodeEntry:function(t){var e=t.config,n=t.encoding,r=t.width,i=t.height;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore"})),G6("x",t,S6(r))),G6("y",t,S6(i))),q6(t)),z6("size",t,{vgChannel:"fontSize"})),R6("align",Xlt(t.markDef,n,e))),R6("baseline",Vlt(t.markDef,n,e)))}};function Xlt(t,e,n){var r=t.align||QQ("align",t,n);if(void 0===r)return"center"}function Vlt(t,e,n){var r=t.baseline||QQ("baseline",t,n);if(void 0===r)return"middle"}function Ylt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jlt={vgMark:"rect",encodeEntry:function(t){var e=t.config,n=t.markDef,r=t.width,i=t.height,o=n.orient,a="horizontal"===o?"width":"height",u="horizontal"===o?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T6(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),G6("x",t,S6(r),{vgChannel:"xc"})),G6("y",t,S6(i),{vgChannel:"yc"})),z6("size",t,{defaultValue:Zlt(t),vgChannel:a})),Ylt({},u,{value:iY(n.thickness,e.tick.thickness)}))}};function Zlt(t){var e=t.config,n=t.markDef,r=n.orient,i="horizontal"===r?"width":"height",o=t.getScaleComponent("horizontal"===r?"x":"y"),a=iY(n[i],n.size,QQ("size",n,e,{vgChannel:i}),e.tick.bandSize);if(void 0!==a)return a;var u=o?o.get("range"):void 0;if(u&&Z5(u)&&Object(xe["E"])(u.step))return 3*u.step/4;var c=Y2(e.view,i);return 3*c/4}var Klt={area:Dlt,bar:Plt,circle:$lt,geoshape:Rlt,image:Ilt,line:Llt,point:qlt,rect:Flt,rule:Hlt,square:Wlt,text:Glt,tick:Jlt,trail:zlt};function Qlt(t){return RV([dY,lY,bY],t.mark)?eft(t):rft(t)}var tft="faceted_path_";function eft(t){var e=S1(t.mark,t.encoding),n=rft(t,{fromPrefix:e.length>0?tft:""});return e.length>0?[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:tft+t.requestDataName(v5),data:t.requestDataName(v5),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}function nft(t){var e=t.encoding,n=t.stack,r=t.mark,i=t.markDef,o=t.config,a=e.order;if(!(!Object(xe["A"])(a)&&T0(a)&&PV(a.value)||!a&&PV(i.order)||PV(QQ("order",i,o)))){if((Object(xe["A"])(a)||M0(a))&&!n)return u0(a,{expr:"datum"});if(kY(r)){var u="horizontal"===i.orient?"y":"x",c=e[u];if(M0(c)){var s=c.sort;if(Object(xe["A"])(s))return{field:z0(c,{prefix:u,suffix:"sort_index",expr:"datum"})};if(v0(s))return{field:z0({aggregate:m1(t.encoding)?s.op:void 0,field:s.field},{expr:"datum"})};if(p0(s)){var l=t.fieldDef(s.encoding);return{field:z0(l,{expr:"datum"}),order:s.order}}return{field:z0(c,{binSuffix:t.stack&&t.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function rft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=t.mark,r=iY(t.markDef.clip,ift(t),oft(t)),i=ZQ(t.markDef),o=t.encoding.key,a=nft(t),u=Klt[n].postEncodingTransform?Klt[n].postEncodingTransform(t):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName("marks"),type:Klt[n].vgMark},r?{clip:!0}:{}),i?{style:i}:{}),o?{key:o.field}:{}),a?{sort:a}:{}),{from:{data:e.fromPrefix+t.requestDataName(v5)},encode:{update:Klt[n].encodeEntry(t)}}),u?{transform:u}:{})]}function ift(t){var e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return!!(e&&e.get("domainRaw")||n&&n.get("domainRaw"))||void 0}function oft(t){var e=t.component.projection;return!(!e||e.isFit)||void 0}function aft(t){return aft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aft(t)}function uft(t){return lft(t)||sft(t)||cft()}function cft(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function sft(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function lft(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function fft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dft(t,e,n){return e&&hft(t.prototype,e),n&&hft(t,n),t}function pft(t,e){return!e||"object"!==aft(e)&&"function"!==typeof e?vft(t):e}function vft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yft(t){return yft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yft(t)}function gft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mft(t,e)}function mft(t,e){return mft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mft(t,e)}var bft=function(t){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;fft(this,e),i=pft(this,yft(e).call(this,t,"unit",n,r,u,a,void 0,t.view)),i.specifiedScales={},i.specifiedAxes={},i.specifiedLegends={},i.specifiedProjection={},i.selection={},i.children=[];var c=AY(t.mark)?t.mark.type:t.mark,s=cst(t.encoding||{},a);i.markDef=jlt(t.mark,s,u,{graticule:t.data&&p5(t.data)});var l=i.encoding=x1(s,i.markDef);return i.size=Slt({encoding:l,size:Object.assign(Object.assign(Object.assign({},o),t.width?{width:t.width}:{}),t.height?{height:t.height}:{})}),i.stack=y3(c,l),i.specifiedScales=i.initScales(c,l),i.specifiedAxes=i.initAxes(l),i.specifiedLegends=i.initLegend(l),i.specifiedProjection=t.projection,i.selection=t.selection,i}return gft(e,t),dft(e,[{key:"scaleDomain",value:function(t){var e=this.specifiedScales[t];return e?e.domain:void 0}},{key:"axis",value:function(t){return this.specifiedAxes[t]}},{key:"legend",value:function(t){return this.specifiedLegends[t]}},{key:"initScales",value:function(t,e){return iZ.reduce((function(t,n){var r,i,o=e[n];return M0(o)?(r=o,i=o.scale):E0(o)&&(r=o.condition,i=o.condition["scale"]),r&&(t[n]=i||{}),t}),{})}},{key:"initAxes",value:function(t){return[iJ,oJ].reduce((function(e,n){var r=t[n];if(M0(r)||n===iJ&&M0(t.x2)||n===oJ&&M0(t.y2)){var i=M0(r)?r.axis:null;null!==i&&(e[n]=Object.assign({},i))}return e}),{})}},{key:"initLegend",value:function(t){return tZ.reduce((function(e,n){var r=t[n];if(r){var i=M0(r)?r.legend:E0(r)?r.condition["legend"]:null;null!==i&&!1!==i&&nZ(n)&&(e[n]=Object.assign({},i))}return e}),{})}},{key:"parseData",value:function(){this.component.data=Dst(this)}},{key:"parseLayoutSize",value:function(){ost(this)}},{key:"parseSelections",value:function(){this.component.selection=z8(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=Qlt(this)}},{key:"parseAxesAndHeaders",value:function(){this.component.axes=ylt(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return u8(this,t)}},{key:"assembleSignals",value:function(){return[].concat(uft(Y8(this)),uft(o8(this,[])))}},{key:"assembleSelectionData",value:function(t){return c8(this,t)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return n7(this)}},{key:"assembleMarks",value:function(){var t=this.component.mark||[];return this.parent&&Cot(this.parent)||(t=s8(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(t){return g1(this.encoding,t)}},{key:"fieldDef",value:function(t){var e=this.encoding[t];return e1(e)}},{key:"hasProjection",get:function(){var t=this.encoding,e=this.mark===_Y,n=t&&FJ.some((function(e){return M0(t[e])}));return e||n}},{key:"mark",get:function(){return this.markDef.type}}]),e}(Dot);function wft(t){return wft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wft(t)}function xft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oft(t,e,n){return e&&_ft(t.prototype,e),n&&_ft(t,n),t}function kft(t,e){return!e||"object"!==wft(e)&&"function"!==typeof e?Sft(t):e}function Sft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jft(t,e,n){return jft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Aft(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},jft(t,e,n||t)}function Aft(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Eft(t),null===t)break;return t}function Eft(t){return Eft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eft(t)}function Cft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mft(t,e)}function Mft(t,e){return Mft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mft(t,e)}var Dft=function(t){function e(t,n,r,i,o,a){var u;xft(this,e),u=kft(this,Eft(e).call(this,t,"layer",n,r,a,o,t.resolve,t.view));var c=Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});return u.children=t.layer.map((function(t,n){if(a3(t))return new e(t,Sft(u),u.getName("layer_"+n),c,o,a);if(zY(t))return new bft(t,Sft(u),u.getName("layer_"+n),c,o,a);throw new Error(kK.invalidSpec(t))})),u}return Cft(e,t),Oft(e,[{key:"parseData",value:function(){this.component.data=Dst(this);var t=!0,e=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.parseData()}}catch(a){e=!0,n=a}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"parseLayoutSize",value:function(){Qct(this)}},{key:"parseSelections",value:function(){var t=this;this.component.selection={};var e=!0,n=!1,r=void 0;try{for(var i,o=function(){var e=i.value;e.parseSelections(),GV(e.component.selection).forEach((function(n){t.component.selection[n]=e.component.selection[n]}))},a=this.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)o()}catch(u){n=!0,r=u}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"parseMarkGroup",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.parseMarkGroup()}}catch(a){e=!0,n=a}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"parseAxesAndHeaders",value:function(){mlt(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleSignals())}),Y8(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLayoutSignals())}),n7(this))}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleTitle",value:function(){var t=jft(Eft(e.prototype),"assembleTitle",this).call(this);if(t)return t;var n=!0,r=!1,i=void 0;try{for(var o,a=this.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(t=u.assembleTitle(),t)return t}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return l8(this,this.children.flatMap((function(t){return t.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLegends())}),ett(this))}}]),e}(Mot);function Fft(t){return Fft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fft(t)}function Tft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pft(t,e,n){return e&&Nft(t.prototype,e),n&&Nft(t,n),t}function Rft(t,e){return!e||"object"!==Fft(e)&&"function"!==typeof e?Ift(t):e}function Ift(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lft(t){return Lft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lft(t)}function zft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bft(t,e)}function Bft(t,e){return Bft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bft(t,e)}var Uft=function(t){function e(t,n,r,i,o){var a;return Tft(this,e),a=Rft(this,Lft(e).call(this,t,"repeat",n,r,o,i,t.resolve)),t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&CK(kK.REPEAT_CANNOT_SHARE_AXIS),a.repeat=t.repeat,a.children=a._initChildren(t,a.repeat,i,o),a}return zft(e,t),Pft(e,[{key:"_initChildren",value:function(t,e,n,r){var i=[],o=!Object(xe["A"])(e)&&e.row||[n?n.row:null],a=!Object(xe["A"])(e)&&e.column||[n?n.column:null],u=Object(xe["A"])(e)&&e||[n?n.repeat:null],c=!0,s=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value,p=!0,v=!1,y=void 0;try{for(var g,m=o[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=g.value,w=!0,x=!1,_=void 0;try{for(var O,k=a[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var S=O.value,j=(d?"__repeat_repeat_".concat(d):"")+(b?"__repeat_row_".concat(b):"")+(S?"__repeat_column_".concat(S):""),A={repeat:d,row:b,column:S};i.push(qft(t.spec,this,this.getName("child"+j),void 0,A,r))}}catch(E){x=!0,_=E}finally{try{w||null==k.return||k.return()}finally{if(x)throw _}}}}catch(E){v=!0,y=E}finally{try{p||null==m.return||m.return()}finally{if(v)throw y}}}}catch(E){s=!0,l=E}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}return i}},{key:"parseLayoutSize",value:function(){tst(this)}},{key:"assembleDefaultLayout",value:function(){var t=this.repeat,e=Object(xe["A"])(t)?void 0:t.column?t.column.length:1;return Object.assign(Object.assign({},e?{columns:e}:{}),{bounds:"full",align:"all"})}}]),e}(Hst);function qft(t,e,n,r,i,o){if(b0(t))return new Sst(t,e,n,i,o);if(a3(t))return new Dft(t,e,n,r,i,o);if(zY(t))return new bft(t,e,n,r,i,o);if(I2(t))return new Uft(t,e,n,i,o);if(T2(t))return new elt(t,e,n,i,o);throw new Error(kK.invalidSpec(t))}function $ft(t){return Gft(t)||Hft(t)||Wft()}function Wft(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Hft(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Gft(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Xft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.logger&&AK(e.logger),e.fieldTitle&&X0(e.fieldTitle);try{var n=t3(zV({},e.config,t.config)),r=Q3(t,n),i=o5(t,n),o=qft(r,null,"",void 0,void 0,n);return o.parse(),tit(o.component.data,o),Yft(o,Vft(t,n,i,o),t.datasets,t.usermeta)}finally{e.logger&&EK(),e.fieldTitle&&V0()}}function Vft(t,e,n,r){var i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(i&&o&&n5(n.type))if("step"===i&&"step"===o)CK(kK.droppingFit()),n.type="pad";else if("step"===i||"step"===o){var a="step"===i?"width":"height";CK(kK.droppingFit(KJ(a)));var u="width"===a?"height":"width";n.type=r5(u)}return Object.assign(Object.assign({autosize:1===GV(n).length&&n.type?n.type:n},u5(e)),u5(t))}function Yft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=t.config?i3(t.config):void 0,o=[].concat(t.assembleSelectionData([]),Gct(t.component.data,n)),a=t.assembleProjections(),u=t.assembleTitle(),c=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!0),l=t.assembleLayoutSignals();l=l.filter((function(t){return"width"!==t.name&&"height"!==t.name||void 0===t.value||(e[t.name]=+t.value,!1)}));var f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},t.description?{description:t.description}:{}),e),u?{title:u}:{}),c?{style:c}:{}),s?{encode:{update:s}}:{}),{data:o}),a.length>0?{projections:a}:{}),t.assembleGroup([].concat($ft(l),$ft(t.assembleSelectionTopLevelSignals([]))))),i?{config:i}:{}),r?{usermeta:r}:{});return{spec:f}}function Jft(t){return Jft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jft(t)}function Zft(t){return tht(t)||Qft(t)||Kft()}function Kft(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Qft(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function tht(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function eht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rht(t,e,n){return e&&nht(t.prototype,e),n&&nht(t,n),t}function iht(t,e){return!e||"object"!==Jft(e)&&"function"!==typeof e?oht(t):e}function oht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aht(t){return aht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},aht(t)}function uht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cht(t,e)}function cht(t,e){return cht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cht(t,e)}var sht=function(t){function e(){return eht(this,e),iht(this,aht(e).apply(this,arguments))}return uht(e,t),rht(e,[{key:"mapUnit",value:function(t,e){var n=e.config;if(t.encoding){var r=t.encoding,i=t.transform,o=b1(r,n),a=o.bins,u=o.timeUnits,c=o.aggregate,s=o.groupby,l=o.encoding,f=[].concat(Zft(i||[]),Zft(a),Zft(u),Zft(c.length?[{aggregate:c,groupby:s}]:[]));return Object.assign(Object.assign(Object.assign({},t),f.length>0?{transform:f}:{}),{encoding:l})}return t}}]),e}(l3),lht=new sht;function fht(t,e){return lht.map(t,{config:e})}var hht=cV.version,dht=n("81ab"),pht=n.n(dht),vht=n("ab0f"),yht="#fff",ght="#888",mht={background:"#333",title:{color:yht},style:{"guide-label":{fill:yht},"guide-title":{fill:yht}},axis:{domainColor:yht,gridColor:ght,tickColor:yht}},bht=mht,wht="#4572a7",xht={background:"#fff",arc:{fill:wht},area:{fill:wht},line:{stroke:wht,strokeWidth:2},path:{stroke:wht},rect:{fill:wht},shape:{stroke:wht},symbol:{fill:wht,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},_ht=xht,Oht="#30a2da",kht="#cbcbcb",Sht="#999",jht="#333",Aht="#f0f0f0",Eht="#333",Cht={arc:{fill:Oht},area:{fill:Oht},axis:{domainColor:kht,grid:!0,gridColor:kht,gridWidth:1,labelColor:Sht,labelFontSize:10,titleColor:jht,tickColor:kht,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Aht,group:{fill:Aht},legend:{labelColor:Eht,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Eht,titleFontSize:14,titlePadding:10},line:{stroke:Oht,strokeWidth:2},path:{stroke:Oht,strokeWidth:.5},rect:{fill:Oht},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Oht},style:{bar:{binSpacing:2,fill:Oht,stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Mht=Cht,Dht="#000",Fht={group:{fill:"#e5e5e5"},arc:{fill:Dht},area:{fill:Dht},line:{stroke:Dht},path:{stroke:Dht},rect:{fill:Dht},shape:{stroke:Dht},symbol:{fill:Dht,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Tht=Fht,Nht=22,Pht="normal",Rht="Benton Gothic, sans-serif",Iht=11.5,Lht="normal",zht="#82c6df",Bht="Benton Gothic Bold, sans-serif",Uht="normal",qht=13,$ht={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Wht={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Bht,fontSize:Nht,fontWeight:Pht},arc:{fill:zht},area:{fill:zht},line:{stroke:zht,strokeWidth:2},path:{stroke:zht},rect:{fill:zht},shape:{stroke:zht},symbol:{fill:zht,size:30},axis:{labelFont:Rht,labelFontSize:Iht,labelFontWeight:Lht,titleFont:Bht,titleFontSize:qht,titleFontWeight:Uht},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Rht,labelFontSize:Iht,symbolType:"square",titleFont:Bht,titleFontSize:qht,titleFontWeight:Uht},range:{category:$ht["category-6"],diverging:$ht["fireandice-6"],heatmap:$ht["fire-7"],ordinal:$ht["fire-7"],ramp:$ht["fire-7"]}},Hht=Wht,Ght="#ab5787",Xht="#979797",Vht={background:"#f9f9f9",arc:{fill:Ght},area:{fill:Ght},line:{stroke:Ght},path:{stroke:Ght},rect:{fill:Ght},shape:{stroke:Ght},symbol:{fill:Ght,size:30},axis:{domainColor:Xht,domainWidth:.5,gridWidth:.2,labelColor:Xht,tickColor:Xht,tickWidth:.2,titleColor:Xht},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Yht=Vht,Jht="#3e5c69",Zht={background:"#fff",arc:{fill:Jht},area:{fill:Jht},line:{stroke:Jht},path:{stroke:Jht},rect:{fill:Jht},shape:{stroke:Jht},symbol:{fill:Jht},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Kht=Zht,Qht=vht.version,tdt=n("de20"),edt="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n",ndt="vg-tooltip-element",rdt={offsetX:10,offsetY:10,id:ndt,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:idt,maxDepth:2};function idt(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function odt(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return edt.toString().replace(ndt,t)}function adt(t){return adt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},adt(t)}var udt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function cdt(t,e,n){if(Object(xe["A"])(t))return"[".concat(t.map((function(t){return e(Object(xe["H"])(t)?t:ldt(t,n))})).join(", "),"]");if(Object(xe["F"])(t)){var r="",i=t,o=i.title,a=udt(i,["title"]);o&&(r+="<h2>".concat(e(o),"</h2>"));var u=Object.keys(a);if(u.length>0){r+="<table>";var c=!0,s=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value,p=a[d];void 0!==p&&(Object(xe["F"])(p)&&(p=ldt(p,n)),r+='<tr><td class="key">'.concat(e(d),':</td><td class="value">').concat(e(p),"</td></tr>"))}}catch(v){s=!0,l=v}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}r+="</table>"}return r||"{}"}return e(t)}function sdt(t){var e=[];return function(n,r){if("object"!==adt(r)||null===r)return r;var i=e.indexOf(this)+1;return e.length=i,e.length>t?"[Object]":e.indexOf(r)>=0?"[Circular]":(e.push(r),r)}}function ldt(t,e){return JSON.stringify(t,sdt(e))}function fdt(t,e,n,r){var i=t.clientX+n;i+e.width>window.innerWidth&&(i=+t.clientX-n-e.width);var o=t.clientY+r;return o+e.height>window.innerHeight&&(o=+t.clientY-r-e.height),{x:i,y:o}}function hdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ddt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pdt(t,e,n){return e&&ddt(t.prototype,e),n&&ddt(t,n),t}var vdt=function(){function t(e){hdt(this,t),this.options=Object.assign(Object.assign({},rdt),e);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=odt(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return pdt(t,[{key:"tooltipHandler",value:function(t,e,n,r){if(null!=r&&""!==r){this.el.innerHTML=cdt(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=fdt(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),o=i.x,a=i.y;this.el.setAttribute("style","top: ".concat(a,"px; left: ").concat(o,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),t}(),ydt=(tdt.version,function(t,e,n){var r=t.open(e),i=1e4,o=250,a=~~(i/o);function u(e){e.source===r&&(a=0,t.removeEventListener("message",u,!1))}function c(){a<=0||(r.postMessage(n,"*"),setTimeout(c,o),a-=1)}t.addEventListener("message",u,!1),setTimeout(c,o)}),gdt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';n.d(e,"a",(function(){return Mdt}));var mdt=p,bdt=g,wdt=window;void 0===bdt&&wdt["vl"]&&wdt["vl"].compile&&(bdt=wdt["vl"]);var xdt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},_dt={vega:"Vega","vega-lite":"Vega-Lite"},Odt={vega:mdt.version,"vega-lite":bdt?bdt.version:"not available"},kdt={vega:function(t){return t},"vega-lite":function(t,e){return bdt.compile(t,{config:e}).spec}},Sdt='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>';function jdt(t){return"function"===typeof t}function Adt(t,e,n,r){var i="<html><head>".concat(e,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(i+t+o),a.document.title="".concat(_dt[r]," JSON Source")}function Edt(t,e){if(t.$schema){var n=pht()(t.$schema);e&&e!==n.library&&console.warn("The given visualization spec is written in ".concat(_dt[n.library],", but mode argument sets ").concat(_dt[e]||e,"."));var r=n.library;return Object(we["satisfies"])(Odt[r],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(_dt[r]," ").concat(n.version,", but the current version of ").concat(_dt[r]," is v").concat(Odt[r],".")),r}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":e||"vega"}function Cdt(t){return!!(t&&"load"in t)}function Mdt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _(this,void 0,void 0,w.a.mark((function r(){var i,o,a,u,c,s,l,f,h,d,p,v,y,g,b,x,_,O,k,S,j,A,E,C,M,D,F,T,N,P,R,I,L,z;return w.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=Cdt(n.loader)?n.loader:mdt.loader(n.loader),!mdt.isString(e)){r.next=6;break}return r.next=4,i.load(e);case 4:return o=r.sent,r.abrupt("return",Mdt(t,JSON.parse(o),n));case 6:if(n=ge()(n,e.usermeta&&e.usermeta["embedOptions"]||{}),a=n.config||{},!mdt.isString(a)){r.next=13;break}return r.next=11,i.load(a);case 11:return u=r.sent,r.abrupt("return",Mdt(t,e,Object.assign(Object.assign({},n),{config:JSON.parse(u)})));case 13:if(c=Object(xe["B"])(n.actions)?n.actions:ge()({export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},n.actions||{}),s=Object.assign(Object.assign({},xdt),n.i18n),l=n.renderer||"canvas",f=n.logLevel||mdt.Warn,h=n.downloadFileName||"visualization",!1!==n.defaultStyle&&(d="vega-embed-style",document.getElementById(d)||(p=document.createElement("style"),p.id=d,p.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?(gdt||"").toString():n.defaultStyle,document.head.appendChild(p))),n.theme&&(a=ge()(m[n.theme],a)),v=Edt(e,n.mode),y=kdt[v](e,a),"vega-lite"===v&&y.$schema&&(g=pht()(y.$schema),Object(we["satisfies"])(Odt.vega,"^".concat(g.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(g.version,", but current version is v").concat(Odt.vega,"."))),b=he(t).classed("vega-embed",!0).html(""),x=n.patch,!x){r.next=38;break}if(!(x instanceof Function)){r.next=30;break}y=x(y),r.next=38;break;case 30:if(!mdt.isString(x)){r.next=37;break}return r.next=33,i.load(x);case 33:_=r.sent,y=ge()(y,JSON.parse(_)),r.next=38;break;case 37:y=ge()(y,x);case 38:return O=mdt.parse(y,"vega-lite"===v?{}:a),k=new mdt.View(O,{loader:i,logLevel:f,renderer:l}),!1!==n.tooltip&&(S=jdt(n.tooltip)?n.tooltip:new vdt(!0===n.tooltip?{}:n.tooltip).call,k.tooltip(S)),j=n,A=j.hover,void 0===A&&(A="vega"===v),A&&(E="boolean"===typeof A?{}:A,C=E.hoverSet,M=E.updateSet,k.hover(C,M)),n&&(n.width&&k.width(n.width),n.height&&k.height(n.height),n.padding&&k.padding(n.padding)),r.next=47,k.initialize(t).runAsync();case 47:if(!1!==c){if(D=b,!1!==n.defaultStyle&&(F=b.append("details").attr("title",s.CLICK_TO_VIEW_ACTIONS),D=F,T=F.insert("summary"),T.html(Sdt),N=F.node(),document.addEventListener("click",(function(t){N.contains(t.target)||N.removeAttribute("open")}))),P=D.insert("div").attr("class","vega-actions"),!0===c||!1!==c.export)for(R=function(){var t=L[I];if(!0===c||!0===c.export||c.export[t]){var e=s["".concat(t.toUpperCase(),"_ACTION")];P.append("a").text(e).attr("href","#").attr("target","_blank").attr("download","".concat(h,".").concat(t)).on("mousedown",(function(){var e=this;k.toImageURL(t,n.scaleFactor).then((function(t){e.href=t})).catch((function(t){throw t})),Zt.preventDefault()}))}},I=0,L=["svg","png"];I<L.length;I++)R();!0!==c&&!1===c.source||P.append("a").text(s.SOURCE_ACTION).attr("href","#").on("mousedown",(function(){Adt(be()(e),n.sourceHeader||"",n.sourceFooter||"",v),Zt.preventDefault()})),"vega-lite"!==v||!0!==c&&!1===c.compiled||P.append("a").text(s.COMPILED_ACTION).attr("href","#").on("mousedown",(function(){Adt(be()(y),n.sourceHeader||"",n.sourceFooter||"","vega"),Zt.preventDefault()})),!0!==c&&!1===c.editor||(z=n.editorUrl||"https://vega.github.io/editor/",P.append("a").text(s.EDITOR_ACTION).attr("href","#").on("mousedown",(function(){ydt(window,z,{config:a,mode:v,renderer:l,spec:be()(e)}),Zt.preventDefault()})))}return r.abrupt("return",{view:k,spec:e,vgSpec:y});case 49:case"end":return r.stop()}}),r)})))}},"7bbc":function(t,e,n){function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=n("6821"),o=n("9093").f,a={}.toString,u="object"==("undefined"===typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(e){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==a.call(t)?c(t):o(i(t))}},"7cdf":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{isInteger:n("9c12")})},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"7f25":function(t,e,n){var r=n("5ca1"),i=n("d6c6"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8079:function(t,e,n){var r=n("7726"),i=n("1991").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,c="process"==n("2d95")(a);t.exports=function(){var t,e,n,s=function(){var r,i;c&&(r=a.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(s)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);n=function(){l.then(s)}}else n=function(){i.call(r,s)};else{var f=!0,h=document.createTextNode("");new o(s).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},"81ab":function(t,e,n){"use strict";function r(t){var e=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,n=e.exec(t).slice(1,3),r=n[0],i=n[1];return{library:r,version:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},8381:function(t,e,n){"use strict";var r=n("cb7c"),i=n("6a99"),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8449:function(t,e,n){"use strict";n("386b")("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},"84b4":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},"84f2":function(t,e){t.exports={}},8615:function(t,e,n){var r=n("5ca1"),i=n("504c")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"87f3":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"88ca":function(t,e,n){var r=n("86cc"),i=n("5ca1"),o=n("cb7c"),a=n("6a99");i(i.S+i.F*n("79e5")((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},"8a81":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=n("7726"),o=n("69a8"),a=n("9e1e"),u=n("5ca1"),c=n("2aba"),s=n("67ab").KEY,l=n("79e5"),f=n("5537"),h=n("7f20"),d=n("ca5a"),p=n("2b4c"),v=n("37c8"),y=n("3a72"),g=n("d4c0"),m=n("1169"),b=n("cb7c"),w=n("d3f4"),x=n("4bf8"),_=n("6821"),O=n("6a99"),k=n("4630"),S=n("2aeb"),j=n("7bbc"),A=n("11e9"),E=n("2621"),C=n("86cc"),M=n("0d58"),D=A.f,F=C.f,T=j.f,N=i.Symbol,P=i.JSON,R=P&&P.stringify,I="prototype",L=p("_hidden"),z=p("toPrimitive"),B={}.propertyIsEnumerable,U=f("symbol-registry"),q=f("symbols"),$=f("op-symbols"),W=Object[I],H="function"==typeof N&&!!E.f,G=i.QObject,X=!G||!G[I]||!G[I].findChild,V=a&&l((function(){return 7!=S(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=D(W,e);r&&delete W[e],F(t,e,n),r&&t!==W&&F(W,e,r)}:F,Y=function(t){var e=q[t]=S(N[I]);return e._k=t,e},J=H&&"symbol"==r(N.iterator)?function(t){return"symbol"==r(t)}:function(t){return t instanceof N},Z=function(t,e,n){return t===W&&Z($,e,n),b(t),e=O(e,!0),b(n),o(q,e)?(n.enumerable?(o(t,L)&&t[L][e]&&(t[L][e]=!1),n=S(n,{enumerable:k(0,!1)})):(o(t,L)||F(t,L,k(1,{})),t[L][e]=!0),V(t,e,n)):F(t,e,n)},K=function(t,e){b(t);var n,r=g(e=_(e)),i=0,o=r.length;while(o>i)Z(t,n=r[i++],e[n]);return t},Q=function(t,e){return void 0===e?S(t):K(S(t),e)},tt=function(t){var e=B.call(this,t=O(t,!0));return!(this===W&&o(q,t)&&!o($,t))&&(!(e||!o(this,t)||!o(q,t)||o(this,L)&&this[L][t])||e)},et=function(t,e){if(t=_(t),e=O(e,!0),t!==W||!o(q,e)||o($,e)){var n=D(t,e);return!n||!o(q,e)||o(t,L)&&t[L][e]||(n.enumerable=!0),n}},nt=function(t){var e,n=T(_(t)),r=[],i=0;while(n.length>i)o(q,e=n[i++])||e==L||e==s||r.push(e);return r},rt=function(t){var e,n=t===W,r=T(n?$:_(t)),i=[],a=0;while(r.length>a)!o(q,e=r[a++])||n&&!o(W,e)||i.push(q[e]);return i};H||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function e(n){this===W&&e.call($,n),o(this,L)&&o(this[L],t)&&(this[L][t]=!1),V(this,t,k(1,n))};return a&&X&&V(W,t,{configurable:!0,set:e}),Y(t)},c(N[I],"toString",(function(){return this._k})),A.f=et,C.f=Z,n("9093").f=j.f=nt,n("52a7").f=tt,E.f=rt,a&&!n("2d00")&&c(W,"propertyIsEnumerable",tt,!0),v.f=function(t){return Y(p(t))}),u(u.G+u.W+u.F*!H,{Symbol:N});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;it.length>ot;)p(it[ot++]);for(var at=M(p.store),ut=0;at.length>ut;)y(at[ut++]);u(u.S+u.F*!H,"Symbol",{for:function(t){return o(U,t+="")?U[t]:U[t]=N(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),u(u.S+u.F*!H,"Object",{create:Q,defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:et,getOwnPropertyNames:nt,getOwnPropertySymbols:rt});var ct=l((function(){E.f(1)}));u(u.S+u.F*ct,"Object",{getOwnPropertySymbols:function(t){return E.f(x(t))}}),P&&u(u.S+u.F*(!H||l((function(){var t=N();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!J(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,R.apply(P,r)}}),N[I][z]||n("32e9")(N[I],z,N[I].valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"8e6e":function(t,e,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),a=n("11e9"),u=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),c=a.f,s=i(r),l={},f=0;while(s.length>f)n=c(r,e=s[f++]),void 0!==n&&u(l,e,n);return l}})},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},9152:function(t,e){e.read=function(t,e,n,r,i){var o,a,u=8*i-r-1,c=(1<<u)-1,s=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=u;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-s;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=s}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,u,c,s=8*o-i-1,l=(1<<s)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+f>=1?h/c:h*Math.pow(2,1-f),e*c>=2&&(a++,c/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*c-1)*Math.pow(2,i),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&u,d+=p,u/=256,i-=8);for(a=a<<i|u,s+=i;s>0;t[n+d]=255&a,d+=p,a/=256,s-=8);t[n+d-p]|=128*v}},"91ca":function(t,e,n){var r=n("96fb"),i=Math.pow,o=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),c=i(2,-126),s=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<c?l*s(i/c/a)*c*a:(e=(1+a/o)*i,n=e-(e-i),n>u||n!=n?l*(1/0):l*n)}},9253:function(t,e,n){var r=n("86cc"),i=n("11e9"),o=n("38fd"),a=n("69a8"),u=n("5ca1"),c=n("4630"),s=n("cb7c"),l=n("d3f4");function f(t,e,n){var u,h,d=arguments.length<4?t:arguments[3],p=i.f(s(t),e);if(!p){if(l(h=o(t)))return f(h,e,n,d);p=c(0)}if(a(p,"value")){if(!1===p.writable||!l(d))return!1;if(u=i.f(d,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,r.f(d,e,u)}else r.f(d,e,c(0,n));return!0}return void 0!==p.set&&(p.set.call(d,n),!0)}u(u.S,"Reflect",{set:f})},9275:function(t,e,n){var r=n("5ca1"),i=n("8b97");i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},9278:function(t,e,n){var r=n("5ca1");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},"96cf":function(t,e,n){(function(t){function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n=function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=S(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(M([])));x&&x!==r&&i.call(x,a)&&(b=x);var _=m.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t){function n(r,o,a,u){var c=l(t[r],t,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"===e(f)&&i.call(f,"__await")?Promise.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):Promise.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var r;function o(t,e){function i(){return new Promise((function(r,i){n(t,e,r,i)}))}return r=r?r.then(i,i):i()}this._invoke=o}function S(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return D()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function j(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:n,done:!0}}return g.prototype=_.constructor=m,m.constructor=g,m[c]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},O(k.prototype),k.prototype[u]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,i){var o=new k(s(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}).call(this,n("62e4")(t))},"96fb":function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},9744:function(t,e,n){"use strict";var r=n("4588"),i=n("be13");t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"990b":function(t,e,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},9986:function(t,e,n){var r=n("6821"),i=n("11e9").f;n("5eda")("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},"9aea":function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},"9b0d":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n("276f");function i(e){return!("function"!==typeof t||!Object(r["D"])(t.isBuffer))&&t.isBuffer(e)}function o(t,e){var n=e&&e.property?Object(r["t"])(e.property):r["x"];return Object(r["F"])(t)&&!i(t)?a(n(t)):n(JSON.parse(t))}function a(t,e){return e&&e.copy?JSON.parse(JSON.stringify(t)):t}o.responseType="json"}).call(this,n("b639").Buffer)},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c12":function(t,e,n){var r=n("d3f4"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},"9c29":function(t,e,n){n("ec30")("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9c86":function(t,e,n){"use strict";n("386b")("big",(function(t){return function(){return t(this,"big","","")}}))},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9ec8":function(t,e,n){"use strict";n("386b")("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},"9f3c":function(t,e,n){var r=n("5ca1"),i=n("2d5c");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},a032:function(t,e,n){"use strict";var r=n("5ca1"),i=n("02f4")(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},a19f:function(t,e,n){var r=n("5ca1"),i=n("cb7c"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},a25f:function(t,e,n){var r=n("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a34a:function(t,e,n){t.exports=n("96cf")},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),a=n("4588"),u=n("0390"),c=n("5f1b"),s=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=v(n,t,this,e);if(i.done)return i.value;var f=r(t),h=String(this),d="function"===typeof e;d||(e=String(e));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}var b=[];while(1){var w=c(f,h);if(null===w)break;if(b.push(w),!g)break;var x=String(w[0]);""===x&&(f.lastIndex=u(h,o(f.lastIndex),m))}for(var _="",O=0,k=0;k<b.length;k++){w=b[k];for(var S=String(w[0]),j=s(l(a(w.index),h.length),0),A=[],E=1;E<w.length;E++)A.push(p(w[E]));var C=w.groups;if(d){var M=[S].concat(A,j,h);void 0!==C&&M.push(C);var D=String(e.apply(void 0,M))}else D=y(S,h,j,A,C,e);j>=O&&(_+=h.slice(O,j)+D,O=j+S.length)}return _+h.slice(O)}];function y(t,e,r,o,a,u){var c=r+t.length,s=o.length,l=d;return void 0!==a&&(a=i(a),l=h),n.call(u,l,(function(n,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":u=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>s){var h=f(l/10);return 0===h?n:h<=s?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}u=o[l-1]}return void 0===u?"":u}))}}))},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},a69f:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},a87b:function(t){t.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"4.0.0-beta.2","collaborators":["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com/)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"scripts":{"build":"yarn build:only","build:only":"yarn tsc:src && rollup -c","postbuild":"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && yarn schema","build:examples":"yarn build:only","postbuild:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","build:examples-full":"yarn build:only","postbuild:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn data && bundle exec jekyll build -q && scripts/generate-toc","build:site":"yarn tsc:site && rollup -c site/rollup.config.js","build:versions":"scripts/update-version.sh","clean":"rm -rf build && rm -f examples/compiled/*.png && find site/examples ! -name \'index.md\' -type f -delete","data":"rsync -r node_modules/vega-datasets/data/* data","deploy":"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh","schema":"mkdir -p build && ts-json-schema-generator -c -f tsconfig.json -p src/index.ts -t TopLevelSpec > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json _data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn build:site && yarn build:toc && yarn build:versions && scripts/create-example-pages","site":"bundle exec jekyll serve --incremental","tsc:src":"tsc -b src/tsconfig.src.json","tsc:site":"tsc -b site/tsconfig.site.json","prettierbase":"prettier \'{src,test,test-runtime,site,typings}/**/*.{md,css}\'","eslintbase":"eslint \'{src,test,test-runtime,site,typings}/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/","test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch:build":"yarn build:only && concurrently --kill-others -n Typescript,Rollup \'yarn tsc:src -w\' \'rollup -c -w\'","watch:site":"concurrently --kill-others -n Typescript,Rollup \'yarn tsc:site -w\' \'rollup -c site/rollup.config.js -w\'","watch:test":"jest --watch"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@types/chai":"^4.2.1","@types/d3":"^5.7.2","@types/highlight.js":"^9.12.3","@types/jest":"^24.0.18","@types/jest-environment-puppeteer":"^4.3.1","@types/mkdirp":"^0.5.2","@types/node":"^12.7.4","@types/puppeteer":"^1.19.1","@typescript-eslint/eslint-plugin":"^2.1.0","@typescript-eslint/parser":"^2.1.0","ajv":"^6.10.2","chai":"^4.2.0","cheerio":"^1.0.0-rc.2","codecov":"^3.5.0","concurrently":"^4.1.2","d3":"^5.11.0","eslint":"^6.3.0","eslint-config-prettier":"^6.2.0","eslint-plugin-prettier":"^3.1.0","highlight.js":"^9.15.10","http-server":"^0.11.1","jest":"^24.9.0","jest-puppeteer":"^4.3.0","mkdirp":"^0.5.1","prettier":"^1.18.2","puppeteer":"^1.19.0","rollup":"^1.20.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-sourcemaps":"^0.4.2","rollup-plugin-terser":"^5.1.1","svg2png-many":"^0.0.7","terser":"^4.2.1","ts-jest":"^24.0.2","ts-json-schema-generator":"^0.52.14","typescript":"~3.6.2","vega-cli":"^5.5.3","vega-datasets":"^1.25.0","vega-embed":"^5.1.2","vega-tooltip":"^0.19.1","yaml-front-matter":"^4.0.0"},"dependencies":{"@types/clone":"~0.1.30","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~2.0.1","fast-json-stable-stringify":"~2.0.0","json-stringify-pretty-compact":"~2.0.0","tslib":"~1.10.0","vega-event-selector":"~2.0.1","vega-expression":"~2.6.1","vega-typings":"~0.8.1","vega-util":"~1.11.1","yargs":"~14.0.0"},"peerDependencies":{"vega":"^5.5.0"},"jest":{"preset":"jest-puppeteer","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false}}')},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),u="["+a+"]",c="​",s=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(t,e,n){var i={},u=o((function(){return!!a[t]()||c[t]()!=c})),s=i[t]=u?e(h):a[t];n&&(i[n]=s),r(r.P+r.F*u,"String",i)},h=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ab0f:function(t){t.exports=JSON.parse('{"name":"vega-themes","version":"2.4.0","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"http://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"browser-sync":"^2.26.7","concurrently":"^4.1.2","gh-pages":"^2.1.1","rollup":"^1.20.3","rollup-plugin-json":"^4.0.0","terser":"^4.2.1","typescript":"~3.5.3","vega":"^5.5.2","vega-lite":"^4.0.0-beta.1","vega-lite-dev-config":"^0.2.5"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},ac4d:function(t,e,n){n("3a72")("asyncIterator")},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),u=n("32e9"),c=n("84f2"),s=n("2b4c"),l=s("iterator"),f=s("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var y,g=p[v],m=d[g],b=a[g],w=b&&b.prototype;if(w&&(w[l]||u(w,l,h),w[f]||u(w,f,g),c[g]=h,m))for(y in r)w[y]||o(w,y,r[y],!0)}},aef6:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="endsWith",u=""[a];r(r.P+r.F*n("5147")(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),c=void 0===n?r:Math.min(i(n),r),s=String(t);return u?u.call(e,s,c):e.slice(c-s.length,c)===s}})},af56:function(t,e,n){n("ec30")("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},b05c:function(t,e,n){n("ec30")("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b1b1:function(t,e,n){var r=n("5ca1"),i=n("9c12"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},b39a:function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b54a:function(t,e,n){"use strict";n("386b")("link",(function(t){return function(e){return t(this,"a","href",e)}}))},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function u(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(u()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?y(t,e,n,r):"string"===typeof e?p(t,e,n):g(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,r){return f(e),e<=0?c(t,e):void 0!==n?"string"===typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}function d(t,e){if(f(e),t=c(t,e<0?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n);t=c(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function v(t,e){var n=e.length<0?0:0|m(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function y(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=v(t,e),t}function g(t,e){if(s.isBuffer(e)){var n=0|m(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):v(t,e);if("Buffer"===e.type&&o(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),s.alloc(+t)}function w(t,e){if(s.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return J(t).length;e=(""+e).toLowerCase(),r=!0}}function x(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return F(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function O(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:k(t,e,n,r,i);if("number"===typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):k(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(t,e,n,r,i){var o,a=1,u=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,c/=2,n/=2}function s(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<u;o++)if(s(t,o)===s(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>u&&(n=u-c),o=n;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(s(t,o+h)!==s(e,h)){f=!1;break}if(f)return o}return-1}function S(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function j(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function A(t,e,n,r){return tt(Z(e),t,n,r)}function E(t,e,n,r){return A(t,e,n,r)}function C(t,e,n,r){return tt(Q(e),t,n,r)}function M(t,e,n,r){return tt(K(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function F(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var o,a,u,c,s=t[i],l=null,f=s>239?4:s>223?3:s>191?2:1;if(i+f<=n)switch(f){case 1:s<128&&(l=s);break;case 2:o=t[i+1],128===(192&o)&&(c=(31&s)<<6|63&o,c>127&&(l=c));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(c=(15&s)<<12|(63&o)<<6|63&a,c>2047&&(c<55296||c>57343)&&(l=c));break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&u)&&(c=(15&s)<<18|(63&o)<<12|(63&a)<<6|63&u,c>65535&&c<1114112&&(l=c))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return N(r)}e.Buffer=s,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=u(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return l(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return h(null,t,e,n)},s.allocUnsafe=function(t){return d(null,t)},s.allocUnsafeSlow=function(t){return d(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=w,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?F(this,0,t):x.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,u=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return O(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return O(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,t,e,n);case"utf8":case"utf-8":return j(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function N(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function z(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function q(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function $(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(t,e,n,r,o){return o||$(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function H(t,e,n,r,o){return o||$(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=s.prototype;else{var i=e-t;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;B(this,t,e,n,i,0)}var o=1,a=0;this[e]=255&t;while(++a<n&&(o*=256))this[e+a]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;B(this,t,e,n,i,0)}var o=n-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=0,a=1,u=0;this[e]=255&t;while(++o<n&&(a*=256))t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=n-1,a=1,u=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return W(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return W(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:J(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function X(t){if(t=V(t).replace(G,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function K(t,e){for(var n,r,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(t){return r.toByteArray(X(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("c8ba"))},b6e4:function(t,e,n){n("ec30")("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},b9a1:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("6a99"),a=n("38fd"),u=n("11e9").f;n("9e1e")&&r(r.P+n("c5b4"),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=u(n,r))return e.get}while(n=a(n))}})},ba16:function(t,e,n){var r=n("5ca1"),i=n("11e9").f,o=n("cb7c");r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},ba92:function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),u=i(t,a),c=i(e,a),s=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===s?a:i(s,a))-c,a-u),f=1;c<u&&u<c+l&&(f=-1,c+=l-1,u+=l-1);while(l-- >0)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},bcaa:function(t,e,n){var r=n("cb7c"),i=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c02b:function(t,e,n){"use strict";var r=n("643e"),i=n("b39a"),o="WeakSet";n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},c26b:function(t,e,n){"use strict";var r=n("86cc").f,i=n("2aeb"),o=n("dcbc"),a=n("9b43"),u=n("f605"),c=n("4a59"),s=n("01f9"),l=n("d53b"),f=n("7a56"),h=n("9e1e"),d=n("67ab").fastKey,p=n("b39a"),v=h?"_s":"size",y=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&c(r,n,t[s],t)}));return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!y(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){s(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(e)}}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var u,c=r(e),s=i(c.length),l=o(a,s);if(t&&n!=n){while(s>l)if(u=c[l++],u!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},c5b4:function(t,e,n){"use strict";t.exports=n("2d00")||!n("79e5")((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n("7726")[t]}))},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),u=n("6a99"),c=n("79e5"),s=n("9093").f,l=n("11e9").f,f=n("86cc").f,h=n("aa77").trim,d="Number",p=r[d],v=p,y=p.prototype,g=o(n("2aeb")(y))==d,m="trim"in String.prototype,b=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():h(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),s=0,l=c.length;s<l;s++)if(a=c.charCodeAt(s),a<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?c((function(){y.valueOf.call(n)})):o(n)!=d)?a(new v(b(e)),n,p):b(e)};for(var w,x=n("9e1e")?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)i(v,w=x[_])&&!i(p,w)&&f(p,w,l(v,w));p.prototype=y,y.constructor=p,n("2aba")(r,d,p)}},c66f:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0f88"),o=n("ed0b"),a=n("cb7c"),u=n("77f1"),c=n("9def"),s=n("d3f4"),l=n("7726").ArrayBuffer,f=n("ebd6"),h=o.ArrayBuffer,d=o.DataView,p=i.ABV&&l.isView,v=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||s(t)&&y in t}}),r(r.P+r.U+r.F*n("79e5")((function(){return!new h(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);var n=a(this).byteLength,r=u(t,n),i=u(void 0===e?n:e,n),o=new(f(this,h))(c(i-r)),s=new d(this),l=new d(o),p=0;while(r<i)l.setUint8(p++,s.getUint8(r++));return o}}),n("7a56")(g)},c698:function(t,e,n){var r=n("5ca1");r(r.S,"Reflect",{ownKeys:n("990b")})},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c7c6:function(t,e,n){var r=n("5ca1"),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){var n,r,o=0,a=0,u=arguments.length,c=0;while(a<u)n=i(arguments[a++]),c<n?(r=c/n,o=o*r*r+1,c=n):n>0?(r=n/c,o+=r*r):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},c7c62:function(t,e,n){var r=n("5ca1"),i=n("2d5c"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},c8ba:function(t,e){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"===("undefined"===typeof window?"undefined":n(window))&&(r=window)}t.exports=r},c8ce:function(t,e,n){var r=n("2b4c")("toPrimitive"),i=Date.prototype;r in i||n("32e9")(i,r,n("8381"))},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);while(e.length>c)r(u,n=e[c++])&&(~o(s,n)||s.push(n));return s}},cf6a:function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},d04f:function(t,e,n){n("7a56")("Array")},d0b0:function(t,e,n){"use strict";n("386b")("italics",(function(t){return function(){return t(this,"i","","")}}))},d185:function(t,e,n){var r=n("11e9"),i=n("38fd"),o=n("69a8"),a=n("5ca1"),u=n("d3f4"),c=n("cb7c");function s(t,e){var n,a,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=r.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(a=i(t))?s(a,e,l):void 0}a(a.S,"Reflect",{get:s})},d263:function(t,e,n){"use strict";n("386b")("fixed",(function(t){return function(){return t(this,"tt","","")}}))},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"===typeof t}},d4c0:function(t,e,n){var r=n("0d58"),i=n("2621"),o=n("52a7");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,u=n(t),c=o.f,s=0;while(u.length>s)c.call(t,a=u[s++])&&e.push(a)}return e}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d6c6:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},d752:function(t,e,n){var r=n("7726").parseFloat,i=n("aa77").trim;t.exports=1/r(n("fdef")+"-0")!==-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9ab:function(t,e,n){var r=n("5ca1"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},db97:function(t,e,n){var r=n("5ca1");r(r.S,"Object",{is:n("83a1")})},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},de20:function(t){t.exports=JSON.parse('{"name":"vega-tooltip","version":"0.19.1","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'{src,test,types}/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@types/jest":"^24.0.18","browser-sync":"^2.26.7","concurrently":"^4.1.2","gh-pages":"^2.1.1","jest":"^24.9.0","node-sass":"^4.12.0","path":"^0.12.7","rollup":"^1.20.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","terser":"^4.2.1","ts-jest":"^24.0.2","typescript":"^3.6.2","vega-datasets":"^1.25.0","vega-lite-dev-config":"^0.2.5","vega-typings":"^0.8.1"},"dependencies":{"vega-util":"^1.11.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},df1b:function(t,e,n){var r=n("5ca1"),i=n("d8e8"),o=n("cb7c"),a=(n("7726").Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n("79e5")((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),c=o(n);return a?a(r,e,c):u.call(r,e,c)}})},e0b8:function(t,e,n){"use strict";var r=n("7726"),i=n("5ca1"),o=n("2aba"),a=n("dcbc"),u=n("67ab"),c=n("4a59"),s=n("f605"),l=n("d3f4"),f=n("79e5"),h=n("5cc5"),d=n("7f20"),p=n("5dbc");t.exports=function(t,e,n,v,y,g){var m=r[t],b=m,w=y?"set":"add",x=b&&b.prototype,_={},O=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||x.forEach&&!f((function(){(new b).entries().next()})))){var k=new b,S=k[w](g?{}:-0,1)!=k,j=f((function(){k.has(1)})),A=h((function(t){new b(t)})),E=!g&&f((function(){var t=new b,e=5;while(e--)t[w](e,e);return!t.has(-0)}));A||(b=e((function(e,n){s(e,b,t);var r=p(new m,e,b);return void 0!=n&&c(n,y,r[w],r),r})),b.prototype=x,x.constructor=b),(j||E)&&(O("delete"),O("has"),y&&O("get")),(E||S)&&O(w),g&&x.clear&&delete x.clear}else b=v.getConstructor(e,t,y,w),a(b.prototype,n),u.NEED=!0;return d(b,t),_[t]=b,i(i.G+i.W+i.F*(b!=m),_),g||v.setStrong(b,t,y),b}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e4f7:function(t,e,n){var r=n("4bf8"),i=n("38fd");n("5eda")("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},e804:function(t,e,n){"use strict";var r=n("5ca1"),i=n("f1ae");r(r.S+r.F*n("79e5")((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);while(e>t)i(n,t,arguments[t++]);return n.length=e,n}})},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ebd6:function(t,e,n){var r=n("cb7c"),i=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},ebde:function(t,e,n){var r=n("11e9"),i=n("5ca1"),o=n("cb7c");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},ec30:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}if(n("9e1e")){var i=n("2d00"),o=n("7726"),a=n("79e5"),u=n("5ca1"),c=n("0f88"),s=n("ed0b"),l=n("9b43"),f=n("f605"),h=n("4630"),d=n("32e9"),p=n("dcbc"),v=n("4588"),y=n("9def"),g=n("09fa"),m=n("77f1"),b=n("6a99"),w=n("69a8"),x=n("23c6"),_=n("d3f4"),O=n("4bf8"),k=n("33a4"),S=n("2aeb"),j=n("38fd"),A=n("9093").f,E=n("27ee"),C=n("ca5a"),M=n("2b4c"),D=n("0a49"),F=n("c366"),T=n("ebd6"),N=n("cadf"),P=n("84f2"),R=n("5cc5"),I=n("7a56"),L=n("36bd"),z=n("ba92"),B=n("86cc"),U=n("11e9"),q=B.f,$=U.f,W=o.RangeError,H=o.TypeError,G=o.Uint8Array,X="ArrayBuffer",V="Shared"+X,Y="BYTES_PER_ELEMENT",J="prototype",Z=Array[J],K=s.ArrayBuffer,Q=s.DataView,tt=D(0),et=D(2),nt=D(3),rt=D(4),it=D(5),ot=D(6),at=F(!0),ut=F(!1),ct=N.values,st=N.keys,lt=N.entries,ft=Z.lastIndexOf,ht=Z.reduce,dt=Z.reduceRight,pt=Z.join,vt=Z.sort,yt=Z.slice,gt=Z.toString,mt=Z.toLocaleString,bt=M("iterator"),wt=M("toStringTag"),xt=C("typed_constructor"),_t=C("def_constructor"),Ot=c.CONSTR,kt=c.TYPED,St=c.VIEW,jt="Wrong length!",At=D(1,(function(t,e){return Ft(T(t,t[_t]),e)})),Et=a((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Ct=!!G&&!!G[J].set&&a((function(){new G(1).set({})})),Mt=function(t,e){var n=v(t);if(n<0||n%e)throw W("Wrong offset!");return n},Dt=function(t){if(_(t)&&kt in t)return t;throw H(t+" is not a typed array!")},Ft=function(t,e){if(!(_(t)&&xt in t))throw H("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Nt(T(t,t[_t]),e)},Nt=function(t,e){var n=0,r=e.length,i=Ft(t,r);while(r>n)i[n]=e[n++];return i},Pt=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,r,i,o,a,u=O(t),c=arguments.length,s=c>1?arguments[1]:void 0,f=void 0!==s,h=E(u);if(void 0!=h&&!k(h)){for(a=h.call(u),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);u=r}for(f&&c>2&&(s=l(s,arguments[2],2)),e=0,n=y(u.length),i=Ft(this,n);n>e;e++)i[e]=f?s(u[e],e):u[e];return i},It=function(){var t=0,e=arguments.length,n=Ft(this,e);while(e>t)n[t]=arguments[t++];return n},Lt=!!G&&a((function(){mt.call(new G(1))})),zt=function(){return mt.apply(Lt?yt.call(Dt(this)):Dt(this),arguments)},Bt={copyWithin:function(t,e){return z.call(Dt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Dt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Dt(this),arguments)},filter:function(t){return Tt(this,et(Dt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(Dt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return ot(Dt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){tt(Dt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Dt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Dt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Dt(this),arguments)},lastIndexOf:function(t){return ft.apply(Dt(this),arguments)},map:function(t){return At(Dt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Dt(this),arguments)},reduceRight:function(t){return dt.apply(Dt(this),arguments)},reverse:function(){var t,e=this,n=Dt(e).length,r=Math.floor(n/2),i=0;while(i<r)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return nt(Dt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return vt.call(Dt(this),t)},subarray:function(t,e){var n=Dt(this),r=n.length,i=m(t,r);return new(T(n,n[_t]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((void 0===e?r:m(e,r))-i))}},Ut=function(t,e){return Tt(this,yt.call(Dt(this),t,e))},qt=function(t){Dt(this);var e=Mt(arguments[1],1),n=this.length,r=O(t),i=y(r.length),o=0;if(i+e>n)throw W(jt);while(o<i)this[e+o]=r[o++]},$t={entries:function(){return lt.call(Dt(this))},keys:function(){return st.call(Dt(this))},values:function(){return ct.call(Dt(this))}},Wt=function(t,e){return _(t)&&t[kt]&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Wt(t,e=b(e,!0))?h(2,t[e]):$(t,e)},Gt=function(t,e,n){return!(Wt(t,e=b(e,!0))&&_(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)};Ot||(U.f=Ht,B.f=Gt),u(u.S+u.F*!Ot,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Gt}),a((function(){gt.call({})}))&&(gt=mt=function(){return pt.call(this)});var Xt=p({},Bt);p(Xt,$t),d(Xt,bt,$t.values),p(Xt,{slice:Ut,set:qt,constructor:function(){},toString:gt,toLocaleString:zt}),Pt(Xt,"buffer","b"),Pt(Xt,"byteOffset","o"),Pt(Xt,"byteLength","l"),Pt(Xt,"length","e"),q(Xt,wt,{get:function(){return this[kt]}}),t.exports=function(t,e,n,r){r=!!r;var s=t+(r?"Clamped":"")+"Array",l="get"+t,h="set"+t,p=o[s],v=p||{},m=p&&j(p),b=!p||!c.ABV,w={},O=p&&p[J],k=function(t,n){var r=t._d;return r.v[l](n*e+r.o,Et)},E=function(t,n,i){var o=t._d;r&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[h](n*e+o.o,i,Et)},C=function(t,e){q(t,e,{get:function(){return k(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};b?(p=n((function(t,n,r,i){f(t,p,s,"_d");var o,a,u,c,l=0,h=0;if(_(n)){if(!(n instanceof K||(c=x(n))==X||c==V))return kt in n?Nt(p,n):Rt.call(p,n);o=n,h=Mt(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw W(jt);if(a=v-h,a<0)throw W(jt)}else if(a=y(i)*e,a+h>v)throw W(jt);u=a/e}else u=g(n),a=u*e,o=new K(a);d(t,"_d",{b:o,o:h,l:a,e:u,v:new Q(o)});while(l<u)C(t,l++)})),O=p[J]=S(Xt),d(O,"constructor",p)):a((function(){p(1)}))&&a((function(){new p(-1)}))&&R((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return f(t,p,s),_(n)?n instanceof K||(o=x(n))==X||o==V?void 0!==i?new v(n,Mt(r,e),i):void 0!==r?new v(n,Mt(r,e)):new v(n):kt in n?Nt(p,n):Rt.call(p,n):new v(g(n))})),tt(m!==Function.prototype?A(v).concat(A(m)):A(v),(function(t){t in p||d(p,t,v[t])})),p[J]=O,i||(O.constructor=p));var M=O[bt],D=!!M&&("values"==M.name||void 0==M.name),F=$t.values;d(p,xt,!0),d(O,kt,s),d(O,St,!0),d(O,_t,p),(r?new p(1)[wt]==s:wt in O)||q(O,wt,{get:function(){return s}}),w[s]=p,u(u.G+u.W+u.F*(p!=v),w),u(u.S,s,{BYTES_PER_ELEMENT:e}),u(u.S+u.F*a((function(){v.of.call(p,1)})),s,{from:Rt,of:It}),Y in O||d(O,Y,e),u(u.P,s,Bt),I(s),u(u.P+u.F*Ct,s,{set:qt}),u(u.P+u.F*!D,s,$t),i||O.toString==gt||(O.toString=gt),u(u.P+u.F*a((function(){new p(1).slice()})),s,{slice:Ut}),u(u.P+u.F*(a((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!a((function(){O.toLocaleString.call([1,2])}))),s,{toLocaleString:zt}),P[s]=D?M:F,i||D||d(O,bt,F)}}else t.exports=function(){}},ed0b:function(t,e,n){"use strict";var r=n("7726"),i=n("9e1e"),o=n("2d00"),a=n("0f88"),u=n("32e9"),c=n("dcbc"),s=n("79e5"),l=n("f605"),f=n("4588"),h=n("9def"),d=n("09fa"),p=n("9093").f,v=n("86cc").f,y=n("36bd"),g=n("7f20"),m="ArrayBuffer",b="DataView",w="prototype",x="Wrong length!",_="Wrong index!",O=r[m],k=r[b],S=r.Math,j=r.RangeError,A=r.Infinity,E=O,C=S.abs,M=S.pow,D=S.floor,F=S.log,T=S.LN2,N="buffer",P="byteLength",R="byteOffset",I=i?"_b":N,L=i?"_l":P,z=i?"_o":R;function B(t,e,n){var r,i,o,a=new Array(n),u=8*n-e-1,c=(1<<u)-1,s=c>>1,l=23===e?M(2,-24)-M(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for(t=C(t),t!=t||t===A?(i=t!=t?1:0,r=c):(r=D(F(t)/T),t*(o=M(2,-r))<1&&(r--,o*=2),t+=r+s>=1?l/o:l*M(2,1-s),t*o>=2&&(r++,o/=2),r+s>=c?(i=0,r=c):r+s>=1?(i=(t*o-1)*M(2,e),r+=s):(i=t*M(2,s-1)*M(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,u+=e;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*h,a}function U(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,u=i-7,c=n-1,s=t[c--],l=127&s;for(s>>=7;u>0;l=256*l+t[c],c--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=e;u>0;r=256*r+t[c],c--,u-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:s?-A:A;r+=M(2,e),l-=a}return(s?-1:1)*r*M(2,l-e)}function q(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function $(t){return[255&t]}function W(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return B(t,52,8)}function X(t){return B(t,23,4)}function V(t,e,n){v(t[w],e,{get:function(){return this[n]}})}function Y(t,e,n,r){var i=+n,o=d(i);if(o+e>t[L])throw j(_);var a=t[I]._b,u=o+t[z],c=a.slice(u,u+e);return r?c:c.reverse()}function J(t,e,n,r,i,o){var a=+n,u=d(a);if(u+e>t[L])throw j(_);for(var c=t[I]._b,s=u+t[z],l=r(+i),f=0;f<e;f++)c[s+f]=l[o?f:e-f-1]}if(a.ABV){if(!s((function(){O(1)}))||!s((function(){new O(-1)}))||s((function(){return new O,new O(1.5),new O(NaN),O.name!=m}))){O=function(t){return l(this,O),new E(d(t))};for(var Z,K=O[w]=E[w],Q=p(E),tt=0;Q.length>tt;)(Z=Q[tt++])in O||u(O,Z,E[Z]);o||(K.constructor=O)}var et=new k(new O(2)),nt=k[w].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||c(k[w],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else O=function(t){l(this,O,m);var e=d(t);this._b=y.call(new Array(e),0),this[L]=e},k=function(t,e,n){l(this,k,b),l(t,O,b);var r=t[L],i=f(e);if(i<0||i>r)throw j("Wrong offset!");if(n=void 0===n?r-i:h(n),i+n>r)throw j(x);this[I]=t,this[z]=i,this[L]=n},i&&(V(O,P,"_l"),V(k,N,"_b"),V(k,P,"_l"),V(k,R,"_o")),c(k[w],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return q(Y(this,4,t,arguments[1]))},getUint32:function(t){return q(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return U(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return U(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){J(this,1,t,$,e)},setUint8:function(t,e){J(this,1,t,$,e)},setInt16:function(t,e){J(this,2,t,W,e,arguments[2])},setUint16:function(t,e){J(this,2,t,W,e,arguments[2])},setInt32:function(t,e){J(this,4,t,H,e,arguments[2])},setUint32:function(t,e){J(this,4,t,H,e,arguments[2])},setFloat32:function(t,e){J(this,4,t,X,e,arguments[2])},setFloat64:function(t,e){J(this,8,t,G,e,arguments[2])}});g(O,m),g(k,b),u(k[w],a.VIEW,!0),e[m]=O,e[b]=k},ed50:function(t,e,n){"use strict";var r=n("5ca1"),i=n("2e08"),o=n("a25f"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},ee1d:function(t,e,n){var r=n("5ca1");r(r.S,"Number",{isNaN:function(t){return t!=t}})},f0c1:function(t,e,n){"use strict";var r=n("d8e8"),i=n("d3f4"),o=n("31f4"),a=[].slice,u={},c=function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function r(){var i=n.concat(a.call(arguments));return this instanceof r?c(e,i.length,i):o(e,i,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},f161:function(t){t.exports=JSON.parse('{"a":"5.6.0"}')},f1ae:function(t,e,n){"use strict";var r=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},f28c:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}})();var s,l=[],f=!1,h=-1;function d(){f&&s&&(f=!1,s.length?l=s.concat(l):h=-1,l.length&&p())}function p(){if(!f){var t=u(d);f=!0;var e=l.length;while(e){s=l,l=[];while(++h<e)s&&s[h].run();h=-1,e=l.length}s=null,f=!1,c(t)}}function v(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new v(t,e)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},f386:function(t,e,n){"use strict";n("386b")("small",(function(t){return function(){return t(this,"small","","")}}))},f400:function(t,e,n){"use strict";var r=n("c26b"),i=n("b39a"),o="Map";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},f4ff:function(t,e,n){var r=n("5ca1"),i=Math.imul;r(r.S+r.F*n("79e5")((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="startsWith",u=""[a];r(r.P+r.F*n("5147")(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},f576:function(t,e,n){"use strict";var r=n("5ca1"),i=n("2e08"),o=n("a25f"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f6b3:function(t,e,n){var r=n("5ca1");r(r.S,"Reflect",{has:function(t,e){return e in t}})},f71e:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}t.exports=function(t,e){e||(e={}),"function"===typeof e&&(e={cmp:e});var n="boolean"===typeof e.cycles&&e.cycles,i=e.cmp&&function(t){return function(e){return function(n,r){var i={key:n,value:e[n]},o={key:r,value:e[r]};return t(i,o)}}}(e.cmp),o=[];return function t(e){if(e&&e.toJSON&&"function"===typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!==r(e))return JSON.stringify(e);var a,u;if(Array.isArray(e)){for(u="[",a=0;a<e.length;a++)a&&(u+=","),u+=t(e[a])||"null";return u+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=o.push(e)-1,s=Object.keys(e).sort(i&&i(e));for(u="",a=0;a<s.length;a++){var l=s[a],f=t(e[l]);f&&(u&&(u+=","),u+=JSON.stringify(l)+":"+f)}return o.splice(c,1),"{"+u+"}"}}(t)}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},f9ab:function(t,e,n){var r=n("5ca1"),i=n("96fb");r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa83:function(t,e,n){"use strict";n("386b")("blink",(function(t){return function(){return t(this,"blink","","")}}))},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fca0:function(t,e,n){var r=n("5ca1"),i=n("7726").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},fd24:function(t,e,n){var r=n("5ca1");r(r.S,"Object",{setPrototypeOf:n("8b97").set})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fee7:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("d8e8"),a=n("86cc");n("9e1e")&&r(r.P+n("c5b4"),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},ffc1:function(t,e,n){var r=n("5ca1"),i=n("504c")(!0);r(r.S,"Object",{entries:function(t){return i(t)}})}}]);
//# sourceMappingURL=chunk-vendors.b2639c2c.js.map